{"version":3,"file":"dashboard-Dl_GT9qc.js","sources":["../../src/pages/Dashboard/components/StatCard.tsx","../../src/pages/Dashboard/components/UpcomingEvents.tsx","../../src/hooks/useDashboardHealthAggregations.ts","../../src/pages/Dashboard/components/RelationshipHealthChart.tsx","../../src/pages/Dashboard/DashboardPage.tsx","../../src/routes/_protected/dashboard.tsx?tsr-split=component"],"sourcesContent":["import React from 'react'\nimport { TrendingDown, ArrowUpRight } from 'lucide-react'\n\ninterface StatCardProps {\n title: string\n value: string\n change: string\n changeType: 'increase' | 'decrease' | 'neutral'\n icon?: React.ElementType\n color?: string\n description?: string\n trend?: string\n}\n\nexport function StatCard({\n title,\n value,\n change,\n changeType,\n description,\n trend,\n}: StatCardProps) {\n return (\n <div className=\"bg-card rounded-lg shadow-sm border border-border p-6 hover:shadow-md transition-shadow\">\n <div className=\"flex items-start justify-between mb-4\">\n <div className=\"flex-1\">\n <p className=\"text-sm font-medium text-muted-foreground\">{title}</p>\n <div className=\"flex items-baseline gap-2 mt-1\">\n <p className=\"text-2xl font-bold text-foreground\">\n {value}\n </p>\n <div className=\"flex items-center gap-1\">\n {changeType === 'increase' ? (\n <ArrowUpRight className=\"h-4 w-4 text-success\" />\n ) : changeType === 'decrease' ? (\n <TrendingDown className=\"h-4 w-4 text-destructive\" />\n ) : null}\n <span\n className={`text-sm font-medium ${\n changeType === 'increase'\n ? 'text-success'\n : changeType === 'decrease'\n ? 'text-destructive'\n : 'text-muted-foreground'\n }`}\n >\n {change}\n </span>\n </div>\n </div>\n {description && (\n <p className=\"text-xs text-muted-foreground mt-1\">\n {description}\n </p>\n )}\n {trend && (\n <p className=\"text-xs font-medium text-foreground/80 mt-2\">\n {trend}\n </p>\n )}\n </div>\n </div>\n </div>\n )\n}","import { Calendar, MapPin, Users } from 'lucide-react'\nimport { format } from 'date-fns'\n\ninterface Event {\n id: string\n title: string\n type: 'conference' | 'meeting' | 'workshop' | 'visit'\n date: Date\n location: string\n participants: number\n priority: 'high' | 'medium' | 'low'\n}\n\nexport function UpcomingEvents() {\n const events: Event[] = [\n {\n id: '1',\n title: 'UN Statistical Commission',\n type: 'conference',\n date: new Date('2025-02-15'),\n location: 'New York, USA',\n participants: 150,\n priority: 'high',\n },\n {\n id: '2',\n title: 'GCC Statistics Meeting',\n type: 'meeting',\n date: new Date('2025-02-20'),\n location: 'Riyadh, Saudi Arabia',\n participants: 25,\n priority: 'high',\n },\n {\n id: '3',\n title: 'Data Innovation Workshop',\n type: 'workshop',\n date: new Date('2025-03-05'),\n location: 'Dubai, UAE',\n participants: 40,\n priority: 'medium',\n },\n {\n id: '4',\n title: 'OECD Delegation Visit',\n type: 'visit',\n date: new Date('2025-03-10'),\n location: 'Riyadh, Saudi Arabia',\n participants: 12,\n priority: 'medium',\n },\n ]\n\n const getPriorityColor = (priority: Event['priority']) => {\n switch (priority) {\n case 'high':\n return 'bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400'\n case 'medium':\n return 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400'\n case 'low':\n return 'bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400'\n }\n }\n\n const getTypeIcon = (type: Event['type']) => {\n switch (type) {\n case 'conference':\n return 'üéØ'\n case 'meeting':\n return 'ü§ù'\n case 'workshop':\n return 'üí°'\n case 'visit':\n return '‚úàÔ∏è'\n }\n }\n\n return (\n <div className=\"space-y-3\">\n {events.map((event) => (\n <div\n key={event.id}\n className=\"border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n >\n <div className=\"flex items-start gap-3\">\n <span className=\"text-2xl\" role=\"img\" aria-label={event.type}>\n {getTypeIcon(event.type)}\n </span>\n <div className=\"flex-1\">\n <h4 className=\"font-medium text-gray-900 dark:text-white\">\n {event.title}\n </h4>\n <div className=\"flex items-center gap-2 mt-1 text-xs text-gray-600 dark:text-gray-400\">\n <Calendar className=\"h-3 w-3\" />\n <span>{format(event.date, 'MMM dd, yyyy')}</span>\n </div>\n <div className=\"flex items-center gap-2 mt-1 text-xs text-gray-600 dark:text-gray-400\">\n <MapPin className=\"h-3 w-3\" />\n <span>{event.location}</span>\n </div>\n <div className=\"flex items-center gap-2 mt-2\">\n <span\n className={`px-2 py-0.5 text-xs rounded-full ${getPriorityColor(\n event.priority\n )}`}\n >\n {event.priority}\n </span>\n <div className=\"flex items-center gap-1 text-xs text-gray-500\">\n <Users className=\"h-3 w-3\" />\n <span>{event.participants}</span>\n </div>\n </div>\n </div>\n </div>\n </div>\n ))}\n </div>\n )\n}","/**\n * useDashboardHealthAggregations Hook\n * Feature: 030-health-commitment - User Story 2\n *\n * TanStack Query hook for fetching dashboard health aggregations grouped by region, bloc, or classification\n */\n\nimport { useQuery } from '@tanstack/react-query';\nimport {\n  getDashboardAggregations,\n  type DashboardAggregationsResponse,\n  type DashboardAggregationsFilter,\n} from '@/services/dossier-stats.service';\n\nexport interface UseDashboardHealthAggregationsOptions {\n  /**\n   * Field to group aggregations by\n   * - 'region': Group countries by region\n   * - 'org_type': Group organizations by organization type\n   */\n  groupBy: 'region' | 'org_type';\n  /**\n   * Optional filter criteria\n   */\n  filter?: DashboardAggregationsFilter;\n  /**\n   * Enable or disable the query (default: true)\n   */\n  enabled?: boolean;\n}\n\n/**\n * Hook to fetch dashboard health aggregations with caching and automatic background refresh\n *\n * Features:\n * - 5-minute stale time (data considered fresh)\n * - 30-minute garbage collection time\n * - Background refetch every 5 minutes (dashboard stays live)\n * - Automatic refetch on window focus\n * - Meets ‚â§2s SLA for regional aggregations per spec\n *\n * @param options - Hook options\n * @returns TanStack Query result\n */\nexport function useDashboardHealthAggregations(\n  options: UseDashboardHealthAggregationsOptions\n) {\n  const { groupBy, filter, enabled = true } = options;\n\n  return useQuery<DashboardAggregationsResponse, Error>({\n    queryKey: ['dashboardHealthAggregations', groupBy, filter],\n    queryFn: () => getDashboardAggregations(groupBy, filter),\n    staleTime: 5 * 60 * 1000, // 5 minutes (data considered fresh)\n    gcTime: 30 * 60 * 1000, // 30 minutes (garbage collection)\n    refetchInterval: 5 * 60 * 1000, // Background refetch every 5 minutes (live dashboard)\n    refetchOnWindowFocus: true, // Refetch when user returns to tab\n    enabled: enabled && !!groupBy, // Only fetch if enabled and groupBy is specified\n  });\n}\n","/**\n * Relationship Health Chart Component\n * Feature: 030-health-commitment - User Story 2\n *\n * Displays aggregated health scores grouped by region/bloc/classification\n * Connects to real data via useDashboardHealthAggregations hook\n * Mobile-first, RTL-compatible, WCAG AA compliant\n */\n\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from '@tanstack/react-router';\nimport { useDashboardHealthAggregations } from '@/hooks/useDashboardHealthAggregations';\nimport { getHealthScoreColor, getHealthScoreLabel } from '@/services/dossier-stats.service';\n\ninterface RelationshipHealthChartProps {\n  /**\n   * Field to group aggregations by (default: 'region')\n   * - 'region': Group countries by region\n   * - 'org_type': Group organizations by organization type\n   */\n  groupBy?: 'region' | 'org_type';\n  /**\n   * Optional filter to apply to aggregations\n   */\n  filter?: {\n    dossierType?: 'country' | 'organization' | 'forum';\n    minHealthScore?: number;\n  };\n}\n\nexport function RelationshipHealthChart({\n  groupBy = 'region',\n  filter,\n}: RelationshipHealthChartProps) {\n  const { t, i18n } = useTranslation();\n  const isRTL = i18n.language === 'ar';\n  const navigate = useNavigate();\n\n  // Fetch dashboard aggregations\n  const { data, isLoading, isError, error } = useDashboardHealthAggregations({\n    groupBy,\n    filter,\n  });\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div className=\"space-y-4 animate-pulse\" dir={isRTL ? 'rtl' : 'ltr'}>\n        {[1, 2, 3, 4, 5].map((i) => (\n          <div key={i} className=\"space-y-2\">\n            <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded\" />\n            <div className=\"grid grid-cols-3 gap-2\">\n              <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded\" />\n              <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded\" />\n              <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  // Error state\n  if (isError) {\n    return (\n      <div\n        className=\"px-4 py-3 text-sm text-red-700 dark:text-red-400 bg-red-100 dark:bg-red-900/20 rounded-lg\"\n        dir={isRTL ? 'rtl' : 'ltr'}\n        role=\"alert\"\n        aria-live=\"polite\"\n      >\n        <strong className=\"font-medium\">{t('error.failedToLoadData')}:</strong>{' '}\n        {error?.message || t('error.unknownError')}\n      </div>\n    );\n  }\n\n  // Empty state\n  if (!data || data.aggregations.length === 0) {\n    return (\n      <div\n        className=\"px-4 py-8 text-center text-gray-500 dark:text-gray-400\"\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <p className=\"text-sm sm:text-base\">{t('dashboard.noHealthData')}</p>\n        <p className=\"mt-2 text-xs sm:text-sm\">{t('dashboard.healthDataHint')}</p>\n      </div>\n    );\n  }\n\n  /**\n   * Get health color class for background/border\n   */\n  const getHealthBgColor = (score: number): string => {\n    if (score >= 80) return 'bg-green-500 dark:bg-green-600';\n    if (score >= 60) return 'bg-yellow-500 dark:bg-yellow-600';\n    if (score >= 40) return 'bg-orange-500 dark:bg-orange-600';\n    return 'bg-red-500 dark:bg-red-600';\n  };\n\n  /**\n   * Navigate to dossier list filtered by region and sorted by health (lowest first)\n   */\n  const handleGroupClick = (groupValue: string) => {\n    navigate({\n      to: '/dossiers',\n      search: {\n        [groupBy]: groupValue,\n        sort: 'health:asc', // Show lowest health first for attention\n      },\n    });\n  };\n\n  /**\n   * Handle keyboard navigation (Enter key)\n   */\n  const handleKeyDown = (event: React.KeyboardEvent, groupValue: string) => {\n    if (event.key === 'Enter') {\n      handleGroupClick(groupValue);\n    }\n  };\n\n  return (\n    <div className=\"space-y-3 sm:space-y-4\" dir={isRTL ? 'rtl' : 'ltr'}>\n      {data.aggregations.map((aggregation) => (\n        <div\n          key={aggregation.groupValue}\n          className=\"space-y-2 px-3 py-2 sm:px-4 sm:py-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-colors cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          onClick={() => handleGroupClick(aggregation.groupValue)}\n          onKeyDown={(e) => handleKeyDown(e, aggregation.groupValue)}\n          tabIndex={0}\n          role=\"button\"\n          aria-label={`${t('dashboard.viewDossiersIn')} ${aggregation.groupValue}: ${t('dashboard.averageHealthScore')} ${aggregation.averageHealthScore}`}\n        >\n          {/* Header: Group Name + Health Label */}\n          <div className=\"flex items-center justify-between\">\n            <span className=\"font-medium text-sm sm:text-base text-gray-900 dark:text-white\">\n              {aggregation.groupValue}\n            </span>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\n                {getHealthScoreLabel(aggregation.averageHealthScore)}\n              </span>\n              <span className={`text-xs sm:text-sm font-medium ${getHealthScoreColor(aggregation.averageHealthScore)}`}>\n                {aggregation.averageHealthScore}\n              </span>\n            </div>\n          </div>\n\n          {/* Health Score Progress Bar */}\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center justify-between text-xs\">\n              <span className=\"text-gray-600 dark:text-gray-400\">\n                {t('dashboard.overallHealth')}\n              </span>\n              <span className=\"font-medium text-gray-900 dark:text-white\">\n                {aggregation.dossierCount} {t('dashboard.dossiers')}\n              </span>\n            </div>\n            <div className=\"h-2 sm:h-3 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\n              <div\n                className={`h-full ${getHealthBgColor(aggregation.averageHealthScore)} transition-all`}\n                style={{ width: `${aggregation.averageHealthScore}%` }}\n                role=\"progressbar\"\n                aria-valuenow={aggregation.averageHealthScore}\n                aria-valuemin={0}\n                aria-valuemax={100}\n                aria-label={t('dashboard.healthScore')}\n              />\n            </div>\n          </div>\n\n          {/* Health Distribution Breakdown */}\n          <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-1 sm:gap-2 text-xs\">\n            <div className=\"flex items-center gap-1 sm:gap-2\">\n              <div className=\"w-2 h-2 sm:w-3 sm:h-3 bg-green-500 dark:bg-green-600 rounded-full\" />\n              <span className=\"text-gray-600 dark:text-gray-400\">\n                {t('dashboard.excellent')}: {aggregation.healthDistribution.excellent}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-1 sm:gap-2\">\n              <div className=\"w-2 h-2 sm:w-3 sm:h-3 bg-yellow-500 dark:bg-yellow-600 rounded-full\" />\n              <span className=\"text-gray-600 dark:text-gray-400\">\n                {t('dashboard.good')}: {aggregation.healthDistribution.good}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-1 sm:gap-2\">\n              <div className=\"w-2 h-2 sm:w-3 sm:h-3 bg-orange-500 dark:bg-orange-600 rounded-full\" />\n              <span className=\"text-gray-600 dark:text-gray-400\">\n                {t('dashboard.fair')}: {aggregation.healthDistribution.fair}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-1 sm:gap-2\">\n              <div className=\"w-2 h-2 sm:w-3 sm:h-3 bg-red-500 dark:bg-red-600 rounded-full\" />\n              <span className=\"text-gray-600 dark:text-gray-400\">\n                {t('dashboard.poor')}: {aggregation.healthDistribution.poor}\n              </span>\n            </div>\n          </div>\n        </div>\n      ))}\n\n      {/* Legend */}\n      <div className=\"pt-3 sm:pt-4 border-t border-gray-200 dark:border-gray-700\">\n        <div className=\"flex flex-wrap items-center justify-around gap-2 sm:gap-4 text-xs\">\n          <div className=\"flex items-center gap-1 sm:gap-2\">\n            <div className=\"w-2 h-2 sm:w-3 sm:h-3 bg-green-500 dark:bg-green-600 rounded-full\" />\n            <span className=\"text-gray-600 dark:text-gray-400\">\n              {t('dashboard.excellent')} (80-100)\n            </span>\n          </div>\n          <div className=\"flex items-center gap-1 sm:gap-2\">\n            <div className=\"w-2 h-2 sm:w-3 sm:h-3 bg-yellow-500 dark:bg-yellow-600 rounded-full\" />\n            <span className=\"text-gray-600 dark:text-gray-400\">\n              {t('dashboard.good')} (60-79)\n            </span>\n          </div>\n          <div className=\"flex items-center gap-1 sm:gap-2\">\n            <div className=\"w-2 h-2 sm:w-3 sm:h-3 bg-orange-500 dark:bg-orange-600 rounded-full\" />\n            <span className=\"text-gray-600 dark:text-gray-400\">\n              {t('dashboard.fair')} (40-59)\n            </span>\n          </div>\n          <div className=\"flex items-center gap-1 sm:gap-2\">\n            <div className=\"w-2 h-2 sm:w-3 sm:h-3 bg-red-500 dark:bg-red-600 rounded-full\" />\n            <span className=\"text-gray-600 dark:text-gray-400\">\n              {t('dashboard.poor')} (0-39)\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useMemo } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n AlertTriangle,\n Building2,\n CheckCircle,\n Clock,\n FileText,\n Globe2,\n ShieldCheck,\n} from 'lucide-react'\nimport { StatCard } from './components/StatCard'\nimport { UpcomingEvents } from './components/UpcomingEvents'\nimport { RelationshipHealthChart } from './components/RelationshipHealthChart'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\n\ninterface WorkflowSnapshot {\n label: string\n total: number\n delta: string\n status: 'positive' | 'neutral' | 'negative'\n description: string\n}\n\ninterface AlertItem {\n id: string\n title: string\n detail: string\n severity: 'high' | 'medium'\n owner: string\n dueIn: string\n}\n\ninterface IntelligenceHighlight {\n id: string\n title: string\n summary: string\n confidence: number\n classification: 'confidential' | 'restricted' | 'public'\n}\n\nexport function DashboardPage() {\n const { t } = useTranslation()\n\n const stats = useMemo(\n () => [\n {\n title: t('dashboard.metrics.partners', 'Active bilateral partners'),\n value: '64',\n change: t('dashboard.metrics.partnersChange', '+4 since Q3'),\n changeType: 'increase' as const,\n description: t('dashboard.metrics.partnersDescription', '12 strategic partners flagged for quarterly review'),\n trend: t('dashboard.metrics.partnersTrend', '95% of partner scorecards healthy'),\n },\n {\n title: t('dashboard.metrics.mous', 'MoUs in workflow'),\n value: '28',\n change: t('dashboard.metrics.mousChange', '5 awaiting external review'),\n changeType: 'neutral' as const,\n description: t('dashboard.metrics.mousDescription', 'Average turnaround 18 days'),\n trend: t('dashboard.metrics.mousTrend', 'Three agreements expiring within 30 days'),\n },\n {\n title: t('dashboard.metrics.events', 'Upcoming missions & events'),\n value: '17',\n change: t('dashboard.metrics.eventsChange', '+2 high priority'),\n changeType: 'increase' as const,\n description: t('dashboard.metrics.eventsDescription', 'Calendar coverage at 82% capacity'),\n trend: t('dashboard.metrics.eventsTrend', 'Conflict detection triggered twice this week'),\n },\n {\n title: t('dashboard.metrics.intelligence', 'Intelligence briefs published'),\n value: '42',\n change: t('dashboard.metrics.intelligenceChange', '88% with confidence ‚â• 0.75'),\n changeType: 'increase' as const,\n description: t('dashboard.metrics.intelligenceDescription', 'AI-assisted summarisation used on 31 briefs'),\n trend: t('dashboard.metrics.intelligenceTrend', 'Classification SLA at 100% compliance'),\n },\n ],\n [t]\n )\n\n const workflowSnapshot: WorkflowSnapshot[] = [\n {\n label: t('dashboard.workflow.internalReview', 'Internal review'),\n total: 9,\n delta: t('dashboard.workflow.internalReviewDelta', '‚ñº 2 since last week'),\n status: 'positive',\n description: t('dashboard.workflow.internalReviewDescription', 'All drafts include legal comments'),\n },\n {\n label: t('dashboard.workflow.externalReview', 'External review'),\n total: 5,\n delta: t('dashboard.workflow.externalReviewDelta', '‚ñ≤ 1 requires policy note'),\n status: 'negative',\n description: t('dashboard.workflow.externalReviewDescription', 'Waiting on partner signature for UAE statistics exchange'),\n },\n {\n label: t('dashboard.workflow.negotiation', 'Negotiation'),\n total: 3,\n delta: t('dashboard.workflow.negotiationDelta', 'steady'),\n status: 'neutral',\n description: t('dashboard.workflow.negotiationDescription', 'Focus on renewable energy collaboration with EU bloc'),\n },\n {\n label: t('dashboard.workflow.renewals', 'Renewals this quarter'),\n total: 6,\n delta: t('dashboard.workflow.renewalsDelta', '‚ñ≤ 2 triggered by expiry alerts'),\n status: 'positive',\n description: t('dashboard.workflow.renewalsDescription', 'Auto-reminders sent to legal and finance owners'),\n },\n ]\n\n const alertItems: AlertItem[] = [\n {\n id: 'alert-1',\n title: t('dashboard.alerts.expiringMou', 'MoU with ABS (Australia) expires in 21 days'),\n detail: t('dashboard.alerts.expiringMouDetail', 'Pending financial annex approval and updated data governance addendum.'),\n severity: 'high',\n owner: 'Legal Affairs',\n dueIn: t('dashboard.alerts.expiringMouDue', 'Review due in 7 days'),\n },\n {\n id: 'alert-2',\n title: t('dashboard.alerts.conflict', 'Schedule conflict: OECD mission vs GCC summit'),\n detail: t('dashboard.alerts.conflictDetail', 'Both events request the deputy governor. Propose alternate lead or reschedule OECD briefing.'),\n severity: 'medium',\n owner: 'International Relations',\n dueIn: t('dashboard.alerts.conflictDue', 'Escalate by 30 January'),\n },\n {\n id: 'alert-3',\n title: t('dashboard.alerts.security', 'Intelligence brief requires reclassification'),\n detail: t('dashboard.alerts.securityDetail', 'AI summary flagged sensitive source. Awaiting manual review for downgrade.'),\n severity: 'high',\n owner: 'Security Operations',\n dueIn: t('dashboard.alerts.securityDue', 'Complete within 48 hours'),\n },\n ]\n\n const intelligenceHighlights: IntelligenceHighlight[] = [\n {\n id: 'intel-1',\n title: t('dashboard.intelligence.gdp', 'Regional GDP harmonisation opportunity'),\n summary: t(\n 'dashboard.intelligence.gdpSummary',\n 'GCC working group proposes shared methodology. Requires delegation approval before March summit.'\n ),\n confidence: 0.82,\n classification: 'restricted',\n },\n {\n id: 'intel-2',\n title: t('dashboard.intelligence.ai', 'AI-assisted data exchange pilot'),\n summary: t(\n 'dashboard.intelligence.aiSummary',\n 'AnythingLLM pilot reduced review time by 28%. Recommend expanding to agricultural statistics domain.'\n ),\n confidence: 0.91,\n classification: 'confidential',\n },\n {\n id: 'intel-3',\n title: t('dashboard.intelligence.training', 'Capacity building demand from francophone partners'),\n summary: t(\n 'dashboard.intelligence.trainingSummary',\n 'Six African national statistics offices requested advanced sampling workshops. Suggested schedule Q2 2025.'\n ),\n confidence: 0.74,\n classification: 'restricted',\n },\n ]\n\n const performanceTargets = [\n {\n icon: Globe2,\n label: t('dashboard.performance.bilingual', 'Bilingual coverage'),\n value: '100%',\n description: t('dashboard.performance.bilingualDescription', 'All priority content available in Arabic & English'),\n },\n {\n icon: ShieldCheck,\n label: t('dashboard.performance.mfa', 'MFA compliance'),\n value: '100%',\n description: t('dashboard.performance.mfaDescription', 'TOTP enforced for 312 active accounts'),\n },\n {\n icon: FileText,\n label: t('dashboard.performance.contracts', 'Contract test coverage'),\n value: '52 / 52',\n description: t('dashboard.performance.contractsDescription', 'Latest schema sync completed 26 September 2025'),\n },\n {\n icon: Building2,\n label: t('dashboard.performance.organisations', 'Organisation hierarchies verified'),\n value: '31',\n description: t('dashboard.performance.organisationsDescription', 'All delegations mapped with delegation expiry checks'),\n },\n ]\n\n return (\n <div className=\"w-full space-y-6\">\n <section className=\"flex flex-col gap-2\">\n <h1 className=\"text-2xl font-bold text-foreground sm:text-3xl\">\n {t('dashboard.title', 'Operations overview')}\n </h1>\n <p className=\"max-w-3xl text-sm text-muted-foreground sm:text-base\">\n {t(\n 'dashboard.subtitle',\n 'Live status of international commitments, intelligence briefs, and partner activities across the GASTAT dossier.'\n )}\n </p>\n </section>\n\n <section className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4\">\n {stats.map((stat) => (\n <StatCard key={stat.title} {...stat} />\n ))}\n </section>\n\n <section className=\"grid gap-6 2xl:grid-cols-3\">\n <Card className=\"2xl:col-span-2\">\n <CardHeader className=\"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between\">\n <CardTitle>{t('dashboard.relationshipHealth', 'Relationship health')}</CardTitle>\n <span className=\"text-sm text-muted-foreground\">\n {t('dashboard.relationshipDescription', 'Aggregated scores across top partner blocs (rolling 90 days)')}\n </span>\n </CardHeader>\n <CardContent>\n <RelationshipHealthChart />\n </CardContent>\n </Card>\n <Card>\n <CardHeader>\n <CardTitle>{t('dashboard.upcomingMissions', 'Upcoming missions')}</CardTitle>\n </CardHeader>\n <CardContent>\n <UpcomingEvents />\n </CardContent>\n </Card>\n </section>\n\n <section className=\"grid gap-6 2xl:grid-cols-3\">\n <Card className=\"2xl:col-span-2\">\n <CardHeader>\n <CardTitle>{t('dashboard.workflowSnapshotTitle', 'Workflow snapshot')}</CardTitle>\n </CardHeader>\n <CardContent className=\"space-y-4\">\n {workflowSnapshot.map((item) => (\n <div\n key={item.label}\n className=\"flex flex-col gap-2 rounded-lg border border-border bg-card p-4 shadow-sm sm:flex-row sm:items-center sm:justify-between\"\n >\n <div>\n <p className=\"text-sm font-semibold text-foreground\">{item.label}</p>\n <p className=\"text-xs text-muted-foreground\">{item.description}</p>\n </div>\n <div className=\"flex items-center gap-4\">\n <span className=\"text-2xl font-bold text-primary\">{item.total}</span>\n <span\n className={\n item.status === 'positive'\n ? 'text-xs font-medium text-success'\n : item.status === 'negative'\n ? 'text-xs font-medium text-destructive'\n : 'text-xs font-medium text-muted-foreground'\n }\n >\n {item.delta}\n </span>\n </div>\n </div>\n ))}\n </CardContent>\n </Card>\n <Card>\n <CardHeader className=\"flex items-center gap-2\">\n <AlertTriangle className=\"h-5 w-5 text-warning\" />\n <CardTitle>{t('dashboard.alerts.title', 'High-risk alerts')}</CardTitle>\n </CardHeader>\n <CardContent className=\"space-y-4\">\n {alertItems.map((alert) => (\n <div\n key={alert.id}\n className=\"rounded-lg border border-warning/20 bg-warning/10 p-4\"\n >\n <div className=\"flex items-start justify-between gap-3\">\n <h3 className=\"text-sm font-semibold text-warning-foreground\">\n {alert.title}\n </h3>\n <span className=\"text-xs font-medium text-warning-foreground/80\">\n {alert.dueIn}\n </span>\n </div>\n <p className=\"mt-2 text-sm text-warning-foreground/90\">{alert.detail}</p>\n <div className=\"mt-3 inline-flex items-center gap-2 rounded-full bg-background/70 px-3 py-1 text-xs font-medium text-warning-foreground shadow-sm\">\n <ShieldCheck className=\"h-3 w-3\" />\n {alert.owner}\n </div>\n </div>\n ))}\n </CardContent>\n </Card>\n </section>\n\n <section className=\"grid gap-6 sm:grid-cols-2 2xl:grid-cols-4\">\n {performanceTargets.map(({ icon: Icon, label, value, description }) => (\n <Card key={label} className=\"col-span-1\">\n <CardHeader className=\"flex flex-row items-center justify-between\">\n <CardTitle className=\"text-sm font-semibold text-foreground\">\n {label}\n </CardTitle>\n <Icon className=\"h-5 w-5 text-primary\" />\n </CardHeader>\n <CardContent>\n <p className=\"text-2xl font-bold text-foreground\">{value}</p>\n <p className=\"mt-2 text-sm text-muted-foreground\">{description}</p>\n </CardContent>\n </Card>\n ))}\n </section>\n\n <section className=\"grid gap-6 md:grid-cols-2\">\n <Card>\n <CardHeader className=\"flex items-center gap-2\">\n <CheckCircle className=\"h-5 w-5 text-success\" />\n <CardTitle>{t('dashboard.intelligenceHighlights', 'Intelligence highlights')}</CardTitle>\n </CardHeader>\n <CardContent className=\"space-y-4\">\n {intelligenceHighlights.map((highlight) => (\n <div\n key={highlight.id}\n className=\"rounded-lg border border-border bg-card p-4 shadow-sm\"\n >\n <div className=\"flex items-center justify-between\">\n <h3 className=\"text-sm font-semibold text-foreground\">\n {highlight.title}\n </h3>\n <span className=\"text-xs font-medium text-muted-foreground\">\n {t('dashboard.confidence', 'Confidence')}: {(highlight.confidence * 100).toFixed(0)}%\n </span>\n </div>\n <p className=\"mt-2 text-sm text-muted-foreground\">{highlight.summary}</p>\n <span className=\"mt-3 inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary\">\n <Clock className=\"h-3 w-3\" />\n {highlight.classification.toUpperCase()}\n </span>\n </div>\n ))}\n </CardContent>\n </Card>\n <Card>\n <CardHeader>\n <CardTitle>{t('dashboard.keyDates', 'Key milestones')}</CardTitle>\n </CardHeader>\n <CardContent className=\"space-y-4\">\n <div className=\"rounded-lg border border-border bg-card p-4 shadow-sm\">\n <h3 className=\"text-sm font-semibold text-foreground\">\n {t('dashboard.milestones.q1', 'Q1: North Africa statistical forum')}\n </h3>\n <p className=\"mt-1 text-sm text-muted-foreground\">\n {t(\n 'dashboard.milestones.q1Description',\n 'Finalize agenda, confirm speakers, and publish bilingual briefing pack by 10 February.'\n )}\n </p>\n </div>\n <div className=\"rounded-lg border border-border bg-card p-4 shadow-sm\">\n <h3 className=\"text-sm font-semibold text-foreground\">\n {t('dashboard.milestones.q2', 'Q2: Data exchange sandbox rollout')}\n </h3>\n <p className=\"mt-1 text-sm text-muted-foreground\">\n {t(\n 'dashboard.milestones.q2Description',\n 'Deploy secure upload workflow with 50MB artefact validation and audit trails.'\n )}\n </p>\n </div>\n </CardContent>\n </Card>\n </section>\n </div>\n )\n}","import { createFileRoute } from '@tanstack/react-router'\nimport { DashboardPage } from '../../pages/Dashboard'\n\nexport const Route = createFileRoute('/_protected/dashboard')({\n component: DashboardPage,\n})\n"],"names":["StatCard","title","value","change","changeType","description","trend","jsx","jsxs","ArrowUpRight","TrendingDown","UpcomingEvents","events","getPriorityColor","priority","getTypeIcon","type","event","Calendar","format","MapPin","Users","useDashboardHealthAggregations","options","groupBy","filter","enabled","useQuery","getDashboardAggregations","RelationshipHealthChart","i18n","useTranslation","isRTL","navigate","useNavigate","data","isLoading","isError","error","i","getHealthBgColor","score","handleGroupClick","groupValue","handleKeyDown","aggregation","e","getHealthScoreLabel","getHealthScoreColor","DashboardPage","t","stats","useMemo","workflowSnapshot","alertItems","intelligenceHighlights","performanceTargets","Globe2","ShieldCheck","FileText","Building2","stat","Card","CardHeader","CardTitle","CardContent","item","AlertTriangle","alert","Icon","label","CheckCircle","highlight","Clock","SplitComponent"],"mappings":"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"}