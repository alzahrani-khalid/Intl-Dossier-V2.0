{"version":3,"file":"index-CE9S9eci.js","sources":["../../src/pages/engagements/EngagementsListPage.tsx","../../src/routes/_protected/engagements/index.tsx?tsr-split=component"],"sourcesContent":["/**\n * Engagements List Page\n * Feature: engagements-entity-management\n *\n * Main page for viewing and managing engagement dossiers.\n * Mobile-first design with RTL support.\n */\n\nimport { useState, useMemo } from 'react'\nimport { useNavigate } from '@tanstack/react-router'\nimport { useTranslation } from 'react-i18next'\nimport { motion } from 'framer-motion'\nimport {\n  Plus,\n  Search,\n  Calendar,\n  MapPin,\n  Users,\n  ChevronRight,\n  Loader2,\n  ShieldAlert,\n  SlidersHorizontal,\n  X,\n  Video,\n  Building2,\n  Globe,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Badge } from '@/components/ui/badge'\nimport { Card, CardContent } from '@/components/ui/card'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetTrigger,\n} from '@/components/ui/sheet'\nimport { useEngagements } from '@/hooks/useEngagements'\nimport type { EngagementSearchParams, EngagementType, EngagementCategory, EngagementStatus } from '@/types/engagement.types'\nimport {\n  ENGAGEMENT_TYPE_LABELS,\n  ENGAGEMENT_CATEGORY_LABELS,\n  ENGAGEMENT_STATUS_LABELS,\n} from '@/types/engagement.types'\n\nexport function EngagementsListPage() {\n  const { t, i18n } = useTranslation('engagements')\n  const isRTL = i18n.language === 'ar'\n  const navigate = useNavigate()\n\n  // Search & filter state\n  const [searchTerm, setSearchTerm] = useState('')\n  const [typeFilter, setTypeFilter] = useState<EngagementType | 'all'>('all')\n  const [categoryFilter, setCategoryFilter] = useState<EngagementCategory | 'all'>('all')\n  const [statusFilter, setStatusFilter] = useState<EngagementStatus | 'all'>('all')\n  const [isFiltersOpen, setIsFiltersOpen] = useState(false)\n\n  // Debounced search\n  const [debouncedSearch, setDebouncedSearch] = useState('')\n\n  // Debounce search input\n  useMemo(() => {\n    const timeout = setTimeout(() => {\n      setDebouncedSearch(searchTerm)\n    }, 300)\n    return () => clearTimeout(timeout)\n  }, [searchTerm])\n\n  // Build search params\n  const searchParams: EngagementSearchParams = useMemo(() => ({\n    search: debouncedSearch || undefined,\n    engagement_type: typeFilter !== 'all' ? typeFilter : undefined,\n    engagement_category: categoryFilter !== 'all' ? categoryFilter : undefined,\n    engagement_status: statusFilter !== 'all' ? statusFilter : undefined,\n    limit: 50,\n  }), [debouncedSearch, typeFilter, categoryFilter, statusFilter])\n\n  // Fetch engagements\n  const { data, isLoading, isError, error } = useEngagements(searchParams)\n\n  // Navigation handlers\n  const handleCreateEngagement = () => {\n    navigate({ to: '/engagements/create' })\n  }\n\n  const handleEngagementClick = (engagementId: string) => {\n    navigate({ to: '/engagements/$engagementId', params: { engagementId } })\n  }\n\n  // Get status badge color\n  const getStatusColor = (status: EngagementStatus) => {\n    switch (status) {\n      case 'completed': return 'bg-green-500/10 text-green-600 border-green-200'\n      case 'in_progress': return 'bg-blue-500/10 text-blue-600 border-blue-200'\n      case 'confirmed': return 'bg-emerald-500/10 text-emerald-600 border-emerald-200'\n      case 'planned': return 'bg-yellow-500/10 text-yellow-600 border-yellow-200'\n      case 'postponed': return 'bg-orange-500/10 text-orange-600 border-orange-200'\n      case 'cancelled': return 'bg-red-500/10 text-red-600 border-red-200'\n      default: return 'bg-gray-500/10 text-gray-600 border-gray-200'\n    }\n  }\n\n  // Get type icon\n  const getTypeIcon = (type: EngagementType) => {\n    switch (type) {\n      case 'bilateral_meeting':\n      case 'consultation':\n        return <Users className=\"h-4 w-4\" />\n      case 'mission':\n      case 'delegation':\n      case 'official_visit':\n        return <Globe className=\"h-4 w-4\" />\n      case 'summit':\n        return <Building2 className=\"h-4 w-4\" />\n      default:\n        return <Calendar className=\"h-4 w-4\" />\n    }\n  }\n\n  // Format date range\n  const formatDateRange = (startDate: string, endDate: string) => {\n    const start = new Date(startDate)\n    const end = new Date(endDate)\n    const options: Intl.DateTimeFormatOptions = { month: 'short', day: 'numeric', year: 'numeric' }\n    const locale = isRTL ? 'ar-SA' : 'en-US'\n\n    if (start.toDateString() === end.toDateString()) {\n      return start.toLocaleDateString(locale, options)\n    }\n    return `${start.toLocaleDateString(locale, { month: 'short', day: 'numeric' })} - ${end.toLocaleDateString(locale, options)}`\n  }\n\n  // Clear filters\n  const clearFilters = () => {\n    setSearchTerm('')\n    setTypeFilter('all')\n    setCategoryFilter('all')\n    setStatusFilter('all')\n    setIsFiltersOpen(false)\n  }\n\n  const hasActiveFilters = typeFilter !== 'all' || categoryFilter !== 'all' || statusFilter !== 'all'\n  const activeFilterCount = [typeFilter, categoryFilter, statusFilter].filter(f => f !== 'all').length\n\n  // Stats\n  const totalEngagements = data?.pagination.total || 0\n\n  // Engagement type options\n  const engagementTypes: EngagementType[] = [\n    'bilateral_meeting', 'mission', 'delegation', 'summit',\n    'working_group', 'roundtable', 'official_visit', 'consultation', 'other'\n  ]\n\n  // Engagement category options\n  const engagementCategories: EngagementCategory[] = [\n    'diplomatic', 'statistical', 'technical', 'economic',\n    'cultural', 'educational', 'research', 'other'\n  ]\n\n  // Engagement status options\n  const engagementStatuses: EngagementStatus[] = [\n    'planned', 'confirmed', 'in_progress', 'completed', 'postponed', 'cancelled'\n  ]\n\n  // Loading state\n  if (isLoading && !data) {\n    return (\n      <div className=\"flex min-h-96 items-center justify-center\">\n        <Loader2 className=\"size-8 animate-spin text-primary\" />\n      </div>\n    )\n  }\n\n  // Error state\n  if (isError) {\n    return (\n      <div className=\"flex min-h-96 flex-col items-center justify-center gap-4\">\n        <ShieldAlert className=\"size-12 text-destructive\" />\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-foreground\">\n            {t('error.title', 'Failed to load engagements')}\n          </h2>\n          <p className=\"text-sm text-muted-foreground\">\n            {error?.message || t('error.message', 'An error occurred while fetching data')}\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen\" dir={isRTL ? 'rtl' : 'ltr'}>\n      {/* Header */}\n      <header className=\"border-b bg-background sticky top-0 z-10\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6\">\n          <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n            <div>\n              <h1 className=\"text-2xl sm:text-3xl font-bold text-start\">\n                {t('title', 'Engagements')}\n              </h1>\n              <p className=\"text-sm sm:text-base text-muted-foreground mt-1 text-start\">\n                {t('subtitle', 'Manage bilateral meetings, missions, and delegations')}\n              </p>\n            </div>\n\n            <Button onClick={handleCreateEngagement} className=\"w-full sm:w-auto\">\n              <Plus className={`h-4 w-4 ${isRTL ? 'ms-2' : 'me-2'}`} />\n              {t('actions.createEngagement', 'New Engagement')}\n            </Button>\n          </div>\n\n          {/* Search and Filters */}\n          <div className=\"mt-4 sm:mt-6 flex flex-col sm:flex-row gap-3\">\n            {/* Search Input */}\n            <div className=\"relative flex-1\">\n              <Search className={`absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground ${isRTL ? 'end-3' : 'start-3'}`} />\n              <Input\n                placeholder={t('search.placeholder', 'Search engagements...')}\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`${isRTL ? 'pe-10' : 'ps-10'} h-11`}\n              />\n              {searchTerm && (\n                <button\n                  onClick={() => setSearchTerm('')}\n                  className={`absolute top-1/2 -translate-y-1/2 ${isRTL ? 'start-3' : 'end-3'}`}\n                >\n                  <X className=\"h-4 w-4 text-muted-foreground hover:text-foreground\" />\n                </button>\n              )}\n            </div>\n\n            {/* Desktop Filters */}\n            <div className=\"hidden sm:flex gap-2\">\n              <Select\n                value={typeFilter}\n                onValueChange={(value) => setTypeFilter(value as EngagementType | 'all')}\n              >\n                <SelectTrigger className=\"w-[180px] h-11\">\n                  <Calendar className=\"h-4 w-4 me-2 text-muted-foreground\" />\n                  <SelectValue placeholder={t('filters.type', 'Type')} />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">{t('filters.allTypes', 'All types')}</SelectItem>\n                  {engagementTypes.map((type) => (\n                    <SelectItem key={type} value={type}>\n                      {isRTL ? ENGAGEMENT_TYPE_LABELS[type].ar : ENGAGEMENT_TYPE_LABELS[type].en}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n\n              <Select\n                value={statusFilter}\n                onValueChange={(value) => setStatusFilter(value as EngagementStatus | 'all')}\n              >\n                <SelectTrigger className=\"w-[160px] h-11\">\n                  <SelectValue placeholder={t('filters.status', 'Status')} />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">{t('filters.allStatuses', 'All statuses')}</SelectItem>\n                  {engagementStatuses.map((status) => (\n                    <SelectItem key={status} value={status}>\n                      {isRTL ? ENGAGEMENT_STATUS_LABELS[status].ar : ENGAGEMENT_STATUS_LABELS[status].en}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n\n              {hasActiveFilters && (\n                <Button variant=\"ghost\" size=\"sm\" onClick={clearFilters}>\n                  <X className=\"h-4 w-4 me-1\" />\n                  {t('filters.clear', 'Clear')}\n                </Button>\n              )}\n            </div>\n\n            {/* Mobile Filters Sheet */}\n            <Sheet open={isFiltersOpen} onOpenChange={setIsFiltersOpen}>\n              <SheetTrigger asChild className=\"sm:hidden\">\n                <Button variant=\"outline\" className=\"h-11\">\n                  <SlidersHorizontal className=\"h-4 w-4 me-2\" />\n                  {t('filters.title', 'Filters')}\n                  {activeFilterCount > 0 && (\n                    <Badge variant=\"secondary\" className=\"ms-2\">{activeFilterCount}</Badge>\n                  )}\n                </Button>\n              </SheetTrigger>\n              <SheetContent side={isRTL ? 'left' : 'right'}>\n                <SheetHeader>\n                  <SheetTitle>{t('filters.title', 'Filters')}</SheetTitle>\n                </SheetHeader>\n                <div className=\"mt-6 space-y-4\">\n                  {/* Type Filter */}\n                  <div>\n                    <label className=\"text-sm font-medium mb-2 block\">\n                      {t('filters.type', 'Engagement Type')}\n                    </label>\n                    <Select\n                      value={typeFilter}\n                      onValueChange={(value) => setTypeFilter(value as EngagementType | 'all')}\n                    >\n                      <SelectTrigger className=\"w-full\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"all\">{t('filters.allTypes', 'All types')}</SelectItem>\n                        {engagementTypes.map((type) => (\n                          <SelectItem key={type} value={type}>\n                            {isRTL ? ENGAGEMENT_TYPE_LABELS[type].ar : ENGAGEMENT_TYPE_LABELS[type].en}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  {/* Category Filter */}\n                  <div>\n                    <label className=\"text-sm font-medium mb-2 block\">\n                      {t('filters.category', 'Category')}\n                    </label>\n                    <Select\n                      value={categoryFilter}\n                      onValueChange={(value) => setCategoryFilter(value as EngagementCategory | 'all')}\n                    >\n                      <SelectTrigger className=\"w-full\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"all\">{t('filters.allCategories', 'All categories')}</SelectItem>\n                        {engagementCategories.map((category) => (\n                          <SelectItem key={category} value={category}>\n                            {isRTL ? ENGAGEMENT_CATEGORY_LABELS[category].ar : ENGAGEMENT_CATEGORY_LABELS[category].en}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  {/* Status Filter */}\n                  <div>\n                    <label className=\"text-sm font-medium mb-2 block\">\n                      {t('filters.status', 'Status')}\n                    </label>\n                    <Select\n                      value={statusFilter}\n                      onValueChange={(value) => setStatusFilter(value as EngagementStatus | 'all')}\n                    >\n                      <SelectTrigger className=\"w-full\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"all\">{t('filters.allStatuses', 'All statuses')}</SelectItem>\n                        {engagementStatuses.map((status) => (\n                          <SelectItem key={status} value={status}>\n                            {isRTL ? ENGAGEMENT_STATUS_LABELS[status].ar : ENGAGEMENT_STATUS_LABELS[status].en}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div className=\"flex gap-2 pt-4\">\n                    <Button variant=\"outline\" className=\"flex-1\" onClick={clearFilters}>\n                      {t('filters.clear', 'Clear')}\n                    </Button>\n                    <Button className=\"flex-1\" onClick={() => setIsFiltersOpen(false)}>\n                      {t('filters.apply', 'Apply')}\n                    </Button>\n                  </div>\n                </div>\n              </SheetContent>\n            </Sheet>\n          </div>\n\n          {/* Stats Summary */}\n          <div className=\"mt-4 flex items-center gap-4 text-sm text-muted-foreground\">\n            <span className=\"flex items-center gap-1\">\n              <Calendar className=\"h-4 w-4\" />\n              {t('stats.total', '{{count}} engagements', { count: totalEngagements })}\n            </span>\n            {isLoading && <Loader2 className=\"h-4 w-4 animate-spin\" />}\n          </div>\n        </div>\n      </header>\n\n      {/* Engagements List */}\n      <main className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n        {data?.data.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n            <div className=\"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-4\">\n              <Calendar className=\"h-8 w-8 text-primary\" />\n            </div>\n            <h3 className=\"text-lg font-semibold mb-2\">\n              {searchTerm || hasActiveFilters\n                ? t('empty.noResults', 'No engagements found')\n                : t('empty.title', 'No engagements yet')}\n            </h3>\n            <p className=\"text-muted-foreground max-w-md mb-6\">\n              {searchTerm || hasActiveFilters\n                ? t('empty.noResultsDescription', 'Try adjusting your search or filters')\n                : t('empty.description', 'Schedule your first bilateral meeting, mission, or delegation')}\n            </p>\n            {!searchTerm && !hasActiveFilters && (\n              <Button onClick={handleCreateEngagement}>\n                <Plus className=\"h-4 w-4 me-2\" />\n                {t('actions.createFirst', 'Create First Engagement')}\n              </Button>\n            )}\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {data?.data.map((engagement, index) => (\n              <motion.div\n                key={engagement.id}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: index * 0.05 }}\n              >\n                <Card\n                  className=\"cursor-pointer hover:shadow-md transition-shadow h-full\"\n                  onClick={() => handleEngagementClick(engagement.id)}\n                >\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-start gap-3\">\n                      {/* Icon */}\n                      <div className=\"h-10 w-10 sm:h-12 sm:w-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0\">\n                        {getTypeIcon(engagement.engagement_type)}\n                      </div>\n\n                      {/* Info */}\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-start justify-between gap-2\">\n                          <div className=\"min-w-0\">\n                            <h3 className=\"font-semibold text-sm sm:text-base truncate\">\n                              {isRTL ? engagement.name_ar : engagement.name_en}\n                            </h3>\n                            <p className=\"text-xs sm:text-sm text-muted-foreground truncate\">\n                              {isRTL\n                                ? ENGAGEMENT_TYPE_LABELS[engagement.engagement_type].ar\n                                : ENGAGEMENT_TYPE_LABELS[engagement.engagement_type].en}\n                            </p>\n                          </div>\n                          <Badge\n                            variant=\"outline\"\n                            className={`text-xs flex-shrink-0 ${getStatusColor(engagement.engagement_status)}`}\n                          >\n                            {isRTL\n                              ? ENGAGEMENT_STATUS_LABELS[engagement.engagement_status].ar\n                              : ENGAGEMENT_STATUS_LABELS[engagement.engagement_status].en}\n                          </Badge>\n                        </div>\n\n                        {/* Date */}\n                        <div className=\"flex items-center gap-1 mt-2 text-xs sm:text-sm text-muted-foreground\">\n                          <Calendar className=\"h-3 w-3 flex-shrink-0\" />\n                          <span>{formatDateRange(engagement.start_date, engagement.end_date)}</span>\n                        </div>\n\n                        {/* Location */}\n                        <div className=\"flex flex-wrap items-center gap-3 mt-2\">\n                          {engagement.is_virtual ? (\n                            <span className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                              <Video className=\"h-3 w-3\" />\n                              {t('card.virtual', 'Virtual')}\n                            </span>\n                          ) : (engagement.location_en || engagement.location_ar) && (\n                            <span className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                              <MapPin className=\"h-3 w-3\" />\n                              <span className=\"truncate max-w-[120px]\">\n                                {isRTL ? engagement.location_ar : engagement.location_en}\n                              </span>\n                            </span>\n                          )}\n                          {engagement.participant_count > 0 && (\n                            <span className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                              <Users className=\"h-3 w-3\" />\n                              {t('card.participants', '{{count}} participants', { count: engagement.participant_count })}\n                            </span>\n                          )}\n                        </div>\n\n                        {/* Category Badge */}\n                        <div className=\"mt-2\">\n                          <Badge variant=\"secondary\" className=\"text-xs\">\n                            {isRTL\n                              ? ENGAGEMENT_CATEGORY_LABELS[engagement.engagement_category].ar\n                              : ENGAGEMENT_CATEGORY_LABELS[engagement.engagement_category].en}\n                          </Badge>\n                        </div>\n                      </div>\n\n                      {/* Arrow */}\n                      <ChevronRight className={`h-5 w-5 text-muted-foreground flex-shrink-0 ${isRTL ? 'rotate-180' : ''}`} />\n                    </div>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ))}\n          </div>\n        )}\n\n        {/* Load More */}\n        {data?.pagination.has_more && (\n          <div className=\"flex justify-center mt-8\">\n            <Button variant=\"outline\" disabled={isLoading}>\n              {isLoading ? (\n                <Loader2 className=\"h-4 w-4 animate-spin me-2\" />\n              ) : null}\n              {t('actions.loadMore', 'Load More')}\n            </Button>\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n\nexport default EngagementsListPage\n","/**\n * Engagements List Index Route\n * Feature: engagements-entity-management\n *\n * Route: /engagements\n * Displays the list of engagement dossiers.\n */\n\nimport { createFileRoute } from '@tanstack/react-router'\nimport EngagementsListPage from '@/pages/engagements/EngagementsListPage'\n\nexport const Route = createFileRoute('/_protected/engagements/')({\n  component: EngagementsListPage,\n})\n"],"names":["EngagementsListPage","t","i18n","useTranslation","isRTL","navigate","useNavigate","searchTerm","setSearchTerm","useState","typeFilter","setTypeFilter","categoryFilter","setCategoryFilter","statusFilter","setStatusFilter","isFiltersOpen","setIsFiltersOpen","debouncedSearch","setDebouncedSearch","useMemo","timeout","searchParams","data","isLoading","isError","error","useEngagements","handleCreateEngagement","handleEngagementClick","engagementId","getStatusColor","status","getTypeIcon","type","jsx","Users","Globe","Building2","Calendar","formatDateRange","startDate","endDate","start","end","options","locale","clearFilters","hasActiveFilters","activeFilterCount","f","totalEngagements","engagementTypes","engagementCategories","engagementStatuses","Loader2","jsxs","ShieldAlert","Button","Plus","Search","Input","e","X","Select","value","SelectTrigger","SelectValue","SelectContent","SelectItem","ENGAGEMENT_TYPE_LABELS","ENGAGEMENT_STATUS_LABELS","Sheet","SheetTrigger","SlidersHorizontal","Badge","SheetContent","SheetHeader","SheetTitle","category","ENGAGEMENT_CATEGORY_LABELS","engagement","index","motion","Card","CardContent","Video","MapPin","ChevronRight","SplitComponent"],"mappings":"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"}