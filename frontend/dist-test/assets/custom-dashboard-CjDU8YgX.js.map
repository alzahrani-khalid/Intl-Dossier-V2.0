{"version":3,"file":"custom-dashboard-CjDU8YgX.js","sources":["../../src/components/dashboard-widgets/WidgetContainer.tsx","../../src/components/dashboard-widgets/KpiWidget.tsx","../../src/components/dashboard-widgets/ChartWidget.tsx","../../src/components/dashboard-widgets/EventsWidget.tsx","../../src/components/dashboard-widgets/TaskListWidget.tsx","../../src/components/dashboard-widgets/NotificationsWidget.tsx","../../src/components/dashboard-widgets/QuickActionsWidget.tsx","../../src/components/dashboard-widgets/WidgetGrid.tsx","../../src/components/dashboard-widgets/WidgetLibrary.tsx","../../src/components/dashboard-widgets/WidgetSettingsDialog.tsx","../../src/hooks/useWidgetDashboard.ts","../../src/pages/custom-dashboard/CustomDashboardPage.tsx","../../src/routes/_protected/custom-dashboard.tsx?tsr-split=component"],"sourcesContent":["/**\n * WidgetContainer Component\n *\n * A wrapper component for dashboard widgets that provides consistent\n * styling, header, and action buttons (settings, refresh, remove).\n * Supports drag-and-drop via @dnd-kit.\n */\n\nimport { forwardRef } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { useSortable } from '@dnd-kit/sortable'\nimport { CSS } from '@dnd-kit/utilities'\nimport type { UniqueIdentifier } from '@dnd-kit/core'\nimport { GripVertical, Settings, RefreshCw, X, Loader2 } from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\nimport type { WidgetSize, WidgetLoadingState } from '@/types/dashboard-widget.types'\n\ninterface WidgetContainerProps {\n  id: UniqueIdentifier\n  title: string\n  size: WidgetSize\n  isEditMode: boolean\n  loadingState?: WidgetLoadingState\n  onSettings?: () => void\n  onRefresh?: () => void\n  onRemove?: () => void\n  children: React.ReactNode\n  className?: string\n}\n\n/**\n * Maps widget size to grid column span classes (mobile-first)\n */\nconst sizeToColSpan: Record<WidgetSize, string> = {\n  small: 'col-span-1',\n  medium: 'col-span-1 sm:col-span-2',\n  large: 'col-span-1 sm:col-span-2 lg:col-span-3',\n  full: 'col-span-1 sm:col-span-2 lg:col-span-3 xl:col-span-4',\n}\n\n/**\n * Maps widget size to grid row span classes\n */\nconst sizeToRowSpan: Record<WidgetSize, string> = {\n  small: 'row-span-1',\n  medium: 'row-span-1',\n  large: 'row-span-2',\n  full: 'row-span-2',\n}\n\nexport const WidgetContainer = forwardRef<HTMLDivElement, WidgetContainerProps>(\n  (\n    {\n      id,\n      title,\n      size,\n      isEditMode,\n      loadingState,\n      onSettings,\n      onRefresh,\n      onRemove,\n      children,\n      className,\n    },\n    ref\n  ) => {\n    const { t, i18n } = useTranslation('dashboard-widgets')\n    const isRTL = i18n.language === 'ar'\n\n    const {\n      attributes,\n      listeners,\n      setNodeRef,\n      transform,\n      transition,\n      isDragging,\n    } = useSortable({\n      id,\n      disabled: !isEditMode,\n    })\n\n    const style = {\n      transform: CSS.Transform.toString(transform),\n      transition,\n    }\n\n    const isLoading = loadingState?.isLoading\n    const isError = loadingState?.isError\n\n    return (\n      <div\n        ref={(node) => {\n          setNodeRef(node)\n          if (typeof ref === 'function') {\n            ref(node)\n          } else if (ref) {\n            ref.current = node\n          }\n        }}\n        style={style}\n        className={cn(\n          sizeToColSpan[size],\n          sizeToRowSpan[size],\n          'min-h-[150px]',\n          isDragging && 'opacity-50 z-50',\n          className\n        )}\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <Card\n          className={cn(\n            'h-full flex flex-col transition-all duration-200',\n            isEditMode && 'ring-2 ring-dashed ring-primary/30 hover:ring-primary/50',\n            isError && 'border-destructive/50'\n          )}\n        >\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2 pt-3 px-3 sm:px-4\">\n            <div className=\"flex items-center gap-2 min-w-0\">\n              {/* Drag Handle - Only visible in edit mode */}\n              {isEditMode && (\n                <button\n                  {...attributes}\n                  {...listeners}\n                  className={cn(\n                    'cursor-grab active:cursor-grabbing p-1 rounded hover:bg-muted',\n                    'touch-none select-none',\n                    'min-h-8 min-w-8 flex items-center justify-center'\n                  )}\n                  aria-label={t('accessibility.dragHandle')}\n                >\n                  <GripVertical className=\"h-4 w-4 text-muted-foreground\" />\n                </button>\n              )}\n              <CardTitle className=\"text-sm sm:text-base font-medium truncate\">\n                {title}\n              </CardTitle>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex items-center gap-1\">\n              {/* Loading Indicator */}\n              {isLoading && (\n                <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\n              )}\n\n              {/* Refresh Button */}\n              {onRefresh && !isEditMode && (\n                <TooltipProvider>\n                  <Tooltip>\n                    <TooltipTrigger asChild>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={onRefresh}\n                        disabled={isLoading}\n                        className=\"h-8 w-8\"\n                      >\n                        <RefreshCw className=\"h-4 w-4\" />\n                        <span className=\"sr-only\">{t('actions.refresh')}</span>\n                      </Button>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                      <p>{t('actions.refresh')}</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </TooltipProvider>\n              )}\n\n              {/* Settings Button - Only visible in edit mode */}\n              {onSettings && isEditMode && (\n                <TooltipProvider>\n                  <Tooltip>\n                    <TooltipTrigger asChild>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={onSettings}\n                        className=\"h-8 w-8\"\n                      >\n                        <Settings className=\"h-4 w-4\" />\n                        <span className=\"sr-only\">\n                          {t('accessibility.settingsButton', { widget: title })}\n                        </span>\n                      </Button>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                      <p>{t('configureWidget')}</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </TooltipProvider>\n              )}\n\n              {/* Remove Button - Only visible in edit mode */}\n              {onRemove && isEditMode && (\n                <TooltipProvider>\n                  <Tooltip>\n                    <TooltipTrigger asChild>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={onRemove}\n                        className=\"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10\"\n                      >\n                        <X className=\"h-4 w-4\" />\n                        <span className=\"sr-only\">\n                          {t('accessibility.removeButton', { widget: title })}\n                        </span>\n                      </Button>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                      <p>{t('removeWidget')}</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </TooltipProvider>\n              )}\n            </div>\n          </CardHeader>\n\n          <CardContent className=\"flex-1 p-3 sm:p-4 pt-0 overflow-hidden\">\n            {isError ? (\n              <div className=\"h-full flex items-center justify-center text-sm text-muted-foreground\">\n                <p>{t('errors.loadFailed')}</p>\n              </div>\n            ) : (\n              children\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n)\n\nWidgetContainer.displayName = 'WidgetContainer'\n\nexport default WidgetContainer\n","/**\n * KpiWidget Component\n *\n * Displays key performance indicators with value, trend, sparkline,\n * and comparison to previous period. Supports RTL layout.\n */\n\nimport { useMemo } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { TrendingUp, TrendingDown, Minus, Target } from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { Progress } from '@/components/ui/progress'\nimport type {\n  KpiWidgetConfig,\n  KpiData,\n  TrendDirection,\n} from '@/types/dashboard-widget.types'\n\ninterface KpiWidgetProps {\n  config: KpiWidgetConfig\n  data: KpiData | null\n  isLoading?: boolean\n}\n\n/**\n * Sparkline component for KPI trend visualization\n */\nfunction Sparkline({\n  data,\n  className,\n  color = 'currentColor',\n}: {\n  data: number[]\n  className?: string\n  color?: string\n}) {\n  const path = useMemo(() => {\n    if (data.length < 2) return ''\n\n    const max = Math.max(...data)\n    const min = Math.min(...data)\n    const range = max - min || 1\n    const width = 100\n    const height = 24\n    const padding = 2\n\n    const points = data.map((value, index) => {\n      const x = (index / (data.length - 1)) * (width - padding * 2) + padding\n      const y = height - padding - ((value - min) / range) * (height - padding * 2)\n      return `${x},${y}`\n    })\n\n    return `M ${points.join(' L ')}`\n  }, [data])\n\n  if (data.length < 2) return null\n\n  return (\n    <svg\n      className={cn('w-full h-6', className)}\n      viewBox=\"0 0 100 24\"\n      preserveAspectRatio=\"none\"\n    >\n      <path\n        d={path}\n        fill=\"none\"\n        stroke={color}\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  )\n}\n\n/**\n * Trend indicator component\n */\nfunction TrendIndicator({\n  direction,\n  percentage,\n  period,\n}: {\n  direction: TrendDirection\n  percentage: number\n  period: string\n}) {\n  const { t } = useTranslation('dashboard-widgets')\n\n  const TrendIcon =\n    direction === 'up' ? TrendingUp : direction === 'down' ? TrendingDown : Minus\n\n  const trendColors = {\n    up: 'text-green-600 dark:text-green-400',\n    down: 'text-red-600 dark:text-red-400',\n    neutral: 'text-muted-foreground',\n  }\n\n  const bgColors = {\n    up: 'bg-green-100 dark:bg-green-900/30',\n    down: 'bg-red-100 dark:bg-red-900/30',\n    neutral: 'bg-muted',\n  }\n\n  return (\n    <div className=\"flex items-center gap-1 sm:gap-2\">\n      <span\n        className={cn(\n          'inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium',\n          trendColors[direction],\n          bgColors[direction]\n        )}\n      >\n        <TrendIcon className=\"h-3 w-3\" />\n        <span>{percentage.toFixed(1)}%</span>\n      </span>\n      <span className=\"text-xs text-muted-foreground\">\n        {t('trends.fromLastPeriod', { period: t(`periods.${period}`) })}\n      </span>\n    </div>\n  )\n}\n\n/**\n * Target progress indicator\n */\nfunction TargetProgress({\n  current,\n  target,\n  progress,\n}: {\n  current: number\n  target: number\n  progress: number\n}) {\n  return (\n    <div className=\"space-y-1.5\">\n      <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n        <div className=\"flex items-center gap-1\">\n          <Target className=\"h-3 w-3\" />\n          <span>\n            {current.toLocaleString()} / {target.toLocaleString()}\n          </span>\n        </div>\n        <span>{progress.toFixed(0)}%</span>\n      </div>\n      <Progress value={progress} className=\"h-1.5\" />\n    </div>\n  )\n}\n\nexport function KpiWidget({ config, data, isLoading }: KpiWidgetProps) {\n  const { t, i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n\n  const {\n    settings: { metric, showTrend, showSparkline, comparisonPeriod },\n  } = config\n\n  // Get metric label\n  const metricLabel = t(`metrics.${metric}`, metric)\n\n  // Loading skeleton\n  if (isLoading || !data) {\n    return (\n      <div className=\"h-full flex flex-col justify-center animate-pulse\">\n        <div className=\"h-3 w-24 bg-muted rounded mb-2\" />\n        <div className=\"h-8 w-32 bg-muted rounded mb-3\" />\n        <div className=\"h-3 w-20 bg-muted rounded\" />\n      </div>\n    )\n  }\n\n  const {\n    value,\n    trend,\n    trendPercentage,\n    sparklineData,\n    target,\n    targetProgress,\n  } = data\n\n  // Format value based on metric type\n  const formattedValue = useMemo(() => {\n    if (metric === 'response-rate' || metric === 'sla-compliance') {\n      return `${value.toFixed(1)}%`\n    }\n    return value.toLocaleString(isRTL ? 'ar-SA' : 'en-US')\n  }, [value, metric, isRTL])\n\n  // Sparkline color based on trend\n  const sparklineColor =\n    trend === 'up'\n      ? 'rgb(22, 163, 74)'\n      : trend === 'down'\n        ? 'rgb(220, 38, 38)'\n        : 'rgb(156, 163, 175)'\n\n  return (\n    <div className=\"h-full flex flex-col justify-between\">\n      {/* Metric Label */}\n      <p className=\"text-xs sm:text-sm text-muted-foreground mb-1\">\n        {metricLabel}\n      </p>\n\n      {/* Main Value */}\n      <div className=\"flex-1 flex flex-col justify-center\">\n        <p\n          className={cn(\n            'text-2xl sm:text-3xl lg:text-4xl font-bold tracking-tight',\n            'tabular-nums'\n          )}\n          dir=\"ltr\"\n        >\n          {formattedValue}\n        </p>\n\n        {/* Sparkline */}\n        {showSparkline && sparklineData && sparklineData.length > 1 && (\n          <div className=\"mt-2\">\n            <Sparkline\n              data={sparklineData}\n              color={sparklineColor}\n              className=\"opacity-80\"\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Bottom Section: Trend or Target */}\n      <div className=\"mt-2 space-y-2\">\n        {/* Trend Indicator */}\n        {showTrend && (\n          <TrendIndicator\n            direction={trend}\n            percentage={trendPercentage}\n            period={comparisonPeriod}\n          />\n        )}\n\n        {/* Target Progress */}\n        {target && targetProgress !== undefined && (\n          <TargetProgress\n            current={value}\n            target={target}\n            progress={targetProgress}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default KpiWidget\n","/**\n * ChartWidget Component\n *\n * Displays various chart types (line, bar, pie, donut, area)\n * with responsive sizing and RTL support.\n */\n\nimport { useMemo } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport type { ChartWidgetConfig, ChartData } from '@/types/dashboard-widget.types'\n\ninterface ChartWidgetProps {\n  config: ChartWidgetConfig\n  data: ChartData | null\n  isLoading?: boolean\n}\n\n// Fallback colors if CSS variables not available\nconst FALLBACK_COLORS = [\n  '#3b82f6', // blue\n  '#10b981', // emerald\n  '#f59e0b', // amber\n  '#ef4444', // red\n  '#8b5cf6', // violet\n]\n\n/**\n * Simple Bar Chart component\n */\nfunction BarChart({\n  data,\n  showLegend,\n  colors,\n  isRTL,\n}: {\n  data: ChartData\n  showLegend: boolean\n  colors: string[]\n  isRTL: boolean\n}) {\n  const { labels, datasets } = data\n  const maxValue = Math.max(...datasets.flatMap((d) => d.data))\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Chart Area */}\n      <div className=\"flex-1 flex items-end gap-1 sm:gap-2\">\n        {labels.map((label, index) => (\n          <div\n            key={label}\n            className=\"flex-1 flex flex-col items-center gap-1\"\n            style={{ order: isRTL ? labels.length - index : index }}\n          >\n            {/* Bars for each dataset */}\n            <div className=\"w-full flex justify-center gap-0.5\">\n              {datasets.map((dataset, datasetIndex) => (\n                <div\n                  key={dataset.label}\n                  className=\"flex-1 max-w-8 rounded-t transition-all duration-300 hover:opacity-80\"\n                  style={{\n                    height: `${((dataset.data[index] ?? 0) / maxValue) * 100}%`,\n                    minHeight: (dataset.data[index] ?? 0) > 0 ? '4px' : '0',\n                    backgroundColor:\n                      typeof dataset.backgroundColor === 'string'\n                        ? dataset.backgroundColor\n                        : Array.isArray(dataset.backgroundColor)\n                          ? dataset.backgroundColor[index]\n                          : colors[datasetIndex % colors.length],\n                  }}\n                  title={`${dataset.label}: ${dataset.data[index]}`}\n                />\n              ))}\n            </div>\n            {/* Label */}\n            <span className=\"text-[10px] sm:text-xs text-muted-foreground text-center truncate w-full\">\n              {label}\n            </span>\n          </div>\n        ))}\n      </div>\n\n      {/* Legend */}\n      {showLegend && datasets.length > 1 && (\n        <div className=\"flex flex-wrap justify-center gap-2 sm:gap-4 mt-2 pt-2 border-t\">\n          {datasets.map((dataset, index) => (\n            <div key={dataset.label} className=\"flex items-center gap-1\">\n              <div\n                className=\"w-2.5 h-2.5 rounded-sm\"\n                style={{\n                  backgroundColor:\n                    typeof dataset.backgroundColor === 'string'\n                      ? dataset.backgroundColor\n                      : colors[index % colors.length],\n                }}\n              />\n              <span className=\"text-xs text-muted-foreground\">{dataset.label}</span>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\n/**\n * Simple Pie/Donut Chart component\n */\nfunction PieChart({\n  data,\n  showLegend,\n  colors,\n  isDonut = false,\n}: {\n  data: ChartData\n  showLegend: boolean\n  colors: string[]\n  isDonut?: boolean\n}) {\n  const { labels, datasets } = data\n  const values = datasets[0]?.data || []\n  const total = values.reduce((sum, v) => sum + v, 0)\n\n  // Calculate pie segments\n  const segments = useMemo(() => {\n    let cumulativeAngle = -90 // Start from top\n    return values.map((value, index) => {\n      const percentage = (value / total) * 100\n      const angle = (value / total) * 360\n      const startAngle = cumulativeAngle\n      cumulativeAngle += angle\n\n      // Calculate path for pie segment\n      const startRad = (startAngle * Math.PI) / 180\n      const endRad = ((startAngle + angle) * Math.PI) / 180\n      const largeArc = angle > 180 ? 1 : 0\n\n      const innerRadius = isDonut ? 35 : 0\n      const outerRadius = 50\n\n      // Outer arc\n      const x1 = 50 + outerRadius * Math.cos(startRad)\n      const y1 = 50 + outerRadius * Math.sin(startRad)\n      const x2 = 50 + outerRadius * Math.cos(endRad)\n      const y2 = 50 + outerRadius * Math.sin(endRad)\n\n      // Inner arc (for donut)\n      const x3 = 50 + innerRadius * Math.cos(endRad)\n      const y3 = 50 + innerRadius * Math.sin(endRad)\n      const x4 = 50 + innerRadius * Math.cos(startRad)\n      const y4 = 50 + innerRadius * Math.sin(startRad)\n\n      let path: string\n      if (isDonut) {\n        path = `M ${x1} ${y1} A ${outerRadius} ${outerRadius} 0 ${largeArc} 1 ${x2} ${y2} L ${x3} ${y3} A ${innerRadius} ${innerRadius} 0 ${largeArc} 0 ${x4} ${y4} Z`\n      } else {\n        path = `M 50 50 L ${x1} ${y1} A ${outerRadius} ${outerRadius} 0 ${largeArc} 1 ${x2} ${y2} Z`\n      }\n\n      const dataset0 = datasets[0]\n      return {\n        path,\n        color:\n          typeof dataset0?.backgroundColor === 'string'\n            ? dataset0.backgroundColor\n            : Array.isArray(dataset0?.backgroundColor)\n              ? (dataset0?.backgroundColor?.[index] ?? colors[index % colors.length])\n              : colors[index % colors.length],\n        label: labels[index],\n        value,\n        percentage,\n      }\n    })\n  }, [values, total, labels, datasets, colors, isDonut])\n\n  return (\n    <div className=\"h-full flex flex-col sm:flex-row items-center gap-2 sm:gap-4\">\n      {/* Pie SVG */}\n      <div className=\"flex-shrink-0 w-24 h-24 sm:w-32 sm:h-32\">\n        <svg viewBox=\"0 0 100 100\" className=\"w-full h-full\">\n          {segments.map((segment, index) => (\n            <path\n              key={index}\n              d={segment.path}\n              fill={segment.color}\n              className=\"transition-opacity hover:opacity-80\"\n            >\n              <title>\n                {segment.label}: {segment.value} ({segment.percentage.toFixed(1)}%)\n              </title>\n            </path>\n          ))}\n          {/* Center text for donut */}\n          {isDonut && (\n            <text\n              x=\"50\"\n              y=\"50\"\n              textAnchor=\"middle\"\n              dominantBaseline=\"middle\"\n              className=\"text-xs font-medium fill-foreground\"\n            >\n              {total}\n            </text>\n          )}\n        </svg>\n      </div>\n\n      {/* Legend */}\n      {showLegend && (\n        <div className=\"flex flex-wrap sm:flex-col gap-1.5 sm:gap-2 justify-center\">\n          {segments.map((segment, index) => (\n            <div key={index} className=\"flex items-center gap-1.5\">\n              <div\n                className=\"w-2.5 h-2.5 rounded-sm flex-shrink-0\"\n                style={{ backgroundColor: segment.color }}\n              />\n              <span className=\"text-xs text-muted-foreground truncate max-w-[100px]\">\n                {segment.label}\n              </span>\n              <span className=\"text-xs font-medium ms-auto\">\n                {segment.percentage.toFixed(0)}%\n              </span>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\n/**\n * Simple Line/Area Chart component\n */\nfunction LineChart({\n  data,\n  showGrid,\n  showLegend,\n  colors,\n  isArea = false,\n  isRTL,\n}: {\n  data: ChartData\n  showGrid: boolean\n  showLegend: boolean\n  colors: string[]\n  isArea?: boolean\n  isRTL: boolean\n}) {\n  const { labels, datasets } = data\n  const allValues = datasets.flatMap((d) => d.data)\n  const maxValue = Math.max(...allValues)\n  const minValue = Math.min(...allValues)\n  const range = maxValue - minValue || 1\n\n  const width = 100\n  const height = 60\n  const padding = { top: 4, right: 4, bottom: 4, left: 4 }\n\n  const getPath = (values: number[]) => {\n    const points = values.map((value, index) => {\n      const x =\n        padding.left +\n        (index / (values.length - 1)) * (width - padding.left - padding.right)\n      const y =\n        height -\n        padding.bottom -\n        ((value - minValue) / range) * (height - padding.top - padding.bottom)\n      return { x, y }\n    })\n\n    const linePath = `M ${points.map((p) => `${p.x},${p.y}`).join(' L ')}`\n    const lastPoint = points[points.length - 1]\n    const firstPoint = points[0]\n    const areaPath = lastPoint && firstPoint\n      ? `${linePath} L ${lastPoint.x},${height - padding.bottom} L ${firstPoint.x},${height - padding.bottom} Z`\n      : linePath\n\n    return { linePath, areaPath }\n  }\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Chart Area */}\n      <div className=\"flex-1\">\n        <svg\n          viewBox={`0 0 ${width} ${height}`}\n          className=\"w-full h-full\"\n          preserveAspectRatio=\"none\"\n          style={{ direction: 'ltr' }}\n        >\n          {/* Grid lines */}\n          {showGrid && (\n            <g className=\"text-border\" opacity=\"0.3\">\n              {[0, 0.25, 0.5, 0.75, 1].map((ratio) => {\n                const y =\n                  padding.top + ratio * (height - padding.top - padding.bottom)\n                return (\n                  <line\n                    key={ratio}\n                    x1={padding.left}\n                    y1={y}\n                    x2={width - padding.right}\n                    y2={y}\n                    stroke=\"currentColor\"\n                    strokeDasharray=\"2,2\"\n                  />\n                )\n              })}\n            </g>\n          )}\n\n          {/* Data lines/areas */}\n          {datasets.map((dataset, index) => {\n            const { linePath, areaPath } = getPath(dataset.data)\n            const color =\n              dataset.borderColor ||\n              (typeof dataset.backgroundColor === 'string'\n                ? dataset.backgroundColor\n                : colors[index % colors.length])\n\n            return (\n              <g key={dataset.label}>\n                {isArea && (\n                  <path d={areaPath} fill={color} opacity=\"0.2\" />\n                )}\n                <path\n                  d={linePath}\n                  fill=\"none\"\n                  stroke={color}\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n                {/* Data points */}\n                {dataset.data.map((value, pointIndex) => {\n                  const x =\n                    padding.left +\n                    (pointIndex / (dataset.data.length - 1)) *\n                      (width - padding.left - padding.right)\n                  const y =\n                    height -\n                    padding.bottom -\n                    ((value - minValue) / range) *\n                      (height - padding.top - padding.bottom)\n                  return (\n                    <circle\n                      key={pointIndex}\n                      cx={x}\n                      cy={y}\n                      r=\"2\"\n                      fill={color}\n                      className=\"hover:r-3 transition-all\"\n                    >\n                      <title>\n                        {labels[pointIndex]}: {value}\n                      </title>\n                    </circle>\n                  )\n                })}\n              </g>\n            )\n          })}\n        </svg>\n      </div>\n\n      {/* X-axis labels */}\n      <div className=\"flex justify-between px-1 mt-1\">\n        {labels.length <= 7 ? (\n          labels.map((label, index) => (\n            <span\n              key={index}\n              className=\"text-[10px] text-muted-foreground\"\n              style={{ order: isRTL ? labels.length - index : index }}\n            >\n              {label}\n            </span>\n          ))\n        ) : (\n          <>\n            <span className=\"text-[10px] text-muted-foreground\">{labels[0]}</span>\n            <span className=\"text-[10px] text-muted-foreground\">\n              {labels[labels.length - 1]}\n            </span>\n          </>\n        )}\n      </div>\n\n      {/* Legend */}\n      {showLegend && datasets.length > 1 && (\n        <div className=\"flex flex-wrap justify-center gap-2 sm:gap-4 mt-2 pt-2 border-t\">\n          {datasets.map((dataset, index) => (\n            <div key={dataset.label} className=\"flex items-center gap-1\">\n              <div\n                className=\"w-2.5 h-2.5 rounded-sm\"\n                style={{\n                  backgroundColor:\n                    dataset.borderColor ||\n                    (typeof dataset.backgroundColor === 'string'\n                      ? dataset.backgroundColor\n                      : colors[index % colors.length]),\n                }}\n              />\n              <span className=\"text-xs text-muted-foreground\">{dataset.label}</span>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport function ChartWidget({ config, data, isLoading }: ChartWidgetProps) {\n  const { t, i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n\n  const {\n    settings: { chartType, showLegend, showGrid, colors: customColors },\n  } = config\n\n  const colors = customColors || FALLBACK_COLORS\n\n  // Loading skeleton\n  if (isLoading || !data) {\n    return (\n      <div className=\"h-full flex items-center justify-center animate-pulse\">\n        <div className=\"w-full h-full bg-muted rounded\" />\n      </div>\n    )\n  }\n\n  // Empty state\n  if (!data.datasets.length || !data.labels.length) {\n    return (\n      <div className=\"h-full flex items-center justify-center text-sm text-muted-foreground\">\n        <p>{t('emptyStates.noData')}</p>\n      </div>\n    )\n  }\n\n  // Render chart based on type\n  const renderChart = () => {\n    switch (chartType) {\n      case 'bar':\n        return (\n          <BarChart\n            data={data}\n            showLegend={showLegend}\n            colors={colors}\n            isRTL={isRTL}\n          />\n        )\n      case 'pie':\n        return <PieChart data={data} showLegend={showLegend} colors={colors} />\n      case 'donut':\n        return (\n          <PieChart data={data} showLegend={showLegend} colors={colors} isDonut />\n        )\n      case 'area':\n        return (\n          <LineChart\n            data={data}\n            showGrid={showGrid}\n            showLegend={showLegend}\n            colors={colors}\n            isArea\n            isRTL={isRTL}\n          />\n        )\n      case 'line':\n      case 'sparkline':\n      default:\n        return (\n          <LineChart\n            data={data}\n            showGrid={showGrid}\n            showLegend={showLegend}\n            colors={colors}\n            isRTL={isRTL}\n          />\n        )\n    }\n  }\n\n  return <div className=\"h-full\">{renderChart()}</div>\n}\n\nexport default ChartWidget\n","/**\n * EventsWidget Component\n *\n * Displays upcoming events and deadlines in a scrollable list.\n * Supports filtering by event type and RTL layout.\n */\n\nimport { useMemo } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Calendar,\n  Clock,\n  Users,\n  FileText,\n  AlertCircle,\n  ChevronRight,\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { Badge } from '@/components/ui/badge'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport type {\n  EventsWidgetConfig,\n  EventData,\n  EventType,\n} from '@/types/dashboard-widget.types'\n\ninterface EventsWidgetProps {\n  config: EventsWidgetConfig\n  data: EventData[] | null\n  isLoading?: boolean\n}\n\n/**\n * Get icon component for event type\n */\nfunction getEventIcon(type: EventType) {\n  switch (type) {\n    case 'meeting':\n      return Users\n    case 'deadline':\n      return AlertCircle\n    case 'follow-up':\n      return Clock\n    case 'engagement':\n      return FileText\n    case 'mou-renewal':\n      return FileText\n    default:\n      return Calendar\n  }\n}\n\n/**\n * Get color classes for event type\n */\nfunction getEventColor(type: EventType) {\n  switch (type) {\n    case 'meeting':\n      return {\n        bg: 'bg-blue-100 dark:bg-blue-900/30',\n        text: 'text-blue-600 dark:text-blue-400',\n        badge: 'bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300',\n      }\n    case 'deadline':\n      return {\n        bg: 'bg-red-100 dark:bg-red-900/30',\n        text: 'text-red-600 dark:text-red-400',\n        badge: 'bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300',\n      }\n    case 'follow-up':\n      return {\n        bg: 'bg-amber-100 dark:bg-amber-900/30',\n        text: 'text-amber-600 dark:text-amber-400',\n        badge: 'bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300',\n      }\n    case 'engagement':\n      return {\n        bg: 'bg-green-100 dark:bg-green-900/30',\n        text: 'text-green-600 dark:text-green-400',\n        badge: 'bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300',\n      }\n    case 'mou-renewal':\n      return {\n        bg: 'bg-purple-100 dark:bg-purple-900/30',\n        text: 'text-purple-600 dark:text-purple-400',\n        badge:\n          'bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300',\n      }\n    default:\n      return {\n        bg: 'bg-muted',\n        text: 'text-muted-foreground',\n        badge: 'bg-muted text-muted-foreground',\n      }\n  }\n}\n\n/**\n * Format relative date for events\n */\nfunction formatRelativeDate(dateString: string, locale: string): string {\n  const date = new Date(dateString)\n  const now = new Date()\n  const diffMs = date.getTime() - now.getTime()\n  const diffDays = Math.ceil(diffMs / (1000 * 60 * 60 * 24))\n\n  // Use Intl.RelativeTimeFormat for localized relative time\n  const rtf = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' })\n\n  if (diffDays === 0) {\n    // Same day - show time\n    return date.toLocaleTimeString(locale, {\n      hour: '2-digit',\n      minute: '2-digit',\n    })\n  } else if (diffDays === 1) {\n    return rtf.format(1, 'day')\n  } else if (diffDays === -1) {\n    return rtf.format(-1, 'day')\n  } else if (diffDays > 0 && diffDays <= 7) {\n    return rtf.format(diffDays, 'day')\n  } else if (diffDays < 0 && diffDays >= -7) {\n    return rtf.format(diffDays, 'day')\n  } else {\n    // Show date\n    return date.toLocaleDateString(locale, {\n      month: 'short',\n      day: 'numeric',\n    })\n  }\n}\n\n/**\n * Single event item component\n */\nfunction EventItem({\n  event,\n  locale,\n  isRTL,\n}: {\n  event: EventData\n  locale: string\n  isRTL: boolean\n}) {\n  const { t } = useTranslation('dashboard-widgets')\n  const Icon = getEventIcon(event.type)\n  const colors = getEventColor(event.type)\n\n  const isPast = new Date(event.startDate) < new Date()\n  const relativeDate = formatRelativeDate(event.startDate, locale)\n\n  return (\n    <div\n      className={cn(\n        'flex items-start gap-3 p-2 sm:p-3 rounded-lg transition-colors',\n        'hover:bg-muted/50 cursor-pointer group',\n        isPast && 'opacity-60'\n      )}\n    >\n      {/* Icon */}\n      <div className={cn('p-2 rounded-lg shrink-0', colors.bg)}>\n        <Icon className={cn('h-4 w-4', colors.text)} />\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <h4 className=\"text-sm font-medium truncate\">{event.title}</h4>\n          <span className=\"text-xs text-muted-foreground whitespace-nowrap\">\n            {relativeDate}\n          </span>\n        </div>\n\n        {event.description && (\n          <p className=\"text-xs text-muted-foreground mt-0.5 line-clamp-1\">\n            {event.description}\n          </p>\n        )}\n\n        <div className=\"flex items-center gap-2 mt-1.5\">\n          <Badge variant=\"secondary\" className={cn('text-[10px] px-1.5 py-0', colors.badge)}>\n            {t(`eventTypes.${event.type}`)}\n          </Badge>\n          {event.priority === 'high' && (\n            <Badge variant=\"destructive\" className=\"text-[10px] px-1.5 py-0\">\n              {t('settings.kpi.targetValue')}\n            </Badge>\n          )}\n        </div>\n      </div>\n\n      {/* Chevron */}\n      <ChevronRight\n        className={cn(\n          'h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity shrink-0',\n          isRTL && 'rotate-180'\n        )}\n      />\n    </div>\n  )\n}\n\nexport function EventsWidget({ config, data, isLoading }: EventsWidgetProps) {\n  const { t, i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n  const locale = isRTL ? 'ar-SA' : 'en-US'\n\n  const { settings } = config\n\n  // Filter and sort events\n  const filteredEvents = useMemo(() => {\n    if (!data) return []\n\n    let events = [...data]\n\n    // Filter by event types if not \"all\"\n    if (!settings.eventTypes.includes('all')) {\n      events = events.filter((e) => settings.eventTypes.includes(e.type))\n    }\n\n    // Filter past events if setting is disabled\n    if (!settings.showPastEvents) {\n      events = events.filter((e) => new Date(e.startDate) >= new Date())\n    }\n\n    // Sort by start date\n    events.sort(\n      (a, b) => new Date(a.startDate).getTime() - new Date(b.startDate).getTime()\n    )\n\n    // Limit items\n    return events.slice(0, settings.maxItems)\n  }, [data, settings])\n\n  // Loading skeleton\n  if (isLoading) {\n    return (\n      <div className=\"h-full space-y-2 animate-pulse\">\n        {Array.from({ length: 3 }).map((_, i) => (\n          <div key={i} className=\"flex items-start gap-3 p-2\">\n            <div className=\"w-8 h-8 bg-muted rounded-lg\" />\n            <div className=\"flex-1\">\n              <div className=\"h-4 w-3/4 bg-muted rounded mb-1\" />\n              <div className=\"h-3 w-1/2 bg-muted rounded\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    )\n  }\n\n  // Empty state\n  if (!filteredEvents.length) {\n    return (\n      <div className=\"h-full flex flex-col items-center justify-center text-center p-4\">\n        <Calendar className=\"h-8 w-8 text-muted-foreground mb-2\" />\n        <p className=\"text-sm text-muted-foreground\">{t('emptyStates.noEvents')}</p>\n      </div>\n    )\n  }\n\n  return (\n    <ScrollArea className=\"h-full\">\n      <div className=\"space-y-1\">\n        {filteredEvents.map((event) => (\n          <EventItem key={event.id} event={event} locale={locale} isRTL={isRTL} />\n        ))}\n      </div>\n    </ScrollArea>\n  )\n}\n\nexport default EventsWidget\n","/**\n * TaskListWidget Component\n *\n * Displays a list of tasks/work items with grouping,\n * filtering, and sorting options. Supports RTL layout.\n */\n\nimport { useMemo } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  CheckCircle2,\n  Circle,\n  Clock,\n  AlertTriangle,\n  ChevronRight,\n  FileText,\n  Inbox,\n  ListTodo,\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { Badge } from '@/components/ui/badge'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport type { TaskListWidgetConfig } from '@/types/dashboard-widget.types'\n\n// Task item type (simplified from UnifiedWorkItem)\ninterface TaskItem {\n  id: string\n  title: string\n  description?: string\n  source: 'commitment' | 'task' | 'intake'\n  priority: 'low' | 'medium' | 'high' | 'urgent'\n  status: 'pending' | 'in_progress' | 'completed' | 'cancelled'\n  deadline?: string\n  isOverdue?: boolean\n}\n\ninterface TaskListWidgetProps {\n  config: TaskListWidgetConfig\n  data: TaskItem[] | null\n  isLoading?: boolean\n  onTaskToggle?: (taskId: string, completed: boolean) => void\n}\n\n/**\n * Get icon for task source\n */\nfunction getSourceIcon(source: TaskItem['source']) {\n  switch (source) {\n    case 'commitment':\n      return FileText\n    case 'task':\n      return ListTodo\n    case 'intake':\n      return Inbox\n    default:\n      return Circle\n  }\n}\n\n/**\n * Get color classes for source\n */\nfunction getSourceColor(source: TaskItem['source']) {\n  switch (source) {\n    case 'commitment':\n      return {\n        bg: 'bg-blue-100 dark:bg-blue-900/30',\n        text: 'text-blue-600 dark:text-blue-400',\n      }\n    case 'task':\n      return {\n        bg: 'bg-green-100 dark:bg-green-900/30',\n        text: 'text-green-600 dark:text-green-400',\n      }\n    case 'intake':\n      return {\n        bg: 'bg-purple-100 dark:bg-purple-900/30',\n        text: 'text-purple-600 dark:text-purple-400',\n      }\n    default:\n      return {\n        bg: 'bg-muted',\n        text: 'text-muted-foreground',\n      }\n  }\n}\n\n/**\n * Get priority badge variant\n */\nfunction getPriorityBadge(priority: TaskItem['priority']) {\n  switch (priority) {\n    case 'urgent':\n      return { variant: 'destructive' as const, label: 'Urgent' }\n    case 'high':\n      return { variant: 'destructive' as const, label: 'High' }\n    case 'medium':\n      return { variant: 'secondary' as const, label: 'Medium' }\n    case 'low':\n      return { variant: 'outline' as const, label: 'Low' }\n    default:\n      return { variant: 'outline' as const, label: priority }\n  }\n}\n\n/**\n * Format deadline date\n */\nfunction formatDeadline(deadline: string, locale: string): string {\n  const date = new Date(deadline)\n  const now = new Date()\n  const diffMs = date.getTime() - now.getTime()\n  const diffDays = Math.ceil(diffMs / (1000 * 60 * 60 * 24))\n\n  if (diffDays < 0) {\n    return new Intl.RelativeTimeFormat(locale, { numeric: 'auto' }).format(\n      diffDays,\n      'day'\n    )\n  } else if (diffDays === 0) {\n    return new Intl.RelativeTimeFormat(locale, { numeric: 'auto' }).format(0, 'day')\n  } else if (diffDays <= 7) {\n    return new Intl.RelativeTimeFormat(locale, { numeric: 'auto' }).format(\n      diffDays,\n      'day'\n    )\n  } else {\n    return date.toLocaleDateString(locale, { month: 'short', day: 'numeric' })\n  }\n}\n\n/**\n * Single task item component\n */\nfunction TaskItemComponent({\n  task,\n  locale,\n  isRTL,\n  onToggle,\n}: {\n  task: TaskItem\n  locale: string\n  isRTL: boolean\n  onToggle?: (completed: boolean) => void\n}) {\n  const { t } = useTranslation('dashboard-widgets')\n  const Icon = getSourceIcon(task.source)\n  const sourceColors = getSourceColor(task.source)\n  const priorityBadge = getPriorityBadge(task.priority)\n\n  const isCompleted = task.status === 'completed'\n\n  return (\n    <div\n      className={cn(\n        'flex items-start gap-2 sm:gap-3 p-2 sm:p-3 rounded-lg transition-colors',\n        'hover:bg-muted/50 group',\n        isCompleted && 'opacity-60'\n      )}\n    >\n      {/* Checkbox */}\n      <div className=\"pt-0.5\">\n        <Checkbox\n          checked={isCompleted}\n          onCheckedChange={(checked) => onToggle?.(checked as boolean)}\n          className=\"h-4 w-4\"\n        />\n      </div>\n\n      {/* Source Icon */}\n      <div className={cn('p-1.5 rounded shrink-0', sourceColors.bg)}>\n        <Icon className={cn('h-3.5 w-3.5', sourceColors.text)} />\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <h4\n          className={cn(\n            'text-sm font-medium truncate',\n            isCompleted && 'line-through text-muted-foreground'\n          )}\n        >\n          {task.title}\n        </h4>\n\n        <div className=\"flex flex-wrap items-center gap-1.5 mt-1\">\n          {/* Source Badge */}\n          <Badge variant=\"outline\" className=\"text-[10px] px-1.5 py-0\">\n            {t(`sources.${task.source}`)}\n          </Badge>\n\n          {/* Priority Badge (only for high/urgent) */}\n          {(task.priority === 'high' || task.priority === 'urgent') && (\n            <Badge variant={priorityBadge.variant} className=\"text-[10px] px-1.5 py-0\">\n              {t(`sortBy.${task.priority}`, priorityBadge.label)}\n            </Badge>\n          )}\n\n          {/* Deadline */}\n          {task.deadline && (\n            <div\n              className={cn(\n                'flex items-center gap-0.5 text-[10px]',\n                task.isOverdue ? 'text-destructive' : 'text-muted-foreground'\n              )}\n            >\n              {task.isOverdue ? (\n                <AlertTriangle className=\"h-3 w-3\" />\n              ) : (\n                <Clock className=\"h-3 w-3\" />\n              )}\n              <span>{formatDeadline(task.deadline, locale)}</span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Chevron */}\n      <ChevronRight\n        className={cn(\n          'h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity shrink-0 self-center',\n          isRTL && 'rotate-180'\n        )}\n      />\n    </div>\n  )\n}\n\n/**\n * Group header component\n */\nfunction GroupHeader({ label, count }: { label: string; count: number }) {\n  return (\n    <div className=\"flex items-center justify-between px-2 py-1.5 bg-muted/50 rounded-lg mb-1\">\n      <span className=\"text-xs font-medium text-muted-foreground\">{label}</span>\n      <Badge variant=\"secondary\" className=\"text-[10px] px-1.5 py-0\">\n        {count}\n      </Badge>\n    </div>\n  )\n}\n\nexport function TaskListWidget({\n  config,\n  data,\n  isLoading,\n  onTaskToggle,\n}: TaskListWidgetProps) {\n  const { t, i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n  const locale = isRTL ? 'ar-SA' : 'en-US'\n\n  const { settings } = config\n\n  // Filter, sort, and group tasks\n  const processedTasks = useMemo(() => {\n    if (!data) return { items: [], groups: null }\n\n    let tasks = [...data]\n\n    // Filter by source\n    if (settings.filterSource && settings.filterSource !== 'all') {\n      tasks = tasks.filter((t) => t.source === settings.filterSource)\n    }\n\n    // Filter completed\n    if (!settings.showCompleted) {\n      tasks = tasks.filter((t) => t.status !== 'completed')\n    }\n\n    // Sort\n    tasks.sort((a, b) => {\n      switch (settings.sortBy) {\n        case 'deadline':\n          if (!a.deadline && !b.deadline) return 0\n          if (!a.deadline) return 1\n          if (!b.deadline) return -1\n          return new Date(a.deadline).getTime() - new Date(b.deadline).getTime()\n        case 'priority':\n          const priorityOrder = { urgent: 0, high: 1, medium: 2, low: 3 }\n          return priorityOrder[a.priority] - priorityOrder[b.priority]\n        case 'created_at':\n        default:\n          return 0\n      }\n    })\n\n    // Limit items\n    tasks = tasks.slice(0, settings.maxItems)\n\n    // Group if needed\n    if (settings.groupBy !== 'none') {\n      const groups: Record<string, TaskItem[]> = {}\n      tasks.forEach((task) => {\n        const key = task[settings.groupBy as keyof TaskItem] as string\n        if (!groups[key]) groups[key] = []\n        groups[key].push(task)\n      })\n      return { items: [], groups }\n    }\n\n    return { items: tasks, groups: null }\n  }, [data, settings])\n\n  // Loading skeleton\n  if (isLoading) {\n    return (\n      <div className=\"h-full space-y-2 animate-pulse\">\n        {Array.from({ length: 4 }).map((_, i) => (\n          <div key={i} className=\"flex items-start gap-3 p-2\">\n            <div className=\"w-4 h-4 bg-muted rounded\" />\n            <div className=\"w-6 h-6 bg-muted rounded\" />\n            <div className=\"flex-1\">\n              <div className=\"h-4 w-3/4 bg-muted rounded mb-1\" />\n              <div className=\"h-3 w-1/2 bg-muted rounded\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    )\n  }\n\n  // Empty state\n  const isEmpty = processedTasks.groups\n    ? Object.keys(processedTasks.groups).length === 0\n    : processedTasks.items.length === 0\n\n  if (isEmpty) {\n    return (\n      <div className=\"h-full flex flex-col items-center justify-center text-center p-4\">\n        <CheckCircle2 className=\"h-8 w-8 text-muted-foreground mb-2\" />\n        <p className=\"text-sm text-muted-foreground\">{t('emptyStates.noTasks')}</p>\n      </div>\n    )\n  }\n\n  return (\n    <ScrollArea className=\"h-full\">\n      <div className=\"space-y-1\">\n        {processedTasks.groups ? (\n          // Grouped view\n          Object.entries(processedTasks.groups).map(([groupKey, groupTasks]) => (\n            <div key={groupKey} className=\"mb-3\">\n              <GroupHeader\n                label={t(`${settings.groupBy}.${groupKey}`, groupKey)}\n                count={groupTasks.length}\n              />\n              {groupTasks.map((task) => (\n                <TaskItemComponent\n                  key={task.id}\n                  task={task}\n                  locale={locale}\n                  isRTL={isRTL}\n                  onToggle={(completed) => onTaskToggle?.(task.id, completed)}\n                />\n              ))}\n            </div>\n          ))\n        ) : (\n          // Flat list view\n          processedTasks.items.map((task) => (\n            <TaskItemComponent\n              key={task.id}\n              task={task}\n              locale={locale}\n              isRTL={isRTL}\n              onToggle={(completed) => onTaskToggle?.(task.id, completed)}\n            />\n          ))\n        )}\n      </div>\n    </ScrollArea>\n  )\n}\n\nexport default TaskListWidget\n","/**\n * NotificationsWidget Component\n *\n * Displays recent notifications with category filtering.\n * Supports marking as read and RTL layout.\n */\n\nimport { useMemo } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Bell,\n  BellOff,\n  UserPlus,\n  Clock,\n  RefreshCw,\n  AtSign,\n  Settings,\n  ChevronRight,\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport type {\n  NotificationsWidgetConfig,\n  NotificationData,\n  NotificationCategory,\n} from '@/types/dashboard-widget.types'\n\ninterface NotificationsWidgetProps {\n  config: NotificationsWidgetConfig\n  data: NotificationData[] | null\n  isLoading?: boolean\n  onMarkAsRead?: (notificationId: string) => void\n}\n\n/**\n * Get icon for notification category\n */\nfunction getCategoryIcon(category: NotificationCategory) {\n  switch (category) {\n    case 'task-assigned':\n      return UserPlus\n    case 'deadline-approaching':\n      return Clock\n    case 'status-change':\n      return RefreshCw\n    case 'mention':\n      return AtSign\n    case 'system':\n      return Settings\n    default:\n      return Bell\n  }\n}\n\n/**\n * Get color classes for notification category\n */\nfunction getCategoryColor(category: NotificationCategory) {\n  switch (category) {\n    case 'task-assigned':\n      return {\n        bg: 'bg-blue-100 dark:bg-blue-900/30',\n        text: 'text-blue-600 dark:text-blue-400',\n      }\n    case 'deadline-approaching':\n      return {\n        bg: 'bg-amber-100 dark:bg-amber-900/30',\n        text: 'text-amber-600 dark:text-amber-400',\n      }\n    case 'status-change':\n      return {\n        bg: 'bg-green-100 dark:bg-green-900/30',\n        text: 'text-green-600 dark:text-green-400',\n      }\n    case 'mention':\n      return {\n        bg: 'bg-purple-100 dark:bg-purple-900/30',\n        text: 'text-purple-600 dark:text-purple-400',\n      }\n    case 'system':\n      return {\n        bg: 'bg-muted',\n        text: 'text-muted-foreground',\n      }\n    default:\n      return {\n        bg: 'bg-muted',\n        text: 'text-muted-foreground',\n      }\n  }\n}\n\n/**\n * Format relative time for notifications\n */\nfunction formatRelativeTime(dateString: string, locale: string): string {\n  const date = new Date(dateString)\n  const now = new Date()\n  const diffMs = now.getTime() - date.getTime()\n  const diffMinutes = Math.floor(diffMs / (1000 * 60))\n  const diffHours = Math.floor(diffMs / (1000 * 60 * 60))\n  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24))\n\n  const rtf = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' })\n\n  if (diffMinutes < 1) {\n    return rtf.format(0, 'second')\n  } else if (diffMinutes < 60) {\n    return rtf.format(-diffMinutes, 'minute')\n  } else if (diffHours < 24) {\n    return rtf.format(-diffHours, 'hour')\n  } else if (diffDays < 7) {\n    return rtf.format(-diffDays, 'day')\n  } else {\n    return date.toLocaleDateString(locale, { month: 'short', day: 'numeric' })\n  }\n}\n\n/**\n * Single notification item component\n */\nfunction NotificationItem({\n  notification,\n  locale,\n  isRTL,\n  onMarkAsRead,\n}: {\n  notification: NotificationData\n  locale: string\n  isRTL: boolean\n  onMarkAsRead?: () => void\n}) {\n  const Icon = getCategoryIcon(notification.category)\n  const colors = getCategoryColor(notification.category)\n\n  const relativeTime = formatRelativeTime(notification.createdAt, locale)\n\n  return (\n    <div\n      className={cn(\n        'flex items-start gap-2 sm:gap-3 p-2 sm:p-3 rounded-lg transition-colors cursor-pointer group',\n        notification.isRead\n          ? 'opacity-60 hover:bg-muted/30'\n          : 'bg-muted/30 hover:bg-muted/50'\n      )}\n      onClick={onMarkAsRead}\n    >\n      {/* Unread indicator */}\n      {!notification.isRead && (\n        <div className=\"w-2 h-2 mt-2 rounded-full bg-primary shrink-0\" />\n      )}\n\n      {/* Icon */}\n      <div className={cn('p-1.5 rounded shrink-0', colors.bg)}>\n        <Icon className={cn('h-3.5 w-3.5', colors.text)} />\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <h4\n            className={cn(\n              'text-sm truncate',\n              notification.isRead ? 'font-normal' : 'font-medium'\n            )}\n          >\n            {notification.title}\n          </h4>\n          <span className=\"text-[10px] text-muted-foreground whitespace-nowrap\">\n            {relativeTime}\n          </span>\n        </div>\n\n        <p className=\"text-xs text-muted-foreground mt-0.5 line-clamp-2\">\n          {notification.message}\n        </p>\n      </div>\n\n      {/* Chevron for actionable notifications */}\n      {notification.actionUrl && (\n        <ChevronRight\n          className={cn(\n            'h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity shrink-0 self-center',\n            isRTL && 'rotate-180'\n          )}\n        />\n      )}\n    </div>\n  )\n}\n\nexport function NotificationsWidget({\n  config,\n  data,\n  isLoading,\n  onMarkAsRead,\n}: NotificationsWidgetProps) {\n  const { t, i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n  const locale = isRTL ? 'ar-SA' : 'en-US'\n\n  const { settings } = config\n\n  // Filter and process notifications\n  const filteredNotifications = useMemo(() => {\n    if (!data) return []\n\n    let notifications = [...data]\n\n    // Filter by categories\n    if (!settings.categories.includes('all')) {\n      notifications = notifications.filter((n) =>\n        settings.categories.includes(n.category)\n      )\n    }\n\n    // Filter read notifications\n    if (!settings.showRead) {\n      notifications = notifications.filter((n) => !n.isRead)\n    }\n\n    // Sort by date (newest first)\n    notifications.sort(\n      (a, b) =>\n        new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n    )\n\n    // Limit items\n    return notifications.slice(0, settings.maxItems)\n  }, [data, settings])\n\n  // Loading skeleton\n  if (isLoading) {\n    return (\n      <div className=\"h-full space-y-2 animate-pulse\">\n        {Array.from({ length: 4 }).map((_, i) => (\n          <div key={i} className=\"flex items-start gap-3 p-2\">\n            <div className=\"w-2 h-2 bg-muted rounded-full mt-2\" />\n            <div className=\"w-6 h-6 bg-muted rounded\" />\n            <div className=\"flex-1\">\n              <div className=\"h-4 w-3/4 bg-muted rounded mb-1\" />\n              <div className=\"h-3 w-full bg-muted rounded\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    )\n  }\n\n  // Empty state\n  if (!filteredNotifications.length) {\n    return (\n      <div className=\"h-full flex flex-col items-center justify-center text-center p-4\">\n        <BellOff className=\"h-8 w-8 text-muted-foreground mb-2\" />\n        <p className=\"text-sm text-muted-foreground\">\n          {t('emptyStates.noNotifications')}\n        </p>\n      </div>\n    )\n  }\n\n  return (\n    <ScrollArea className=\"h-full\">\n      <div className=\"space-y-1\">\n        {filteredNotifications.map((notification) => (\n          <NotificationItem\n            key={notification.id}\n            notification={notification}\n            locale={locale}\n            isRTL={isRTL}\n            onMarkAsRead={() => onMarkAsRead?.(notification.id)}\n          />\n        ))}\n      </div>\n    </ScrollArea>\n  )\n}\n\nexport default NotificationsWidget\n","/**\n * QuickActionsWidget Component\n *\n * Displays quick action buttons for common operations.\n * Supports custom actions and RTL layout.\n */\n\nimport { useTranslation } from 'react-i18next'\nimport { Link } from '@tanstack/react-router'\nimport {\n  Plus,\n  Search,\n  Calendar,\n  FileText,\n  Inbox,\n  ListTodo,\n  BarChart2,\n  FolderPlus,\n  LucideIcon,\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport type {\n  QuickActionsWidgetConfig,\n  QuickAction,\n} from '@/types/dashboard-widget.types'\n\ninterface QuickActionsWidgetProps {\n  config: QuickActionsWidgetConfig\n  onActionClick?: (action: QuickAction) => void\n}\n\n/**\n * Get icon component for action type\n */\nfunction getActionIcon(iconName: string): LucideIcon {\n  const icons: Record<string, LucideIcon> = {\n    Plus,\n    Search,\n    Calendar,\n    FileText,\n    Inbox,\n    ListTodo,\n    BarChart2,\n    FolderPlus,\n  }\n  return icons[iconName] || Plus\n}\n\n/**\n * Default quick actions\n */\nexport const DEFAULT_QUICK_ACTIONS: QuickAction[] = [\n  {\n    id: 'create-dossier',\n    label: 'Create Dossier',\n    labelAr: ' ',\n    icon: 'FolderPlus',\n    action: 'create-dossier',\n    route: '/dossiers/new',\n    color: 'bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400',\n  },\n  {\n    id: 'create-task',\n    label: 'Create Task',\n    labelAr: ' ',\n    icon: 'ListTodo',\n    action: 'create-task',\n    route: '/my-work?action=create-task',\n    color: 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400',\n  },\n  {\n    id: 'create-intake',\n    label: 'Create Intake',\n    labelAr: ' ',\n    icon: 'Inbox',\n    action: 'create-intake',\n    route: '/intake/new',\n    color: 'bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400',\n  },\n  {\n    id: 'search',\n    label: 'Search',\n    labelAr: '',\n    icon: 'Search',\n    action: 'open-search',\n    color: 'bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400',\n  },\n  {\n    id: 'view-calendar',\n    label: 'Calendar',\n    labelAr: '',\n    icon: 'Calendar',\n    action: 'navigate',\n    route: '/calendar',\n    color: 'bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400',\n  },\n  {\n    id: 'view-reports',\n    label: 'Reports',\n    labelAr: '',\n    icon: 'BarChart2',\n    action: 'navigate',\n    route: '/reports',\n    color: 'bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400',\n  },\n]\n\n/**\n * Single action button component\n */\nfunction ActionButton({\n  action,\n  isRTL,\n  onClick,\n}: {\n  action: QuickAction\n  isRTL: boolean\n  onClick?: () => void\n}) {\n  const Icon = getActionIcon(action.icon)\n  const label = isRTL ? action.labelAr : action.label\n\n  const buttonContent = (\n    <div className=\"flex flex-col items-center gap-1.5 p-2 sm:p-3\">\n      <div className={cn('p-2 sm:p-3 rounded-lg', action.color || 'bg-muted')}>\n        <Icon className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n      </div>\n      <span className=\"text-[10px] sm:text-xs font-medium text-center line-clamp-1\">\n        {label}\n      </span>\n    </div>\n  )\n\n  // If action has a route, wrap in Link\n  if (action.route && action.action === 'navigate') {\n    return (\n      <Link\n        to={action.route}\n        className={cn(\n          'flex-1 min-w-[70px] sm:min-w-[80px] rounded-lg transition-colors',\n          'hover:bg-muted/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring'\n        )}\n      >\n        {buttonContent}\n      </Link>\n    )\n  }\n\n  // Otherwise, render as a button\n  return (\n    <button\n      onClick={onClick}\n      className={cn(\n        'flex-1 min-w-[70px] sm:min-w-[80px] rounded-lg transition-colors',\n        'hover:bg-muted/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring'\n      )}\n    >\n      {buttonContent}\n    </button>\n  )\n}\n\nexport function QuickActionsWidget({\n  config,\n  onActionClick,\n}: QuickActionsWidgetProps) {\n  const { i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n\n  const { settings } = config\n  const actions = settings.actions.length > 0 ? settings.actions : DEFAULT_QUICK_ACTIONS\n\n  const handleActionClick = (action: QuickAction) => {\n    if (onActionClick) {\n      onActionClick(action)\n    }\n  }\n\n  return (\n    <div className=\"h-full flex items-center justify-center\">\n      <div className=\"flex flex-wrap justify-center gap-2 sm:gap-3 p-1\">\n        {actions.map((action) => (\n          <ActionButton\n            key={action.id}\n            action={action}\n            isRTL={isRTL}\n            onClick={() => handleActionClick(action)}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default QuickActionsWidget\n","/**\n * WidgetGrid Component\n *\n * A drag-and-drop grid layout for dashboard widgets using @dnd-kit.\n * Supports responsive layout, RTL, and edit mode.\n */\n\nimport { useState, useCallback } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  DndContext,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  TouchSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core'\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from '@dnd-kit/sortable'\nimport { cn } from '@/lib/utils'\nimport { WidgetContainer } from './WidgetContainer'\nimport { KpiWidget } from './KpiWidget'\nimport { ChartWidget } from './ChartWidget'\nimport { EventsWidget } from './EventsWidget'\nimport { TaskListWidget } from './TaskListWidget'\nimport { NotificationsWidget } from './NotificationsWidget'\nimport { QuickActionsWidget } from './QuickActionsWidget'\nimport type {\n  WidgetConfig,\n  KpiData,\n  ChartData,\n  EventData,\n  NotificationData,\n} from '@/types/dashboard-widget.types'\n\ninterface WidgetGridProps {\n  widgets: WidgetConfig[]\n  widgetData: Record<string, unknown>\n  isEditMode: boolean\n  onReorder: (widgets: WidgetConfig[]) => void\n  onRemove: (widgetId: string) => void\n  onSettings: (widget: WidgetConfig) => void\n  onRefresh?: (widgetId: string) => void\n  className?: string\n}\n\n/**\n * Renders the appropriate widget component based on type\n */\nfunction renderWidget(\n  config: WidgetConfig,\n  data: unknown,\n  isLoading: boolean\n): React.ReactNode {\n  switch (config.type) {\n    case 'kpi-card':\n      return (\n        <KpiWidget\n          config={config as WidgetConfig & { type: 'kpi-card' }}\n          data={data as KpiData | null}\n          isLoading={isLoading}\n        />\n      )\n    case 'chart':\n      return (\n        <ChartWidget\n          config={config as WidgetConfig & { type: 'chart' }}\n          data={data as ChartData | null}\n          isLoading={isLoading}\n        />\n      )\n    case 'upcoming-events':\n      return (\n        <EventsWidget\n          config={config as WidgetConfig & { type: 'upcoming-events' }}\n          data={data as EventData[] | null}\n          isLoading={isLoading}\n        />\n      )\n    case 'task-list':\n      return (\n        <TaskListWidget\n          config={config as WidgetConfig & { type: 'task-list' }}\n          data={data as TaskItem[] | null}\n          isLoading={isLoading}\n        />\n      )\n    case 'notifications':\n      return (\n        <NotificationsWidget\n          config={config as WidgetConfig & { type: 'notifications' }}\n          data={data as NotificationData[] | null}\n          isLoading={isLoading}\n        />\n      )\n    case 'quick-actions':\n      return (\n        <QuickActionsWidget\n          config={config as WidgetConfig & { type: 'quick-actions' }}\n        />\n      )\n    default:\n      return (\n        <div className=\"h-full flex items-center justify-center text-sm text-muted-foreground\">\n          Unknown widget type: {config.type}\n        </div>\n      )\n  }\n}\n\n// Task item type for TaskListWidget\ninterface TaskItem {\n  id: string\n  title: string\n  description?: string\n  source: 'commitment' | 'task' | 'intake'\n  priority: 'low' | 'medium' | 'high' | 'urgent'\n  status: 'pending' | 'in_progress' | 'completed' | 'cancelled'\n  deadline?: string\n  isOverdue?: boolean\n}\n\nexport function WidgetGrid({\n  widgets,\n  widgetData,\n  isEditMode,\n  onReorder,\n  onRemove,\n  onSettings,\n  onRefresh,\n  className,\n}: WidgetGridProps) {\n  const { i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n\n  const [activeWidget, setActiveWidget] = useState<WidgetConfig | null>(null)\n\n  // Configure sensors for drag-and-drop\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: {\n        delay: 200,\n        tolerance: 5,\n      },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  )\n\n  // Handle drag start\n  const handleDragStart = useCallback(\n    (event: DragStartEvent) => {\n      const { active } = event\n      const widget = widgets.find((w) => w.id === active.id)\n      if (widget) {\n        setActiveWidget(widget)\n      }\n    },\n    [widgets]\n  )\n\n  // Handle drag end\n  const handleDragEnd = useCallback(\n    (event: DragEndEvent) => {\n      const { active, over } = event\n      setActiveWidget(null)\n\n      if (over && active.id !== over.id) {\n        const oldIndex = widgets.findIndex((w) => w.id === active.id)\n        const newIndex = widgets.findIndex((w) => w.id === over.id)\n\n        if (oldIndex !== -1 && newIndex !== -1) {\n          const newWidgets = arrayMove(widgets, oldIndex, newIndex).map(\n            (widget, index) => ({\n              ...widget,\n              order: index,\n            })\n          )\n          onReorder(newWidgets)\n        }\n      }\n    },\n    [widgets, onReorder]\n  )\n\n  // Get widget IDs for sortable context\n  const widgetIds = widgets.map((w) => w.id)\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCenter}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n    >\n      <SortableContext items={widgetIds} strategy={rectSortingStrategy}>\n        <div\n          className={cn(\n            // Mobile-first responsive grid\n            'grid gap-4',\n            'grid-cols-1',\n            'sm:grid-cols-2',\n            'lg:grid-cols-3',\n            'xl:grid-cols-4',\n            // Minimum row height\n            'auto-rows-[minmax(150px,auto)]',\n            className\n          )}\n          dir={isRTL ? 'rtl' : 'ltr'}\n        >\n          {widgets\n            .filter((w) => w.isVisible)\n            .sort((a, b) => a.order - b.order)\n            .map((widget) => {\n              const data = widgetData[widget.id as string]\n              const isLoading = !data\n\n              return (\n                <WidgetContainer\n                  key={widget.id}\n                  id={widget.id}\n                  title={widget.title}\n                  size={widget.size}\n                  isEditMode={isEditMode}\n                  loadingState={{ isLoading, isError: false }}\n                  onSettings={() => onSettings(widget)}\n                  onRefresh={onRefresh ? () => onRefresh(widget.id as string) : undefined}\n                  onRemove={() => onRemove(widget.id as string)}\n                >\n                  {renderWidget(widget, data, isLoading)}\n                </WidgetContainer>\n              )\n            })}\n        </div>\n      </SortableContext>\n\n      {/* Drag Overlay */}\n      <DragOverlay adjustScale={false}>\n        {activeWidget ? (\n          <div\n            className={cn(\n              'opacity-90 shadow-lg rounded-lg',\n              'ring-2 ring-primary'\n            )}\n          >\n            <WidgetContainer\n              id={activeWidget.id}\n              title={activeWidget.title}\n              size={activeWidget.size}\n              isEditMode={false}\n            >\n              {renderWidget(\n                activeWidget,\n                widgetData[activeWidget.id as string],\n                false\n              )}\n            </WidgetContainer>\n          </div>\n        ) : null}\n      </DragOverlay>\n    </DndContext>\n  )\n}\n\nexport default WidgetGrid\n","/**\n * WidgetLibrary Component\n *\n * A sidebar or modal for browsing and adding widgets to the dashboard.\n * Displays available widget types with previews and descriptions.\n */\n\nimport { useState, useMemo } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  BarChart2,\n  Bell,\n  Calendar,\n  ListTodo,\n  Activity,\n  Zap,\n  PieChart,\n  TrendingUp,\n  Plus,\n  Search,\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n  SheetDescription,\n} from '@/components/ui/sheet'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Badge } from '@/components/ui/badge'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport type {\n  WidgetType,\n  WidgetRegistryEntry,\n} from '@/types/dashboard-widget.types'\n\ninterface WidgetLibraryProps {\n  isOpen: boolean\n  onClose: () => void\n  onAddWidget: (type: WidgetType) => void\n  existingWidgetTypes?: WidgetType[]\n}\n\n/**\n * Widget registry with all available widgets\n */\nconst WIDGET_REGISTRY: Record<WidgetType, WidgetRegistryEntry> = {\n  'kpi-card': {\n    type: 'kpi-card',\n    name: 'KPI Card',\n    nameAr: '  ',\n    description: 'Display key performance indicators with trends',\n    descriptionAr: '     ',\n    icon: 'TrendingUp',\n    defaultSize: 'small',\n    minSize: 'small',\n    maxSize: 'medium',\n    supportedSizes: ['small', 'medium'],\n    defaultConfig: {\n      settings: {\n        metric: 'active-dossiers',\n        showTrend: true,\n        showSparkline: false,\n        comparisonPeriod: 'week',\n      },\n    },\n  },\n  chart: {\n    type: 'chart',\n    name: 'Chart',\n    nameAr: ' ',\n    description: 'Visualize data with various chart types',\n    descriptionAr: '      ',\n    icon: 'BarChart2',\n    defaultSize: 'medium',\n    minSize: 'medium',\n    maxSize: 'full',\n    supportedSizes: ['medium', 'large', 'full'],\n    defaultConfig: {\n      settings: {\n        chartType: 'bar',\n        dataSource: 'work-items-by-status',\n        showLegend: true,\n        showGrid: true,\n        dateRange: 'week',\n      },\n    },\n  },\n  'upcoming-events': {\n    type: 'upcoming-events',\n    name: 'Upcoming Events',\n    nameAr: ' ',\n    description: 'Show upcoming deadlines and events',\n    descriptionAr: '    ',\n    icon: 'Calendar',\n    defaultSize: 'medium',\n    minSize: 'small',\n    maxSize: 'large',\n    supportedSizes: ['small', 'medium', 'large'],\n    defaultConfig: {\n      settings: {\n        maxItems: 5,\n        showPastEvents: false,\n        eventTypes: ['all'],\n        dateRange: 'week',\n      },\n    },\n  },\n  'task-list': {\n    type: 'task-list',\n    name: 'Task List',\n    nameAr: ' ',\n    description: 'Display your tasks and work items',\n    descriptionAr: '   ',\n    icon: 'ListTodo',\n    defaultSize: 'medium',\n    minSize: 'small',\n    maxSize: 'large',\n    supportedSizes: ['small', 'medium', 'large'],\n    defaultConfig: {\n      settings: {\n        maxItems: 10,\n        showCompleted: false,\n        groupBy: 'none',\n        sortBy: 'deadline',\n        filterSource: 'all',\n      },\n    },\n  },\n  notifications: {\n    type: 'notifications',\n    name: 'Notifications',\n    nameAr: '',\n    description: 'Show recent notifications and alerts',\n    descriptionAr: '   ',\n    icon: 'Bell',\n    defaultSize: 'medium',\n    minSize: 'small',\n    maxSize: 'large',\n    supportedSizes: ['small', 'medium', 'large'],\n    defaultConfig: {\n      settings: {\n        maxItems: 10,\n        showRead: false,\n        categories: ['all'],\n      },\n    },\n  },\n  'activity-feed': {\n    type: 'activity-feed',\n    name: 'Activity Feed',\n    nameAr: ' ',\n    description: 'Track recent activity and changes',\n    descriptionAr: '   ',\n    icon: 'Activity',\n    defaultSize: 'medium',\n    minSize: 'medium',\n    maxSize: 'large',\n    supportedSizes: ['medium', 'large'],\n    defaultConfig: {\n      settings: {\n        maxItems: 10,\n        activityTypes: ['all'],\n        showTimestamps: true,\n      },\n    },\n  },\n  'quick-actions': {\n    type: 'quick-actions',\n    name: 'Quick Actions',\n    nameAr: ' ',\n    description: 'Access frequently used actions',\n    descriptionAr: '     ',\n    icon: 'Zap',\n    defaultSize: 'medium',\n    minSize: 'small',\n    maxSize: 'full',\n    supportedSizes: ['small', 'medium', 'large', 'full'],\n    defaultConfig: {\n      settings: {\n        actions: [],\n      },\n    },\n  },\n  'stats-summary': {\n    type: 'stats-summary',\n    name: 'Stats Summary',\n    nameAr: ' ',\n    description: 'Overview of key statistics',\n    descriptionAr: '    ',\n    icon: 'PieChart',\n    defaultSize: 'large',\n    minSize: 'medium',\n    maxSize: 'full',\n    supportedSizes: ['medium', 'large', 'full'],\n    defaultConfig: {\n      settings: {\n        metrics: ['active-dossiers', 'pending-tasks', 'overdue-items'],\n        layout: 'grid',\n        showTrends: true,\n      },\n    },\n  },\n}\n\n/**\n * Get icon component by name\n */\nfunction getIcon(iconName: string) {\n  const icons: Record<string, React.ComponentType<{ className?: string }>> = {\n    TrendingUp,\n    BarChart2,\n    Calendar,\n    ListTodo,\n    Bell,\n    Activity,\n    Zap,\n    PieChart,\n  }\n  return icons[iconName] || BarChart2\n}\n\n/**\n * Widget categories for filtering\n */\ntype WidgetCategory = 'all' | 'metrics' | 'data' | 'lists' | 'other'\n\nconst WIDGET_CATEGORIES: Record<WidgetType, WidgetCategory> = {\n  'kpi-card': 'metrics',\n  chart: 'data',\n  'upcoming-events': 'lists',\n  'task-list': 'lists',\n  notifications: 'lists',\n  'activity-feed': 'lists',\n  'quick-actions': 'other',\n  'stats-summary': 'metrics',\n}\n\n/**\n * Single widget card in the library\n */\nfunction WidgetCard({\n  entry,\n  isRTL,\n  isAdded,\n  onAdd,\n}: {\n  entry: WidgetRegistryEntry\n  isRTL: boolean\n  isAdded: boolean\n  onAdd: () => void\n}) {\n  const { t } = useTranslation('dashboard-widgets')\n  const Icon = getIcon(entry.icon)\n\n  const name = isRTL ? entry.nameAr : entry.name\n  const description = isRTL ? entry.descriptionAr : entry.description\n\n  return (\n    <div\n      className={cn(\n        'p-3 sm:p-4 rounded-lg border bg-card',\n        'hover:border-primary/50 hover:shadow-sm transition-all',\n        isAdded && 'opacity-50'\n      )}\n    >\n      <div className=\"flex items-start gap-3\">\n        {/* Icon */}\n        <div className=\"p-2 rounded-lg bg-primary/10 shrink-0\">\n          <Icon className=\"h-5 w-5 text-primary\" />\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <h4 className=\"font-medium text-sm\">{name}</h4>\n            {isAdded && (\n              <Badge variant=\"secondary\" className=\"text-[10px] px-1.5 py-0\">\n                {t('actions.added', 'Added')}\n              </Badge>\n            )}\n          </div>\n          <p className=\"text-xs text-muted-foreground line-clamp-2\">\n            {description}\n          </p>\n          <div className=\"flex items-center gap-2 mt-2\">\n            <Badge variant=\"outline\" className=\"text-[10px] px-1.5 py-0\">\n              {t(`settings.sizes.${entry.defaultSize}`)}\n            </Badge>\n          </div>\n        </div>\n\n        {/* Add Button */}\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={onAdd}\n          disabled={isAdded}\n          className=\"shrink-0 h-8 w-8\"\n        >\n          <Plus className=\"h-4 w-4\" />\n          <span className=\"sr-only\">{t('addWidget')}</span>\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport function WidgetLibrary({\n  isOpen,\n  onClose,\n  onAddWidget,\n  existingWidgetTypes = [],\n}: WidgetLibraryProps) {\n  const { t, i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n\n  const [searchQuery, setSearchQuery] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<WidgetCategory>('all')\n\n  // Filter widgets by search and category\n  const filteredWidgets = useMemo(() => {\n    const entries = Object.values(WIDGET_REGISTRY)\n\n    return entries.filter((entry) => {\n      // Filter by search\n      if (searchQuery) {\n        const query = searchQuery.toLowerCase()\n        const name = isRTL ? entry.nameAr : entry.name\n        const description = isRTL ? entry.descriptionAr : entry.description\n        if (\n          !name.toLowerCase().includes(query) &&\n          !description.toLowerCase().includes(query)\n        ) {\n          return false\n        }\n      }\n\n      // Filter by category\n      if (\n        selectedCategory !== 'all' &&\n        WIDGET_CATEGORIES[entry.type] !== selectedCategory\n      ) {\n        return false\n      }\n\n      return true\n    })\n  }, [searchQuery, selectedCategory, isRTL])\n\n  const categories: { value: WidgetCategory; label: string }[] = [\n    { value: 'all', label: t('widgetLibrary.categories.all') },\n    { value: 'metrics', label: t('widgetLibrary.categories.metrics') },\n    { value: 'data', label: t('widgetLibrary.categories.data') },\n    { value: 'lists', label: t('widgetLibrary.categories.lists') },\n    { value: 'other', label: t('widgetLibrary.categories.other') },\n  ]\n\n  return (\n    <Sheet open={isOpen} onOpenChange={(open) => !open && onClose()}>\n      <SheetContent\n        side={isRTL ? 'left' : 'right'}\n        className=\"w-full sm:max-w-md\"\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <SheetHeader className=\"mb-4\">\n          <SheetTitle>{t('widgetLibrary.title')}</SheetTitle>\n          <SheetDescription>{t('widgetLibrary.description')}</SheetDescription>\n        </SheetHeader>\n\n        {/* Search */}\n        <div className=\"relative mb-4\">\n          <Search className=\"absolute start-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n          <Input\n            placeholder={t('widgetLibrary.search')}\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"ps-9\"\n          />\n        </div>\n\n        {/* Category Tabs */}\n        <div className=\"flex flex-wrap gap-1.5 mb-4\">\n          {categories.map((category) => (\n            <Button\n              key={category.value}\n              variant={selectedCategory === category.value ? 'default' : 'outline'}\n              size=\"sm\"\n              onClick={() => setSelectedCategory(category.value)}\n              className=\"text-xs h-7\"\n            >\n              {category.label}\n            </Button>\n          ))}\n        </div>\n\n        {/* Widget List */}\n        <ScrollArea className=\"h-[calc(100vh-280px)]\">\n          <div className=\"space-y-3 pe-4\">\n            {filteredWidgets.length === 0 ? (\n              <div className=\"text-center py-8 text-sm text-muted-foreground\">\n                {t('emptyStates.noWidgets')}\n              </div>\n            ) : (\n              filteredWidgets.map((entry) => (\n                <WidgetCard\n                  key={entry.type}\n                  entry={entry}\n                  isRTL={isRTL}\n                  isAdded={existingWidgetTypes.includes(entry.type)}\n                  onAdd={() => {\n                    onAddWidget(entry.type)\n                  }}\n                />\n              ))\n            )}\n          </div>\n        </ScrollArea>\n      </SheetContent>\n    </Sheet>\n  )\n}\n\n// Export registry for use in other components\nexport { WIDGET_REGISTRY }\n\nexport default WidgetLibrary\n","/**\n * WidgetSettingsDialog Component\n *\n * A dialog for configuring widget settings including size,\n * refresh interval, and widget-specific options.\n */\n\nimport { useState, useEffect } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Switch } from '@/components/ui/switch'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport type {\n  WidgetConfig,\n  WidgetSize,\n  RefreshInterval,\n  KpiMetricType,\n  ChartType,\n  ChartDataSource,\n} from '@/types/dashboard-widget.types'\n\ninterface WidgetSettingsDialogProps {\n  widget: WidgetConfig | null\n  isOpen: boolean\n  onClose: () => void\n  onSave: (widget: WidgetConfig) => void\n}\n\n/**\n * Size options\n */\nconst SIZE_OPTIONS: { value: WidgetSize; label: string }[] = [\n  { value: 'small', label: 'settings.sizes.small' },\n  { value: 'medium', label: 'settings.sizes.medium' },\n  { value: 'large', label: 'settings.sizes.large' },\n  { value: 'full', label: 'settings.sizes.full' },\n]\n\n/**\n * Refresh interval options\n */\nconst REFRESH_OPTIONS: { value: RefreshInterval; label: string }[] = [\n  { value: 0, label: 'settings.intervals.never' },\n  { value: 30000, label: 'settings.intervals.30s' },\n  { value: 60000, label: 'settings.intervals.1m' },\n  { value: 300000, label: 'settings.intervals.5m' },\n  { value: 600000, label: 'settings.intervals.10m' },\n  { value: 1800000, label: 'settings.intervals.30m' },\n]\n\n/**\n * KPI metric options\n */\nconst KPI_METRICS: KpiMetricType[] = [\n  'active-dossiers',\n  'pending-tasks',\n  'overdue-items',\n  'completed-this-week',\n  'response-rate',\n  'engagement-count',\n  'intake-volume',\n  'sla-compliance',\n]\n\n/**\n * Chart type options\n */\nconst CHART_TYPES: ChartType[] = ['line', 'bar', 'pie', 'donut', 'area', 'sparkline']\n\n/**\n * Chart data source options\n */\nconst CHART_SOURCES: ChartDataSource[] = [\n  'work-items-by-status',\n  'work-items-by-source',\n  'completion-trend',\n  'intake-volume-trend',\n  'engagement-distribution',\n  'priority-breakdown',\n  'team-workload',\n]\n\n/**\n * General settings tab content\n */\nfunction GeneralSettings({\n  widget,\n  onChange,\n  t,\n}: {\n  widget: WidgetConfig\n  onChange: (updates: Partial<WidgetConfig>) => void\n  t: (key: string) => string\n}) {\n  return (\n    <div className=\"space-y-4\">\n      {/* Widget Title */}\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"widget-title\">{t('settings.widgetTitle')}</Label>\n        <Input\n          id=\"widget-title\"\n          value={widget.title}\n          onChange={(e) => onChange({ title: e.target.value })}\n        />\n      </div>\n\n      {/* Widget Size */}\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"widget-size\">{t('settings.widgetSize')}</Label>\n        <Select\n          value={widget.size}\n          onValueChange={(value: WidgetSize) => onChange({ size: value })}\n        >\n          <SelectTrigger id=\"widget-size\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            {SIZE_OPTIONS.map((option) => (\n              <SelectItem key={option.value} value={option.value}>\n                {t(option.label)}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Refresh Interval */}\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"refresh-interval\">{t('settings.refreshInterval')}</Label>\n        <Select\n          value={String(widget.refreshInterval)}\n          onValueChange={(value) =>\n            onChange({ refreshInterval: Number(value) as RefreshInterval })\n          }\n        >\n          <SelectTrigger id=\"refresh-interval\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            {REFRESH_OPTIONS.map((option) => (\n              <SelectItem key={option.value} value={String(option.value)}>\n                {t(option.label)}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n    </div>\n  )\n}\n\n/**\n * KPI-specific settings\n */\nfunction KpiSettings({\n  settings,\n  onChange,\n  t,\n}: {\n  settings: WidgetConfig['settings']\n  onChange: (updates: Record<string, unknown>) => void\n  t: (key: string) => string\n}) {\n  const kpiSettings = settings as {\n    metric: KpiMetricType\n    showTrend: boolean\n    showSparkline: boolean\n    targetValue?: number\n    comparisonPeriod: string\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Metric Selection */}\n      <div className=\"space-y-2\">\n        <Label>{t('settings.kpi.metric')}</Label>\n        <Select\n          value={kpiSettings.metric}\n          onValueChange={(value: KpiMetricType) => onChange({ metric: value })}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            {KPI_METRICS.map((metric) => (\n              <SelectItem key={metric} value={metric}>\n                {t(`metrics.${metric}`)}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Show Trend */}\n      <div className=\"flex items-center justify-between\">\n        <Label htmlFor=\"show-trend\">{t('settings.kpi.showTrend')}</Label>\n        <Switch\n          id=\"show-trend\"\n          checked={kpiSettings.showTrend}\n          onCheckedChange={(checked) => onChange({ showTrend: checked })}\n        />\n      </div>\n\n      {/* Show Sparkline */}\n      <div className=\"flex items-center justify-between\">\n        <Label htmlFor=\"show-sparkline\">{t('settings.kpi.showSparkline')}</Label>\n        <Switch\n          id=\"show-sparkline\"\n          checked={kpiSettings.showSparkline}\n          onCheckedChange={(checked) => onChange({ showSparkline: checked })}\n        />\n      </div>\n\n      {/* Comparison Period */}\n      <div className=\"space-y-2\">\n        <Label>{t('settings.kpi.comparisonPeriod')}</Label>\n        <Select\n          value={kpiSettings.comparisonPeriod}\n          onValueChange={(value) => onChange({ comparisonPeriod: value })}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"day\">{t('periods.day')}</SelectItem>\n            <SelectItem value=\"week\">{t('periods.week')}</SelectItem>\n            <SelectItem value=\"month\">{t('periods.month')}</SelectItem>\n            <SelectItem value=\"quarter\">{t('periods.quarter')}</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n    </div>\n  )\n}\n\n/**\n * Chart-specific settings\n */\nfunction ChartSettings({\n  settings,\n  onChange,\n  t,\n}: {\n  settings: WidgetConfig['settings']\n  onChange: (updates: Record<string, unknown>) => void\n  t: (key: string) => string\n}) {\n  const chartSettings = settings as {\n    chartType: ChartType\n    dataSource: ChartDataSource\n    showLegend: boolean\n    showGrid: boolean\n    dateRange: string\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Chart Type */}\n      <div className=\"space-y-2\">\n        <Label>{t('settings.chart.chartType')}</Label>\n        <Select\n          value={chartSettings.chartType}\n          onValueChange={(value: ChartType) => onChange({ chartType: value })}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            {CHART_TYPES.map((type) => (\n              <SelectItem key={type} value={type}>\n                {t(`chartTypes.${type}`)}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Data Source */}\n      <div className=\"space-y-2\">\n        <Label>{t('settings.chart.dataSource')}</Label>\n        <Select\n          value={chartSettings.dataSource}\n          onValueChange={(value: ChartDataSource) =>\n            onChange({ dataSource: value })\n          }\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            {CHART_SOURCES.map((source) => (\n              <SelectItem key={source} value={source}>\n                {t(`dataSources.${source}`)}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Show Legend */}\n      <div className=\"flex items-center justify-between\">\n        <Label htmlFor=\"show-legend\">{t('settings.chart.showLegend')}</Label>\n        <Switch\n          id=\"show-legend\"\n          checked={chartSettings.showLegend}\n          onCheckedChange={(checked) => onChange({ showLegend: checked })}\n        />\n      </div>\n\n      {/* Show Grid */}\n      <div className=\"flex items-center justify-between\">\n        <Label htmlFor=\"show-grid\">{t('settings.chart.showGrid')}</Label>\n        <Switch\n          id=\"show-grid\"\n          checked={chartSettings.showGrid}\n          onCheckedChange={(checked) => onChange({ showGrid: checked })}\n        />\n      </div>\n\n      {/* Date Range */}\n      <div className=\"space-y-2\">\n        <Label>{t('settings.chart.dateRange')}</Label>\n        <Select\n          value={chartSettings.dateRange}\n          onValueChange={(value) => onChange({ dateRange: value })}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"week\">{t('periods.week')}</SelectItem>\n            <SelectItem value=\"month\">{t('periods.month')}</SelectItem>\n            <SelectItem value=\"quarter\">{t('periods.quarter')}</SelectItem>\n            <SelectItem value=\"year\">{t('periods.year')}</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n    </div>\n  )\n}\n\n/**\n * Events-specific settings\n */\nfunction EventsSettings({\n  settings,\n  onChange,\n  t,\n}: {\n  settings: WidgetConfig['settings']\n  onChange: (updates: Record<string, unknown>) => void\n  t: (key: string) => string\n}) {\n  const eventsSettings = settings as {\n    maxItems: number\n    showPastEvents: boolean\n    eventTypes: string[]\n    dateRange: string\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Max Items */}\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"max-items\">{t('settings.events.maxItems')}</Label>\n        <Input\n          id=\"max-items\"\n          type=\"number\"\n          min={1}\n          max={20}\n          value={eventsSettings.maxItems}\n          onChange={(e) => onChange({ maxItems: Number(e.target.value) })}\n        />\n      </div>\n\n      {/* Show Past Events */}\n      <div className=\"flex items-center justify-between\">\n        <Label htmlFor=\"show-past\">{t('settings.events.showPastEvents')}</Label>\n        <Switch\n          id=\"show-past\"\n          checked={eventsSettings.showPastEvents}\n          onCheckedChange={(checked) => onChange({ showPastEvents: checked })}\n        />\n      </div>\n\n      {/* Date Range */}\n      <div className=\"space-y-2\">\n        <Label>{t('settings.events.dateRange')}</Label>\n        <Select\n          value={eventsSettings.dateRange}\n          onValueChange={(value) => onChange({ dateRange: value })}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"today\">{t('periods.today')}</SelectItem>\n            <SelectItem value=\"week\">{t('periods.week')}</SelectItem>\n            <SelectItem value=\"month\">{t('periods.month')}</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n    </div>\n  )\n}\n\n/**\n * Task list-specific settings\n */\nfunction TaskListSettings({\n  settings,\n  onChange,\n  t,\n}: {\n  settings: WidgetConfig['settings']\n  onChange: (updates: Record<string, unknown>) => void\n  t: (key: string) => string\n}) {\n  const taskSettings = settings as {\n    maxItems: number\n    showCompleted: boolean\n    groupBy: string\n    sortBy: string\n    filterSource: string\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Max Items */}\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"max-items\">{t('settings.tasks.maxItems')}</Label>\n        <Input\n          id=\"max-items\"\n          type=\"number\"\n          min={1}\n          max={20}\n          value={taskSettings.maxItems}\n          onChange={(e) => onChange({ maxItems: Number(e.target.value) })}\n        />\n      </div>\n\n      {/* Show Completed */}\n      <div className=\"flex items-center justify-between\">\n        <Label htmlFor=\"show-completed\">{t('settings.tasks.showCompleted')}</Label>\n        <Switch\n          id=\"show-completed\"\n          checked={taskSettings.showCompleted}\n          onCheckedChange={(checked) => onChange({ showCompleted: checked })}\n        />\n      </div>\n\n      {/* Group By */}\n      <div className=\"space-y-2\">\n        <Label>{t('settings.tasks.groupBy')}</Label>\n        <Select\n          value={taskSettings.groupBy}\n          onValueChange={(value) => onChange({ groupBy: value })}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"none\">{t('groupBy.none')}</SelectItem>\n            <SelectItem value=\"source\">{t('groupBy.source')}</SelectItem>\n            <SelectItem value=\"priority\">{t('groupBy.priority')}</SelectItem>\n            <SelectItem value=\"status\">{t('groupBy.status')}</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Sort By */}\n      <div className=\"space-y-2\">\n        <Label>{t('settings.tasks.sortBy')}</Label>\n        <Select\n          value={taskSettings.sortBy}\n          onValueChange={(value) => onChange({ sortBy: value })}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"deadline\">{t('sortBy.deadline')}</SelectItem>\n            <SelectItem value=\"priority\">{t('sortBy.priority')}</SelectItem>\n            <SelectItem value=\"created_at\">{t('sortBy.created_at')}</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Filter Source */}\n      <div className=\"space-y-2\">\n        <Label>{t('settings.tasks.filterSource')}</Label>\n        <Select\n          value={taskSettings.filterSource || 'all'}\n          onValueChange={(value) => onChange({ filterSource: value })}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">{t('sources.all')}</SelectItem>\n            <SelectItem value=\"commitment\">{t('sources.commitment')}</SelectItem>\n            <SelectItem value=\"task\">{t('sources.task')}</SelectItem>\n            <SelectItem value=\"intake\">{t('sources.intake')}</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n    </div>\n  )\n}\n\nexport function WidgetSettingsDialog({\n  widget,\n  isOpen,\n  onClose,\n  onSave,\n}: WidgetSettingsDialogProps) {\n  const { t, i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n\n  const [editedWidget, setEditedWidget] = useState<WidgetConfig | null>(null)\n\n  // Initialize edited widget when dialog opens\n  useEffect(() => {\n    if (widget) {\n      setEditedWidget({ ...widget })\n    }\n  }, [widget])\n\n  if (!editedWidget) return null\n\n  const handleGeneralChange = (updates: Partial<WidgetConfig>) => {\n    setEditedWidget((prev) => {\n      if (!prev) return prev\n      return { ...prev, ...updates } as WidgetConfig\n    })\n  }\n\n  const handleSettingsChange = (updates: Record<string, unknown>) => {\n    setEditedWidget((prev) => {\n      if (!prev) return prev\n      return {\n        ...prev,\n        settings: { ...prev.settings, ...updates },\n      } as WidgetConfig\n    })\n  }\n\n  const handleSave = () => {\n    if (editedWidget) {\n      onSave(editedWidget)\n      onClose()\n    }\n  }\n\n  // Render widget-specific settings\n  const renderWidgetSettings = () => {\n    switch (editedWidget.type) {\n      case 'kpi-card':\n        return (\n          <KpiSettings\n            settings={editedWidget.settings}\n            onChange={handleSettingsChange}\n            t={t}\n          />\n        )\n      case 'chart':\n        return (\n          <ChartSettings\n            settings={editedWidget.settings}\n            onChange={handleSettingsChange}\n            t={t}\n          />\n        )\n      case 'upcoming-events':\n        return (\n          <EventsSettings\n            settings={editedWidget.settings}\n            onChange={handleSettingsChange}\n            t={t}\n          />\n        )\n      case 'task-list':\n        return (\n          <TaskListSettings\n            settings={editedWidget.settings}\n            onChange={handleSettingsChange}\n            t={t}\n          />\n        )\n      default:\n        return (\n          <div className=\"text-sm text-muted-foreground\">\n            {t('settings.general')} {t('settings.title')}\n          </div>\n        )\n    }\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\n      <DialogContent\n        className=\"sm:max-w-md\"\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <DialogHeader>\n          <DialogTitle>{t('settings.title')}</DialogTitle>\n          <DialogDescription>\n            {t('widgetTypes.' + editedWidget.type + '.name', editedWidget.type)}\n          </DialogDescription>\n        </DialogHeader>\n\n        <Tabs defaultValue=\"general\" className=\"mt-4\">\n          <TabsList className=\"grid w-full grid-cols-2\">\n            <TabsTrigger value=\"general\">{t('settings.general')}</TabsTrigger>\n            <TabsTrigger value=\"widget\">{t('settings.data')}</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"general\" className=\"mt-4\">\n            <GeneralSettings\n              widget={editedWidget}\n              onChange={handleGeneralChange}\n              t={t}\n            />\n          </TabsContent>\n\n          <TabsContent value=\"widget\" className=\"mt-4\">\n            {renderWidgetSettings()}\n          </TabsContent>\n        </Tabs>\n\n        <DialogFooter className=\"mt-6\">\n          <Button variant=\"outline\" onClick={onClose}>\n            {t('actions.cancel', 'Cancel')}\n          </Button>\n          <Button onClick={handleSave}>{t('saveLayout')}</Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nexport default WidgetSettingsDialog\n","/**\n * useWidgetDashboard Hook\n *\n * Manages the state and persistence of the customizable dashboard.\n * Handles widget configuration, layout, and data fetching.\n */\n\nimport { useState, useCallback, useEffect, useMemo } from 'react'\nimport { useQuery, useQueryClient } from '@tanstack/react-query'\nimport { useTranslation } from 'react-i18next'\nimport { v4 as uuidv4 } from 'uuid'\nimport type {\n  WidgetConfig,\n  WidgetType,\n  KpiData,\n  ChartData,\n  EventData,\n  NotificationData,\n} from '@/types/dashboard-widget.types'\nimport { WIDGET_REGISTRY } from '@/components/dashboard-widgets/WidgetLibrary'\n\n// ============================================================================\n// Query Keys\n// ============================================================================\n\nexport const widgetDashboardKeys = {\n  all: ['widget-dashboard'] as const,\n  layout: () => [...widgetDashboardKeys.all, 'layout'] as const,\n  widgetData: (widgetId: string) =>\n    [...widgetDashboardKeys.all, 'data', widgetId] as const,\n}\n\n// ============================================================================\n// Local Storage Keys\n// ============================================================================\n\nconst STORAGE_KEY = 'dashboard-widget-layout'\n\n// ============================================================================\n// Default Widgets\n// ============================================================================\n\nconst createDefaultWidgets = (t: (key: string) => string): WidgetConfig[] => [\n  {\n    id: uuidv4(),\n    type: 'kpi-card',\n    title: t('metrics.active-dossiers'),\n    size: 'small',\n    refreshInterval: 300000,\n    isVisible: true,\n    order: 0,\n    settings: {\n      metric: 'active-dossiers',\n      showTrend: true,\n      showSparkline: false,\n      comparisonPeriod: 'week',\n    },\n  } as WidgetConfig,\n  {\n    id: uuidv4(),\n    type: 'kpi-card',\n    title: t('metrics.pending-tasks'),\n    size: 'small',\n    refreshInterval: 300000,\n    isVisible: true,\n    order: 1,\n    settings: {\n      metric: 'pending-tasks',\n      showTrend: true,\n      showSparkline: false,\n      comparisonPeriod: 'week',\n    },\n  } as WidgetConfig,\n  {\n    id: uuidv4(),\n    type: 'kpi-card',\n    title: t('metrics.overdue-items'),\n    size: 'small',\n    refreshInterval: 300000,\n    isVisible: true,\n    order: 2,\n    settings: {\n      metric: 'overdue-items',\n      showTrend: true,\n      showSparkline: false,\n      comparisonPeriod: 'week',\n    },\n  } as WidgetConfig,\n  {\n    id: uuidv4(),\n    type: 'kpi-card',\n    title: t('metrics.completed-this-week'),\n    size: 'small',\n    refreshInterval: 300000,\n    isVisible: true,\n    order: 3,\n    settings: {\n      metric: 'completed-this-week',\n      showTrend: true,\n      showSparkline: false,\n      comparisonPeriod: 'week',\n    },\n  } as WidgetConfig,\n  {\n    id: uuidv4(),\n    type: 'chart',\n    title: t('dataSources.work-items-by-status'),\n    size: 'medium',\n    refreshInterval: 300000,\n    isVisible: true,\n    order: 4,\n    settings: {\n      chartType: 'bar',\n      dataSource: 'work-items-by-status',\n      showLegend: true,\n      showGrid: true,\n      dateRange: 'week',\n    },\n  } as WidgetConfig,\n  {\n    id: uuidv4(),\n    type: 'upcoming-events',\n    title: t('widgetTypes.upcoming-events.name'),\n    size: 'medium',\n    refreshInterval: 300000,\n    isVisible: true,\n    order: 5,\n    settings: {\n      maxItems: 5,\n      showPastEvents: false,\n      eventTypes: ['all'],\n      dateRange: 'week',\n    },\n  } as WidgetConfig,\n  {\n    id: uuidv4(),\n    type: 'task-list',\n    title: t('widgetTypes.task-list.name'),\n    size: 'medium',\n    refreshInterval: 300000,\n    isVisible: true,\n    order: 6,\n    settings: {\n      maxItems: 10,\n      showCompleted: false,\n      groupBy: 'none',\n      sortBy: 'deadline',\n      filterSource: 'all',\n    },\n  } as WidgetConfig,\n  {\n    id: uuidv4(),\n    type: 'quick-actions',\n    title: t('widgetTypes.quick-actions.name'),\n    size: 'medium',\n    refreshInterval: 0,\n    isVisible: true,\n    order: 7,\n    settings: {\n      actions: [],\n    },\n  } as WidgetConfig,\n]\n\n// ============================================================================\n// Mock Data Generation (Replace with API calls in production)\n// ============================================================================\n\nfunction generateMockKpiData(metric: string): KpiData {\n  const baseValues: Record<string, number> = {\n    'active-dossiers': 147,\n    'pending-tasks': 23,\n    'overdue-items': 5,\n    'completed-this-week': 42,\n    'response-rate': 94.5,\n    'engagement-count': 18,\n    'intake-volume': 156,\n    'sla-compliance': 98.2,\n  }\n\n  const value = baseValues[metric] || Math.floor(Math.random() * 100)\n  const previousValue = value + (Math.random() - 0.5) * value * 0.2\n  const trendPercentage = ((value - previousValue) / previousValue) * 100\n\n  return {\n    value,\n    previousValue,\n    trend: trendPercentage > 1 ? 'up' : trendPercentage < -1 ? 'down' : 'neutral',\n    trendPercentage: Math.abs(trendPercentage),\n    sparklineData: Array.from({ length: 7 }, () =>\n      Math.floor(value * (0.8 + Math.random() * 0.4))\n    ),\n  }\n}\n\nfunction generateMockChartData(dataSource: string): ChartData {\n  switch (dataSource) {\n    case 'work-items-by-status':\n      return {\n        labels: ['Pending', 'In Progress', 'Review', 'Completed'],\n        datasets: [\n          {\n            label: 'Work Items',\n            data: [23, 15, 8, 42],\n            backgroundColor: ['#f59e0b', '#3b82f6', '#8b5cf6', '#10b981'],\n          },\n        ],\n        total: 88,\n      }\n    case 'work-items-by-source':\n      return {\n        labels: ['Tasks', 'Commitments', 'Intake'],\n        datasets: [\n          {\n            label: 'Work Items',\n            data: [35, 28, 25],\n            backgroundColor: ['#10b981', '#3b82f6', '#8b5cf6'],\n          },\n        ],\n        total: 88,\n      }\n    case 'completion-trend':\n      return {\n        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n        datasets: [\n          {\n            label: 'Completed',\n            data: [8, 12, 6, 15, 10, 4, 7],\n            borderColor: '#10b981',\n          },\n        ],\n      }\n    default:\n      return {\n        labels: ['A', 'B', 'C', 'D'],\n        datasets: [\n          {\n            label: 'Data',\n            data: [25, 35, 20, 20],\n          },\n        ],\n      }\n  }\n}\n\nfunction generateMockEvents(): EventData[] {\n  const now = new Date()\n  return [\n    {\n      id: '1',\n      title: 'Team Meeting',\n      type: 'meeting',\n      startDate: new Date(now.getTime() + 2 * 60 * 60 * 1000).toISOString(),\n      description: 'Weekly sync with the team',\n    },\n    {\n      id: '2',\n      title: 'Report Deadline',\n      type: 'deadline',\n      startDate: new Date(now.getTime() + 24 * 60 * 60 * 1000).toISOString(),\n      description: 'Q4 report submission',\n      priority: 'high',\n    },\n    {\n      id: '3',\n      title: 'Follow-up: Saudi Embassy',\n      type: 'follow-up',\n      startDate: new Date(now.getTime() + 48 * 60 * 60 * 1000).toISOString(),\n    },\n    {\n      id: '4',\n      title: 'MOU Renewal - UAE',\n      type: 'mou-renewal',\n      startDate: new Date(now.getTime() + 72 * 60 * 60 * 1000).toISOString(),\n      priority: 'high',\n    },\n    {\n      id: '5',\n      title: 'Engagement Review',\n      type: 'engagement',\n      startDate: new Date(now.getTime() + 96 * 60 * 60 * 1000).toISOString(),\n    },\n  ]\n}\n\nfunction generateMockTasks() {\n  return [\n    {\n      id: '1',\n      title: 'Review dossier updates',\n      source: 'task' as const,\n      priority: 'high' as const,\n      status: 'pending' as const,\n      deadline: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n    },\n    {\n      id: '2',\n      title: 'Prepare briefing document',\n      source: 'commitment' as const,\n      priority: 'urgent' as const,\n      status: 'in_progress' as const,\n      deadline: new Date(Date.now() + 2 * 60 * 60 * 1000).toISOString(),\n      isOverdue: false,\n    },\n    {\n      id: '3',\n      title: 'Response to intake ticket #156',\n      source: 'intake' as const,\n      priority: 'medium' as const,\n      status: 'pending' as const,\n      deadline: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n      isOverdue: true,\n    },\n    {\n      id: '4',\n      title: 'Update contact information',\n      source: 'task' as const,\n      priority: 'low' as const,\n      status: 'pending' as const,\n    },\n    {\n      id: '5',\n      title: 'Follow up on meeting notes',\n      source: 'commitment' as const,\n      priority: 'medium' as const,\n      status: 'completed' as const,\n    },\n  ]\n}\n\nfunction generateMockNotifications(): NotificationData[] {\n  return [\n    {\n      id: '1',\n      title: 'New Task Assigned',\n      message: 'You have been assigned to review the Q4 report',\n      category: 'task-assigned',\n      isRead: false,\n      createdAt: new Date(Date.now() - 5 * 60 * 1000).toISOString(),\n      actionUrl: '/my-work',\n    },\n    {\n      id: '2',\n      title: 'Deadline Approaching',\n      message: 'Report submission due in 2 hours',\n      category: 'deadline-approaching',\n      isRead: false,\n      createdAt: new Date(Date.now() - 30 * 60 * 1000).toISOString(),\n    },\n    {\n      id: '3',\n      title: 'Status Updated',\n      message: 'Dossier #147 status changed to Active',\n      category: 'status-change',\n      isRead: true,\n      createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n    },\n    {\n      id: '4',\n      title: 'You were mentioned',\n      message: 'Ahmed mentioned you in a comment',\n      category: 'mention',\n      isRead: false,\n      createdAt: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n    },\n  ]\n}\n\n// ============================================================================\n// Widget Data Fetching Hook\n// ============================================================================\n\nfunction useWidgetData(widget: WidgetConfig) {\n  return useQuery({\n    queryKey: widgetDashboardKeys.widgetData(widget.id as string),\n    queryFn: async () => {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 500))\n\n      // Return mock data based on widget type\n      switch (widget.type) {\n        case 'kpi-card': {\n          const settings = widget.settings as { metric: string }\n          return generateMockKpiData(settings.metric)\n        }\n        case 'chart': {\n          const settings = widget.settings as { dataSource: string }\n          return generateMockChartData(settings.dataSource)\n        }\n        case 'upcoming-events':\n          return generateMockEvents()\n        case 'task-list':\n          return generateMockTasks()\n        case 'notifications':\n          return generateMockNotifications()\n        case 'quick-actions':\n          return null // Quick actions don't need data\n        default:\n          return null\n      }\n    },\n    refetchInterval: widget.refreshInterval || false,\n    staleTime: 30000, // 30 seconds\n  })\n}\n\n// ============================================================================\n// Main Hook\n// ============================================================================\n\ninterface UseWidgetDashboardOptions {\n  autoSave?: boolean\n}\n\nexport function useWidgetDashboard(options: UseWidgetDashboardOptions = {}) {\n  const { autoSave = true } = options\n  const { t } = useTranslation('dashboard-widgets')\n  const queryClient = useQueryClient()\n\n  // ============================================================================\n  // State\n  // ============================================================================\n\n  const [widgets, setWidgets] = useState<WidgetConfig[]>([])\n  const [isEditMode, setIsEditMode] = useState(false)\n  const [selectedWidget, setSelectedWidget] = useState<WidgetConfig | null>(null)\n  const [isLibraryOpen, setIsLibraryOpen] = useState(false)\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false)\n  const [isInitialized, setIsInitialized] = useState(false)\n\n  // ============================================================================\n  // Load from Local Storage\n  // ============================================================================\n\n  useEffect(() => {\n    const loadLayout = () => {\n      try {\n        const stored = localStorage.getItem(STORAGE_KEY)\n        if (stored) {\n          const parsed = JSON.parse(stored) as WidgetConfig[]\n          setWidgets(parsed)\n        } else {\n          // Use default widgets\n          setWidgets(createDefaultWidgets(t))\n        }\n      } catch (error) {\n        console.error('Failed to load dashboard layout:', error)\n        setWidgets(createDefaultWidgets(t))\n      }\n      setIsInitialized(true)\n    }\n\n    loadLayout()\n  }, [t])\n\n  // ============================================================================\n  // Save to Local Storage\n  // ============================================================================\n\n  useEffect(() => {\n    if (autoSave && isInitialized && widgets.length > 0) {\n      try {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(widgets))\n      } catch (error) {\n        console.error('Failed to save dashboard layout:', error)\n      }\n    }\n  }, [widgets, autoSave, isInitialized])\n\n  // ============================================================================\n  // Widget Data\n  // ============================================================================\n\n  // Fetch data for all widgets\n  const widgetDataQueries = widgets.map((widget) => ({\n    widget,\n    ...useWidgetData(widget),\n  }))\n\n  // Aggregate widget data into a single object\n  const widgetData = useMemo(() => {\n    return widgetDataQueries.reduce(\n      (acc, { widget, data }) => {\n        acc[widget.id as string] = data\n        return acc\n      },\n      {} as Record<string, unknown>\n    )\n  }, [widgetDataQueries])\n\n  // ============================================================================\n  // Actions\n  // ============================================================================\n\n  const addWidget = useCallback(\n    (type: WidgetType) => {\n      const registry = WIDGET_REGISTRY[type]\n      if (!registry) return\n\n      const newWidget: WidgetConfig = {\n        id: uuidv4(),\n        type,\n        title: t(`widgetTypes.${type}.name`),\n        size: registry.defaultSize,\n        refreshInterval: 300000,\n        isVisible: true,\n        order: widgets.length,\n        settings: registry.defaultConfig?.settings || {},\n      } as WidgetConfig\n\n      setWidgets((prev) => [...prev, newWidget])\n    },\n    [widgets.length, t]\n  )\n\n  const removeWidget = useCallback((widgetId: string) => {\n    setWidgets((prev) => prev.filter((w) => w.id !== widgetId))\n  }, [])\n\n  const updateWidget = useCallback((updatedWidget: WidgetConfig) => {\n    setWidgets((prev) =>\n      prev.map((w) => (w.id === updatedWidget.id ? updatedWidget : w))\n    )\n  }, [])\n\n  const reorderWidgets = useCallback((newWidgets: WidgetConfig[]) => {\n    setWidgets(newWidgets)\n  }, [])\n\n  const resetLayout = useCallback(() => {\n    setWidgets(createDefaultWidgets(t))\n    localStorage.removeItem(STORAGE_KEY)\n  }, [t])\n\n  const refreshWidget = useCallback(\n    (widgetId: string) => {\n      queryClient.invalidateQueries({\n        queryKey: widgetDashboardKeys.widgetData(widgetId),\n      })\n    },\n    [queryClient]\n  )\n\n  const openSettings = useCallback((widget: WidgetConfig) => {\n    setSelectedWidget(widget)\n    setIsSettingsOpen(true)\n  }, [])\n\n  const closeSettings = useCallback(() => {\n    setSelectedWidget(null)\n    setIsSettingsOpen(false)\n  }, [])\n\n  const toggleEditMode = useCallback(() => {\n    setIsEditMode((prev) => !prev)\n  }, [])\n\n  // ============================================================================\n  // Existing Widget Types\n  // ============================================================================\n\n  const existingWidgetTypes = useMemo(\n    () => widgets.map((w) => w.type),\n    [widgets]\n  )\n\n  // ============================================================================\n  // Return\n  // ============================================================================\n\n  return {\n    // State\n    widgets,\n    widgetData,\n    isEditMode,\n    selectedWidget,\n    isLibraryOpen,\n    isSettingsOpen,\n    isInitialized,\n    existingWidgetTypes,\n\n    // Actions\n    addWidget,\n    removeWidget,\n    updateWidget,\n    reorderWidgets,\n    resetLayout,\n    refreshWidget,\n    openSettings,\n    closeSettings,\n    toggleEditMode,\n    setIsLibraryOpen,\n  }\n}\n\nexport default useWidgetDashboard\n","/**\n * CustomDashboardPage\n *\n * A customizable dashboard with drag-and-drop widgets.\n * Users can add, remove, reorder, and configure widgets.\n * Layout is persisted to local storage.\n */\n\nimport { useTranslation } from 'react-i18next'\nimport {\n  LayoutDashboard,\n  Plus,\n  Settings,\n  RotateCcw,\n  Save,\n  GripVertical,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from '@/components/ui/alert-dialog'\nimport { Badge } from '@/components/ui/badge'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport {\n  WidgetGrid,\n  WidgetLibrary,\n  WidgetSettingsDialog,\n} from '@/components/dashboard-widgets'\nimport { useWidgetDashboard } from '@/hooks/useWidgetDashboard'\nimport { toast } from 'sonner'\n\n/**\n * Page header component\n */\nfunction DashboardHeader({\n  isEditMode,\n  onToggleEditMode,\n  onAddWidget,\n  onResetLayout,\n  isRTL,\n  t,\n}: {\n  isEditMode: boolean\n  onToggleEditMode: () => void\n  onAddWidget: () => void\n  onResetLayout: () => void\n  isRTL: boolean\n  t: (key: string) => string\n}) {\n  return (\n    <header className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"p-2 rounded-lg bg-primary/10\">\n          <LayoutDashboard className=\"h-5 w-5 sm:h-6 sm:w-6 text-primary\" />\n        </div>\n        <div>\n          <h1 className=\"text-xl sm:text-2xl font-bold\">{t('customDashboard')}</h1>\n          <p className=\"text-sm text-muted-foreground hidden sm:block\">\n            {isEditMode\n              ? t('widgetLibrary.description')\n              : t('title')}\n          </p>\n        </div>\n        {isEditMode && (\n          <Badge variant=\"secondary\" className=\"ms-2\">\n            {t('editMode')}\n          </Badge>\n        )}\n      </div>\n\n      <div className=\"flex items-center gap-2\">\n        {/* Add Widget Button - Only in edit mode */}\n        {isEditMode && (\n          <TooltipProvider>\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={onAddWidget}\n                  className=\"h-9\"\n                >\n                  <Plus className=\"h-4 w-4 me-1\" />\n                  <span className=\"hidden sm:inline\">{t('addWidget')}</span>\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>\n                <p>{t('addWidget')}</p>\n              </TooltipContent>\n            </Tooltip>\n          </TooltipProvider>\n        )}\n\n        {/* Reset Layout Button - Only in edit mode */}\n        {isEditMode && (\n          <AlertDialog>\n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <AlertDialogTrigger asChild>\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9\">\n                      <RotateCcw className=\"h-4 w-4 me-1\" />\n                      <span className=\"hidden sm:inline\">{t('resetLayout')}</span>\n                    </Button>\n                  </AlertDialogTrigger>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>{t('resetLayout')}</p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n            <AlertDialogContent dir={isRTL ? 'rtl' : 'ltr'}>\n              <AlertDialogHeader>\n                <AlertDialogTitle>{t('resetLayout')}</AlertDialogTitle>\n                <AlertDialogDescription>\n                  {t('confirmations.resetLayout')}\n                </AlertDialogDescription>\n              </AlertDialogHeader>\n              <AlertDialogFooter>\n                <AlertDialogCancel>{t('actions.cancel')}</AlertDialogCancel>\n                <AlertDialogAction onClick={onResetLayout}>\n                  {t('resetLayout')}\n                </AlertDialogAction>\n              </AlertDialogFooter>\n            </AlertDialogContent>\n          </AlertDialog>\n        )}\n\n        {/* Edit/Done Button */}\n        <Button\n          variant={isEditMode ? 'default' : 'outline'}\n          size=\"sm\"\n          onClick={onToggleEditMode}\n          className=\"h-9\"\n        >\n          {isEditMode ? (\n            <>\n              <Save className=\"h-4 w-4 me-1\" />\n              <span>{t('exitEditMode')}</span>\n            </>\n          ) : (\n            <>\n              <Settings className=\"h-4 w-4 me-1\" />\n              <span className=\"hidden sm:inline\">{t('editMode')}</span>\n            </>\n          )}\n        </Button>\n      </div>\n    </header>\n  )\n}\n\n/**\n * Empty state component\n */\nfunction EmptyState({\n  onAddWidget,\n  t,\n}: {\n  onAddWidget: () => void\n  t: (key: string) => string\n}) {\n  return (\n    <div className=\"flex flex-col items-center justify-center py-12 sm:py-16 text-center\">\n      <div className=\"p-4 rounded-full bg-muted mb-4\">\n        <GripVertical className=\"h-8 w-8 text-muted-foreground\" />\n      </div>\n      <h3 className=\"text-lg font-medium mb-2\">{t('emptyStates.noWidgets')}</h3>\n      <p className=\"text-sm text-muted-foreground mb-6 max-w-md\">\n        {t('emptyStates.addWidgetHint')}\n      </p>\n      <Button onClick={onAddWidget}>\n        <Plus className=\"h-4 w-4 me-2\" />\n        {t('addWidget')}\n      </Button>\n    </div>\n  )\n}\n\n/**\n * Loading skeleton\n */\nfunction LoadingSkeleton() {\n  return (\n    <div className=\"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n      {Array.from({ length: 8 }).map((_, i) => (\n        <Skeleton key={i} className=\"h-[150px] rounded-lg\" />\n      ))}\n    </div>\n  )\n}\n\n/**\n * Main CustomDashboard page component\n */\nexport function CustomDashboardPage() {\n  const { t, i18n } = useTranslation('dashboard-widgets')\n  const isRTL = i18n.language === 'ar'\n\n  const {\n    widgets,\n    widgetData,\n    isEditMode,\n    selectedWidget,\n    isLibraryOpen,\n    isSettingsOpen,\n    isInitialized,\n    existingWidgetTypes,\n    addWidget,\n    removeWidget,\n    updateWidget,\n    reorderWidgets,\n    resetLayout,\n    refreshWidget,\n    openSettings,\n    closeSettings,\n    toggleEditMode,\n    setIsLibraryOpen,\n  } = useWidgetDashboard()\n\n  // Handle add widget\n  const handleAddWidget = (type: Parameters<typeof addWidget>[0]) => {\n    addWidget(type)\n    toast.success(t('layoutSaved'))\n  }\n\n  // Handle remove widget\n  const handleRemoveWidget = (widgetId: string) => {\n    removeWidget(widgetId)\n    toast.success(t('layoutSaved'))\n  }\n\n  // Handle reset layout\n  const handleResetLayout = () => {\n    resetLayout()\n    toast.success(t('layoutReset'))\n  }\n\n  // Handle save settings\n  const handleSaveSettings = (widget: Parameters<typeof updateWidget>[0]) => {\n    updateWidget(widget)\n    toast.success(t('layoutSaved'))\n  }\n\n  return (\n    <div\n      className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6\"\n      dir={isRTL ? 'rtl' : 'ltr'}\n    >\n      {/* Header */}\n      <DashboardHeader\n        isEditMode={isEditMode}\n        onToggleEditMode={toggleEditMode}\n        onAddWidget={() => setIsLibraryOpen(true)}\n        onResetLayout={handleResetLayout}\n        isRTL={isRTL}\n        t={t}\n      />\n\n      {/* Main Content */}\n      {!isInitialized ? (\n        <LoadingSkeleton />\n      ) : widgets.length === 0 ? (\n        <EmptyState onAddWidget={() => setIsLibraryOpen(true)} t={t} />\n      ) : (\n        <WidgetGrid\n          widgets={widgets}\n          widgetData={widgetData}\n          isEditMode={isEditMode}\n          onReorder={reorderWidgets}\n          onRemove={handleRemoveWidget}\n          onSettings={openSettings}\n          onRefresh={refreshWidget}\n        />\n      )}\n\n      {/* Widget Library Sheet */}\n      <WidgetLibrary\n        isOpen={isLibraryOpen}\n        onClose={() => setIsLibraryOpen(false)}\n        onAddWidget={handleAddWidget}\n        existingWidgetTypes={existingWidgetTypes}\n      />\n\n      {/* Widget Settings Dialog */}\n      <WidgetSettingsDialog\n        widget={selectedWidget}\n        isOpen={isSettingsOpen}\n        onClose={closeSettings}\n        onSave={handleSaveSettings}\n      />\n    </div>\n  )\n}\n\nexport default CustomDashboardPage\n","/**\n * Custom Dashboard Route\n *\n * Protected route for the customizable dashboard with drag-and-drop widgets.\n */\n\nimport { createFileRoute } from '@tanstack/react-router'\nimport { CustomDashboardPage } from '@/pages/custom-dashboard'\n\nexport const Route = createFileRoute('/_protected/custom-dashboard')({\n  component: CustomDashboardPage,\n})\n"],"names":["sizeToColSpan","sizeToRowSpan","WidgetContainer","forwardRef","id","title","size","isEditMode","loadingState","onSettings","onRefresh","onRemove","children","className","ref","t","i18n","useTranslation","isRTL","attributes","listeners","setNodeRef","transform","transition","isDragging","useSortable","style","CSS","isLoading","isError","jsx","node","cn","jsxs","Card","CardHeader","GripVertical","CardTitle","Loader2","TooltipProvider","Tooltip","TooltipTrigger","Button","RefreshCw","TooltipContent","Settings","X","CardContent","Sparkline","data","color","path","useMemo","max","min","range","width","height","padding","value","index","y","TrendIndicator","direction","percentage","period","TrendIcon","TrendingUp","TrendingDown","Minus","trendColors","bgColors","TargetProgress","current","target","progress","Target","Progress","KpiWidget","config","metric","showTrend","showSparkline","comparisonPeriod","metricLabel","trend","trendPercentage","sparklineData","targetProgress","formattedValue","sparklineColor","FALLBACK_COLORS","BarChart","showLegend","colors","labels","datasets","maxValue","d","label","dataset","datasetIndex","PieChart","isDonut","values","total","sum","v","segments","cumulativeAngle","angle","startAngle","startRad","endRad","largeArc","innerRadius","outerRadius","x1","y1","x2","y2","x3","y3","x4","y4","dataset0","segment","LineChart","showGrid","isArea","allValues","minValue","getPath","points","x","linePath","p","lastPoint","firstPoint","areaPath","ratio","pointIndex","Fragment","ChartWidget","chartType","customColors","renderChart","getEventIcon","type","Users","AlertCircle","Clock","FileText","Calendar","getEventColor","formatRelativeDate","dateString","locale","date","now","diffMs","diffDays","rtf","EventItem","event","Icon","isPast","relativeDate","Badge","ChevronRight","EventsWidget","settings","filteredEvents","events","e","a","b","_","i","ScrollArea","getSourceIcon","source","ListTodo","Inbox","Circle","getSourceColor","getPriorityBadge","priority","formatDeadline","deadline","TaskItemComponent","task","onToggle","sourceColors","priorityBadge","isCompleted","Checkbox","checked","AlertTriangle","GroupHeader","count","TaskListWidget","onTaskToggle","processedTasks","tasks","priorityOrder","groups","key","CheckCircle2","groupKey","groupTasks","completed","getCategoryIcon","category","UserPlus","AtSign","Bell","getCategoryColor","formatRelativeTime","diffMinutes","diffHours","NotificationItem","notification","onMarkAsRead","relativeTime","NotificationsWidget","filteredNotifications","notifications","n","BellOff","getActionIcon","iconName","Plus","Search","BarChart2","FolderPlus","DEFAULT_QUICK_ACTIONS","ActionButton","action","onClick","buttonContent","Link","QuickActionsWidget","onActionClick","actions","handleActionClick","renderWidget","WidgetGrid","widgets","widgetData","onReorder","activeWidget","setActiveWidget","useState","sensors","useSensors","useSensor","PointerSensor","TouchSensor","KeyboardSensor","sortableKeyboardCoordinates","handleDragStart","useCallback","active","widget","w","handleDragEnd","over","oldIndex","newIndex","newWidgets","arrayMove","widgetIds","DndContext","closestCenter","SortableContext","rectSortingStrategy","DragOverlay","WIDGET_REGISTRY","getIcon","Activity","Zap","WIDGET_CATEGORIES","WidgetCard","entry","isAdded","onAdd","name","description","WidgetLibrary","isOpen","onClose","onAddWidget","existingWidgetTypes","searchQuery","setSearchQuery","selectedCategory","setSelectedCategory","filteredWidgets","query","categories","Sheet","open","SheetContent","SheetHeader","SheetTitle","SheetDescription","Input","SIZE_OPTIONS","REFRESH_OPTIONS","KPI_METRICS","CHART_TYPES","CHART_SOURCES","GeneralSettings","onChange","Label","Select","SelectTrigger","SelectValue","SelectContent","option","SelectItem","KpiSettings","kpiSettings","Switch","ChartSettings","chartSettings","EventsSettings","eventsSettings","TaskListSettings","taskSettings","WidgetSettingsDialog","onSave","editedWidget","setEditedWidget","useEffect","handleGeneralChange","updates","prev","handleSettingsChange","handleSave","renderWidgetSettings","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Tabs","TabsList","TabsTrigger","TabsContent","DialogFooter","widgetDashboardKeys","widgetId","STORAGE_KEY","createDefaultWidgets","uuidv4","generateMockKpiData","previousValue","generateMockChartData","dataSource","generateMockEvents","generateMockTasks","generateMockNotifications","useWidgetData","useQuery","resolve","useWidgetDashboard","options","autoSave","queryClient","useQueryClient","setWidgets","setIsEditMode","selectedWidget","setSelectedWidget","isLibraryOpen","setIsLibraryOpen","isSettingsOpen","setIsSettingsOpen","isInitialized","setIsInitialized","stored","parsed","error","widgetDataQueries","acc","addWidget","registry","newWidget","removeWidget","updateWidget","updatedWidget","reorderWidgets","resetLayout","refreshWidget","openSettings","closeSettings","toggleEditMode","DashboardHeader","onToggleEditMode","onResetLayout","LayoutDashboard","AlertDialog","AlertDialogTrigger","RotateCcw","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","Save","EmptyState","LoadingSkeleton","Skeleton","CustomDashboardPage","handleAddWidget","toast","handleRemoveWidget","handleResetLayout","handleSaveSettings","SplitComponent"],"mappings":"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"}