{"version":3,"file":"register-DySy_0q6.js","sources":["../../src/auth/RegisterPage.tsx","../../src/routes/register.tsx?tsr-split=component"],"sourcesContent":["import { useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { z } from 'zod'\nimport { useNavigate } from '@tanstack/react-router'\nimport { Globe, Loader2 } from 'lucide-react'\nimport { supabase } from '../store/authStore'\nimport toast from 'react-hot-toast'\n\nconst registerSchema = z.object({\n email: z.string().email('Invalid email address'),\n password: z.string().min(6, 'Password must be at least 6 characters'),\n confirmPassword: z.string(),\n name: z.string().min(2, 'Name must be at least 2 characters'),\n}).refine((data) => data.password === data.confirmPassword, {\n message: \"Passwords don't match\",\n path: [\"confirmPassword\"],\n})\n\ntype RegisterForm = z.infer<typeof registerSchema>\n\nexport function RegisterPage() {\n const navigate = useNavigate()\n const [isLoading, setIsLoading] = useState(false)\n\n const {\n register,\n handleSubmit,\n formState: { errors },\n } = useForm<RegisterForm>({\n resolver: zodResolver(registerSchema),\n })\n\n const onSubmit = async (data: RegisterForm) => {\n setIsLoading(true)\n try {\n const { data: authData, error } = await supabase.auth.signUp({\n email: data.email,\n password: data.password,\n options: {\n data: {\n name: data.name,\n role: 'user',\n },\n },\n })\n\n if (error) {\n throw error\n }\n\n if (authData.user) {\n toast.success('Account created successfully! Please check your email to verify your account.')\n navigate({ to: '/login' })\n }\n } catch (error) {\n const errorMessage = error instanceof Error ? error.message : 'Registration failed'\n toast.error(errorMessage)\n } finally {\n setIsLoading(false)\n }\n }\n\n return (\n <div className=\"from-base-50 to-base-100 flex min-h-screen items-center justify-center bg-gradient-to-br p-4\">\n <div className=\"w-full max-w-md\">\n <div className=\"dark:bg-base-800 rounded-2xl bg-white p-8 shadow-xl\">\n <div className=\"mb-6 flex justify-center\">\n <div className=\"flex size-16 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900\">\n <Globe className=\"size-8 text-primary-600 dark:text-primary-400\" />\n </div>\n </div>\n\n <h1 className=\"font-display text-base-900 dark:text-base-50 mb-2 text-center text-2xl\">\n Create Your Account\n </h1>\n <p className=\"text-base-600 dark:text-base-400 font-text mb-6 text-center\">\n Join GASTAT International Dossier System\n </p>\n\n <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n <div>\n <label className=\"text-base-700 dark:text-base-300 font-text mb-2 block text-sm font-medium\">\n Full Name\n </label>\n <input\n {...register('name')}\n type=\"text\"\n placeholder=\"John Doe\"\n className=\"border-base-300 dark:border-base-600 dark:bg-base-800 dark:text-base-50 font-text w-full rounded-lg border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n disabled={isLoading}\n />\n {errors.name && (\n <p className=\"font-text mt-1 text-sm text-red-600 dark:text-red-400\">{errors.name.message}</p>\n )}\n </div>\n\n <div>\n <label className=\"text-base-700 dark:text-base-300 font-text mb-2 block text-sm font-medium\">\n Email\n </label>\n <input\n {...register('email')}\n type=\"email\"\n placeholder=\"user@gastat.sa\"\n className=\"border-base-300 dark:border-base-600 dark:bg-base-800 dark:text-base-50 font-text w-full rounded-lg border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n disabled={isLoading}\n />\n {errors.email && (\n <p className=\"font-text mt-1 text-sm text-red-600 dark:text-red-400\">{errors.email.message}</p>\n )}\n </div>\n\n <div>\n <label className=\"text-base-700 dark:text-base-300 font-text mb-2 block text-sm font-medium\">\n Password\n </label>\n <input\n {...register('password')}\n type=\"password\"\n className=\"border-base-300 dark:border-base-600 dark:bg-base-800 dark:text-base-50 font-text w-full rounded-lg border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n disabled={isLoading}\n />\n {errors.password && (\n <p className=\"font-text mt-1 text-sm text-red-600 dark:text-red-400\">{errors.password.message}</p>\n )}\n </div>\n\n <div>\n <label className=\"text-base-700 dark:text-base-300 font-text mb-2 block text-sm font-medium\">\n Confirm Password\n </label>\n <input\n {...register('confirmPassword')}\n type=\"password\"\n className=\"border-base-300 dark:border-base-600 dark:bg-base-800 dark:text-base-50 font-text w-full rounded-lg border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n disabled={isLoading}\n />\n {errors.confirmPassword && (\n <p className=\"font-text mt-1 text-sm text-red-600 dark:text-red-400\">{errors.confirmPassword.message}</p>\n )}\n </div>\n\n <button\n type=\"submit\"\n disabled={isLoading}\n className=\"font-text flex w-full items-center justify-center rounded-lg bg-primary-600 px-4 py-3 font-medium text-primary-50 transition-colors hover:bg-primary-700 disabled:cursor-not-allowed disabled:opacity-50\"\n >\n {isLoading ? (\n <>\n <Loader2 className=\"me-2 size-4 animate-spin\" />\n Creating Account...\n </>\n ) : (\n 'Sign Up'\n )}\n </button>\n\n <div className=\"text-base-600 dark:text-base-400 font-text text-center text-sm\">\n Already have an account?{' '}\n <a\n href=\"/login\"\n className=\"font-text text-primary-600 hover:text-primary-700 hover:underline\"\n onClick={(e) => {\n e.preventDefault()\n navigate({ to: '/login' })\n }}\n >\n Sign In\n </a>\n </div>\n </form>\n </div>\n\n <div className=\"text-base-600 dark:text-base-400 font-text mt-6 text-center text-sm\">\n Â© 2025 GASTAT - General Authority for Statistics\n </div>\n </div>\n </div>\n )\n}","import { createFileRoute } from '@tanstack/react-router'\nimport { RegisterPage } from '../auth/RegisterPage'\n\nexport const Route = createFileRoute('/register')({\n component: RegisterPage,\n})"],"names":["registerSchema","z.object","z.string","data","RegisterPage","navigate","useNavigate","isLoading","setIsLoading","useState","register","handleSubmit","errors","useForm","zodResolver","onSubmit","authData","error","supabase","toast","errorMessage","jsxs","jsx","Globe","Fragment","Loader2","e","SplitComponent"],"mappings":"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"}