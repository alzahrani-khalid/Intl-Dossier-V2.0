{"version":3,"file":"settings-CpIDvXe4.js","sources":["../../src/pages/settings/SettingsPage.tsx","../../src/routes/_protected/settings.tsx?tsr-split=component"],"sourcesContent":["import { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { useMutation, useQuery } from '@tanstack/react-query'\nimport {\n  User,\n  Globe,\n  Bell,\n  Shield,\n  Palette,\n  Clock,\n  Calendar,\n  Moon,\n  Sun,\n  Monitor,\n  Save,\n  ChevronRight,\n  Check,\n  AlertCircle,\n  Key,\n  Smartphone,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Switch } from '@/components/ui/switch'\nimport { supabase } from '@/lib/supabase'\nimport { useAuthStore } from '@/store/authStore'\nimport { switchLanguage } from '@/i18n'\nimport { useTheme } from '@/hooks/use-theme'\n\ninterface UserSettings {\n  language_preference: 'en' | 'ar'\n  timezone: string\n  theme: 'light' | 'dark' | 'auto'\n  notifications: {\n    email: boolean\n    push: boolean\n    mou_expiry: boolean\n    event_reminders: boolean\n    report_generation: boolean\n  }\n  security: {\n    mfa_enabled: boolean\n    session_timeout: number\n  }\n}\n\nexport function SettingsPage() {\n  const { t, i18n } = useTranslation()\n  const { user } = useAuthStore()\n  const { theme, setTheme, colorMode, setColorMode } = useTheme()\n  const [activeSection, setActiveSection] = useState('general')\n  const [hasChanges, setHasChanges] = useState(false)\n  const isRTL = i18n.language === 'ar'\n\n  const { data: settings, isLoading } = useQuery({\n    queryKey: ['user-settings', user?.id],\n    queryFn: async () => {\n      const { data, error } = await supabase.from('users').select('*').eq('id', user?.id).single()\n\n      if (error) throw error\n\n      // Transform to settings format\n      return {\n        language_preference: data.language_preference || 'en',\n        timezone: data.timezone || 'UTC',\n        theme: data.theme || 'auto',\n        notifications: {\n          email: data.notifications_email ?? true,\n          push: data.notifications_push ?? true,\n          mou_expiry: data.notifications_mou_expiry ?? true,\n          event_reminders: data.notifications_event_reminders ?? true,\n          report_generation: data.notifications_report_generation ?? true,\n        },\n        security: {\n          mfa_enabled: data.mfa_enabled || false,\n          session_timeout: data.session_timeout || 30,\n        },\n      } as UserSettings\n    },\n    enabled: !!user?.id,\n  })\n\n  const [formData, setFormData] = useState<UserSettings>(\n    settings || {\n      language_preference: 'en',\n      timezone: 'UTC',\n      theme: 'auto',\n      notifications: {\n        email: true,\n        push: true,\n        mou_expiry: true,\n        event_reminders: true,\n        report_generation: true,\n      },\n      security: {\n        mfa_enabled: false,\n        session_timeout: 30,\n      },\n    },\n  )\n\n  const updateSettingsMutation = useMutation({\n    mutationFn: async (newSettings: UserSettings) => {\n      const { error } = await supabase\n        .from('users')\n        .update({\n          language_preference: newSettings.language_preference,\n          timezone: newSettings.timezone,\n          theme: newSettings.theme,\n          notifications_email: newSettings.notifications.email,\n          notifications_push: newSettings.notifications.push,\n          notifications_mou_expiry: newSettings.notifications.mou_expiry,\n          notifications_event_reminders: newSettings.notifications.event_reminders,\n          notifications_report_generation: newSettings.notifications.report_generation,\n          mfa_enabled: newSettings.security.mfa_enabled,\n          session_timeout: newSettings.security.session_timeout,\n          updated_at: new Date().toISOString(),\n        })\n        .eq('id', user?.id)\n\n      if (error) throw error\n\n      // Apply language change\n      if (newSettings.language_preference !== i18n.language) {\n        await switchLanguage(newSettings.language_preference)\n      }\n\n      // Apply theme change\n      if (newSettings.theme === 'dark') {\n        document.documentElement.classList.add('dark')\n      } else if (newSettings.theme === 'light') {\n        document.documentElement.classList.remove('dark')\n      } else {\n        // Auto theme based on system preference\n        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n          document.documentElement.classList.add('dark')\n        } else {\n          document.documentElement.classList.remove('dark')\n        }\n      }\n\n      return newSettings\n    },\n    onSuccess: () => {\n      setHasChanges(false)\n    },\n  })\n\n  const updateFormData = (updates: Partial<UserSettings>) => {\n    setFormData((prev) => ({ ...prev, ...updates }))\n    setHasChanges(true)\n  }\n\n  const updateNotifications = (key: keyof UserSettings['notifications'], value: boolean) => {\n    setFormData((prev) => ({\n      ...prev,\n      notifications: {\n        ...prev.notifications,\n        [key]: value,\n      },\n    }))\n    setHasChanges(true)\n  }\n\n  const updateSecurity = (key: keyof UserSettings['security'], value: any) => {\n    setFormData((prev) => ({\n      ...prev,\n      security: {\n        ...prev.security,\n        [key]: value,\n      },\n    }))\n    setHasChanges(true)\n  }\n\n  const sections = [\n    { id: 'general', label: t('settings.general'), icon: <User className=\"h-4 w-4\" /> },\n    { id: 'appearance', label: t('settings.appearance'), icon: <Palette className=\"h-4 w-4\" /> },\n    { id: 'notifications', label: t('settings.notifications'), icon: <Bell className=\"h-4 w-4\" /> },\n    { id: 'security', label: t('settings.security'), icon: <Shield className=\"h-4 w-4\" /> },\n  ]\n\n  const timezones = [\n    { value: 'UTC', label: 'UTC' },\n    { value: 'Asia/Riyadh', label: 'Riyadh (GMT+3)' },\n    { value: 'Asia/Dubai', label: 'Dubai (GMT+4)' },\n    { value: 'Africa/Cairo', label: 'Cairo (GMT+2)' },\n    { value: 'Europe/London', label: 'London (GMT)' },\n    { value: 'America/New_York', label: 'New York (GMT-5)' },\n  ]\n\n  return (\n    <div className=\"container mx-auto py-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold\">{t('navigation.settings')}</h1>\n        {hasChanges && (\n          <Button\n            onClick={() => updateSettingsMutation.mutate(formData)}\n            disabled={updateSettingsMutation.isPending}\n          >\n            <Save className=\"h-4 w-4 me-2\" />\n            {t('common.save')}\n          </Button>\n        )}\n      </div>\n\n      {updateSettingsMutation.isSuccess && (\n        <Card className=\"mb-6 border-green-200 bg-green-50\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center gap-2 text-green-800\">\n              <Check className=\"h-5 w-5\" />\n              <span>{t('settings.savedSuccessfully')}</span>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      <div className=\"grid gap-6 md:grid-cols-4\">\n        <div>\n          <Card>\n            <CardContent className=\"p-0\">\n              {sections.map((section) => (\n                <button\n                  key={section.id}\n                  className={`w-full flex items-center justify-between p-4 hover:bg-muted transition-colors ${\n                    activeSection === section.id ? 'bg-muted' : ''\n                  }`}\n                  onClick={() => setActiveSection(section.id)}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    {section.icon}\n                    <span className=\"font-medium\">{section.label}</span>\n                  </div>\n                  <ChevronRight className=\"h-4 w-4\" />\n                </button>\n              ))}\n            </CardContent>\n          </Card>\n        </div>\n\n        <div className=\"md:col-span-3\">\n          {isLoading ? (\n            <Card>\n              <CardContent className=\"p-8 text-center\">{t('common.loading')}</CardContent>\n            </Card>\n          ) : (\n            <>\n              {activeSection === 'general' && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle>{t('settings.general')}</CardTitle>\n                    <CardDescription>{t('settings.generalDesc')}</CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n                    <div className=\"space-y-2\">\n                      <Label>{t('settings.language')}</Label>\n                      <div className=\"flex gap-2\">\n                        <Button\n                          variant={formData.language_preference === 'en' ? 'default' : 'outline'}\n                          onClick={() => updateFormData({ language_preference: 'en' })}\n                        >\n                          <Globe className=\"h-4 w-4 me-2\" />\n                          English\n                        </Button>\n                        <Button\n                          variant={formData.language_preference === 'ar' ? 'default' : 'outline'}\n                          onClick={() => updateFormData({ language_preference: 'ar' })}\n                        >\n                          <Globe className=\"h-4 w-4 me-2\" />\n                          العربية\n                        </Button>\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>{t('settings.timezone')}</Label>\n                      <select\n                        value={formData.timezone}\n                        onChange={(e) => updateFormData({ timezone: e.target.value })}\n                        className=\"w-full rounded-md border border-input bg-background px-3 py-2\"\n                      >\n                        {timezones.map((tz) => (\n                          <option key={tz.value} value={tz.value}>\n                            {tz.label}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>{t('settings.dateFormat')}</Label>\n                      <div className=\"flex gap-2\">\n                        <Button variant=\"outline\" size=\"sm\">\n                          DD/MM/YYYY\n                        </Button>\n                        <Button variant=\"outline\" size=\"sm\">\n                          MM/DD/YYYY\n                        </Button>\n                        <Button variant=\"outline\" size=\"sm\">\n                          YYYY-MM-DD\n                        </Button>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n\n              {activeSection === 'appearance' && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle>{t('settings.appearance')}</CardTitle>\n                    <CardDescription>{t('settings.appearanceDesc')}</CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-8\">\n                    {/* Color Mode Section */}\n                    <div className=\"space-y-4\">\n                      <Label className=\"text-base font-semibold\">{t('settings.colorMode')}</Label>\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <Card\n                          className={`cursor-pointer transition-all hover:shadow-md ${\n                            colorMode === 'light' ? 'ring-2 ring-primary' : ''\n                          }`}\n                          onClick={() => setColorMode('light')}\n                        >\n                          <CardContent className=\"p-6 text-center\">\n                            <Sun className=\"h-10 w-10 mx-auto mb-3 text-yellow-500\" />\n                            <span className=\"text-sm font-medium\">{t('settings.lightMode')}</span>\n                          </CardContent>\n                        </Card>\n                        <Card\n                          className={`cursor-pointer transition-all hover:shadow-md ${\n                            colorMode === 'dark' ? 'ring-2 ring-primary' : ''\n                          }`}\n                          onClick={() => setColorMode('dark')}\n                        >\n                          <CardContent className=\"p-6 text-center\">\n                            <Moon className=\"h-10 w-10 mx-auto mb-3 text-blue-500\" />\n                            <span className=\"text-sm font-medium\">{t('settings.darkMode')}</span>\n                          </CardContent>\n                        </Card>\n                      </div>\n                    </div>\n\n                    {/* Theme Section */}\n                    <div className=\"space-y-4\">\n                      <div>\n                        <Label className=\"text-base font-semibold\">\n                          {isRTL ? 'نمط السمة' : 'Theme Style'}\n                        </Label>\n                        <p className=\"text-sm text-muted-foreground mt-1\">\n                          {isRTL ? 'سمة التطبيق الحالية' : 'Current application theme'}\n                        </p>\n                      </div>\n                      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                        {/* Canvas Theme */}\n                        <Card className=\"ring-2 ring-primary\">\n                          <CardContent className=\"p-6\">\n                            <div className=\"flex items-center gap-3 mb-4\">\n                              <div className=\"flex gap-1\">\n                                <div\n                                  className=\"w-4 h-4 rounded-full\"\n                                  style={{ backgroundColor: 'hsl(155 50.6% 37.3%)' }}\n                                />\n                                <div\n                                  className=\"w-4 h-4 rounded-full\"\n                                  style={{ backgroundColor: 'hsl(0 0% 89.8%)' }}\n                                />\n                                <div\n                                  className=\"w-4 h-4 rounded-full\"\n                                  style={{ backgroundColor: 'hsl(155 55.8% 58.4%)' }}\n                                />\n                              </div>\n                              <Check className=\"h-5 w-5 text-primary ms-auto\" />\n                            </div>\n                            <div className=\"text-center\">\n                              <span className=\"text-sm font-medium\">\n                                {isRTL ? 'كانفس' : 'Canvas'}\n                              </span>\n                              <p className=\"text-xs text-muted-foreground mt-1\">\n                                {isRTL\n                                  ? 'أخضر يوكاليبتوس مع رمادي ألاباستر'\n                                  : 'Eucalyptus green with Alabaster gray'}\n                              </p>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n\n              {activeSection === 'notifications' && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle>{t('settings.notifications')}</CardTitle>\n                    <CardDescription>{t('settings.notificationsDesc')}</CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"space-y-0.5\">\n                          <Label>{t('settings.emailNotifications')}</Label>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {t('settings.emailNotificationsDesc')}\n                          </p>\n                        </div>\n                        <Switch\n                          checked={formData.notifications.email}\n                          onCheckedChange={(checked) => updateNotifications('email', checked)}\n                        />\n                      </div>\n\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"space-y-0.5\">\n                          <Label>{t('settings.pushNotifications')}</Label>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {t('settings.pushNotificationsDesc')}\n                          </p>\n                        </div>\n                        <Switch\n                          checked={formData.notifications.push}\n                          onCheckedChange={(checked) => updateNotifications('push', checked)}\n                        />\n                      </div>\n\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"space-y-0.5\">\n                          <Label>{t('settings.mouExpiryAlerts')}</Label>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {t('settings.mouExpiryAlertsDesc')}\n                          </p>\n                        </div>\n                        <Switch\n                          checked={formData.notifications.mou_expiry}\n                          onCheckedChange={(checked) => updateNotifications('mou_expiry', checked)}\n                        />\n                      </div>\n\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"space-y-0.5\">\n                          <Label>{t('settings.eventReminders')}</Label>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {t('settings.eventRemindersDesc')}\n                          </p>\n                        </div>\n                        <Switch\n                          checked={formData.notifications.event_reminders}\n                          onCheckedChange={(checked) =>\n                            updateNotifications('event_reminders', checked)\n                          }\n                        />\n                      </div>\n\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"space-y-0.5\">\n                          <Label>{t('settings.reportGeneration')}</Label>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {t('settings.reportGenerationDesc')}\n                          </p>\n                        </div>\n                        <Switch\n                          checked={formData.notifications.report_generation}\n                          onCheckedChange={(checked) =>\n                            updateNotifications('report_generation', checked)\n                          }\n                        />\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n\n              {activeSection === 'security' && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle>{t('settings.security')}</CardTitle>\n                    <CardDescription>{t('settings.securityDesc')}</CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"space-y-0.5\">\n                          <Label className=\"flex items-center gap-2\">\n                            <Smartphone className=\"h-4 w-4\" />\n                            {t('settings.twoFactorAuth')}\n                          </Label>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {t('settings.twoFactorAuthDesc')}\n                          </p>\n                        </div>\n                        <Switch\n                          checked={formData.security.mfa_enabled}\n                          onCheckedChange={(checked) => updateSecurity('mfa_enabled', checked)}\n                        />\n                      </div>\n\n                      {formData.security.mfa_enabled && (\n                        <Card className=\"border-orange-200 bg-orange-50\">\n                          <CardContent className=\"p-4\">\n                            <div className=\"flex items-start gap-2\">\n                              <AlertCircle className=\"h-5 w-5 text-orange-600 mt-0.5\" />\n                              <div className=\"text-sm text-orange-800\">\n                                <p className=\"font-medium mb-1\">{t('settings.mfaSetupRequired')}</p>\n                                <p>{t('settings.mfaSetupInstructions')}</p>\n                                <Button size=\"sm\" className=\"mt-2\">\n                                  <Key className=\"h-4 w-4 me-2\" />\n                                  {t('settings.setupMfa')}\n                                </Button>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      )}\n\n                      <div className=\"space-y-2\">\n                        <Label>{t('settings.sessionTimeout')}</Label>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {t('settings.sessionTimeoutDesc')}\n                        </p>\n                        <select\n                          value={formData.security.session_timeout}\n                          onChange={(e) =>\n                            updateSecurity('session_timeout', Number(e.target.value))\n                          }\n                          className=\"w-full rounded-md border border-input bg-background px-3 py-2\"\n                        >\n                          <option value={15}>15 {t('settings.minutes')}</option>\n                          <option value={30}>30 {t('settings.minutes')}</option>\n                          <option value={60}>1 {t('settings.hour')}</option>\n                          <option value={120}>2 {t('settings.hours')}</option>\n                          <option value={480}>8 {t('settings.hours')}</option>\n                        </select>\n                      </div>\n\n                      <div className=\"pt-4 border-t\">\n                        <h3 className=\"font-medium mb-4\">{t('settings.passwordChange')}</h3>\n                        <div className=\"space-y-4\">\n                          <div>\n                            <Label>{t('settings.currentPassword')}</Label>\n                            <Input type=\"password\" className=\"mt-2\" />\n                          </div>\n                          <div>\n                            <Label>{t('settings.newPassword')}</Label>\n                            <Input type=\"password\" className=\"mt-2\" />\n                          </div>\n                          <div>\n                            <Label>{t('settings.confirmPassword')}</Label>\n                            <Input type=\"password\" className=\"mt-2\" />\n                          </div>\n                          <Button>\n                            <Key className=\"h-4 w-4 me-2\" />\n                            {t('settings.changePassword')}\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { createFileRoute } from '@tanstack/react-router'\nimport { SettingsPage } from '@/pages/settings/SettingsPage'\n\nexport const Route = createFileRoute('/_protected/settings')({\n component: SettingsPage\n})"],"names":["SettingsPage","t","i18n","useTranslation","user","useAuthStore","theme","setTheme","colorMode","setColorMode","useTheme","activeSection","setActiveSection","useState","hasChanges","setHasChanges","isRTL","settings","isLoading","useQuery","data","error","supabase","formData","setFormData","updateSettingsMutation","useMutation","newSettings","switchLanguage","updateFormData","updates","prev","updateNotifications","key","value","updateSecurity","sections","jsx","User","Palette","Bell","Shield","timezones","jsxs","Button","Save","Card","CardContent","Check","section","ChevronRight","Fragment","CardHeader","CardTitle","CardDescription","Label","Globe","e","tz","Sun","Moon","Switch","checked","Smartphone","AlertCircle","Key","Input","SplitComponent"],"mappings":"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"}