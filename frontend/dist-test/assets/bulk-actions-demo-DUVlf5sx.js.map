{"version":3,"file":"bulk-actions-demo-DUVlf5sx.js","sources":["../../src/components/bulk-actions/BulkActionsToolbar.tsx","../../src/types/bulk-actions.types.ts","../../src/components/bulk-actions/BulkActionConfirmDialog.tsx","../../src/components/bulk-actions/BulkActionProgressIndicator.tsx","../../src/components/bulk-actions/SelectableDataTable.tsx","../../src/components/bulk-actions/UndoToast.tsx","../../src/hooks/useBulkActions.ts","../../src/pages/bulk-actions/BulkActionsDemo.tsx","../../src/routes/_protected/bulk-actions-demo.tsx?tsr-split=component"],"sourcesContent":["import { useTranslation } from 'react-i18next';\nimport { Button } from '@/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport {\n  X,\n  ChevronDown,\n  RefreshCw,\n  UserPlus,\n  Tags,\n  Download,\n  Trash2,\n  Archive,\n  RotateCcw,\n  Bell,\n  AlertTriangle,\n  ArrowUpCircle,\n  MoreHorizontal,\n} from 'lucide-react';\nimport type {\n  BulkSelectableItem,\n  BulkSelectionState,\n  BulkActionDefinition,\n  BulkActionState,\n  BulkActionEntityType,\n} from '@/types/bulk-actions.types';\nimport { cn } from '@/lib/utils';\n\nexport interface BulkActionsToolbarProps<T extends BulkSelectableItem = BulkSelectableItem> {\n  /** Selection state */\n  selection: BulkSelectionState;\n  /** Available actions */\n  actions: BulkActionDefinition<T>[];\n  /** Entity type for display */\n  entityType: BulkActionEntityType;\n  /** Action state */\n  actionState: BulkActionState;\n  /** Callback when action is triggered */\n  onActionClick: (action: BulkActionDefinition<T>) => void;\n  /** Callback to clear selection */\n  onClearSelection: () => void;\n  /** Callback to select all visible items */\n  onSelectAll?: () => void;\n  /** Whether component is disabled */\n  disabled?: boolean;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * Icon mapping for action types\n */\nconst ACTION_ICONS: Record<string, React.ReactNode> = {\n  'update-status': <RefreshCw className=\"h-4 w-4\" />,\n  'assign': <UserPlus className=\"h-4 w-4\" />,\n  'unassign': <UserPlus className=\"h-4 w-4\" />,\n  'add-tags': <Tags className=\"h-4 w-4\" />,\n  'remove-tags': <Tags className=\"h-4 w-4\" />,\n  'export': <Download className=\"h-4 w-4\" />,\n  'delete': <Trash2 className=\"h-4 w-4\" />,\n  'archive': <Archive className=\"h-4 w-4\" />,\n  'restore': <RotateCcw className=\"h-4 w-4\" />,\n  'send-reminder': <Bell className=\"h-4 w-4\" />,\n  'escalate': <AlertTriangle className=\"h-4 w-4\" />,\n  'change-priority': <ArrowUpCircle className=\"h-4 w-4\" />,\n};\n\n/**\n * BulkActionsToolbar - Displays bulk action controls when items are selected\n *\n * Features:\n * - Shows selection count with entity type\n * - Primary action buttons for common operations\n * - Dropdown menu for additional actions\n * - \"Clear Selection\" button\n * - Mobile-first responsive design\n * - RTL support via logical properties\n * - Touch-friendly controls (44x44px minimum)\n * - Warning at max item limit\n */\nexport function BulkActionsToolbar<T extends BulkSelectableItem = BulkSelectableItem>({\n  selection,\n  actions,\n  entityType,\n  actionState,\n  onActionClick,\n  onClearSelection,\n  onSelectAll,\n  disabled = false,\n  className,\n}: BulkActionsToolbarProps<T>) {\n  const { t, i18n } = useTranslation('bulk-actions');\n  const isRTL = i18n.language === 'ar';\n\n  const { selectedCount, maxReached } = selection;\n  const isProcessing = actionState.status === 'processing';\n\n  // Don't render if nothing selected\n  if (selectedCount === 0) {\n    return null;\n  }\n\n  // Split actions into primary (first 3) and secondary (rest)\n  const primaryActions = actions.slice(0, 3);\n  const secondaryActions = actions.slice(3);\n\n  // Get entity type label\n  const entityLabel = selectedCount === 1\n    ? t(`entityTypes.${entityType}`)\n    : t(`entityTypes.${entityType}_plural`);\n\n  return (\n    <div\n      className={cn(\n        'sticky top-0 z-10 flex flex-col gap-2 p-3 sm:p-4',\n        'bg-blue-50 border-b border-blue-200',\n        'dark:bg-blue-950 dark:border-blue-800',\n        'sm:flex-row sm:items-center sm:justify-between sm:gap-4',\n        className\n      )}\n      dir={isRTL ? 'rtl' : 'ltr'}\n      role=\"toolbar\"\n      aria-label={t('accessibility.toolbar')}\n    >\n      {/* Selection Info */}\n      <div className=\"flex items-center gap-2 sm:gap-3\">\n        <span className=\"text-sm font-medium text-blue-900 dark:text-blue-100 sm:text-base\">\n          {t('selection.selected', { count: selectedCount })} {entityLabel}\n        </span>\n\n        {maxReached && (\n          <span className=\"text-xs text-orange-600 dark:text-orange-400 sm:text-sm\">\n            {t('selection.maxReached')}\n          </span>\n        )}\n\n        {onSelectAll && !maxReached && (\n          <Button\n            variant=\"link\"\n            size=\"sm\"\n            onClick={onSelectAll}\n            disabled={disabled || isProcessing}\n            className=\"h-auto p-0 text-blue-600 dark:text-blue-400\"\n          >\n            {t('selection.selectAll')}\n          </Button>\n        )}\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"flex flex-wrap items-center gap-2 sm:gap-3\">\n        {/* Primary Actions */}\n        {primaryActions.map((action) => (\n          <Button\n            key={action.id}\n            onClick={() => onActionClick(action)}\n            disabled={disabled || isProcessing}\n            variant={action.variant || 'default'}\n            size=\"sm\"\n            className={cn(\n              'h-10 min-w-10 px-3 text-sm sm:h-11 sm:px-4',\n              action.isDestructive && 'hover:bg-red-600 hover:text-white'\n            )}\n            aria-label={t(`actions.${action.id.replace(/-/g, '')}`)}\n          >\n            <span className={cn('me-0 sm:me-2', isRTL && 'rotate-0')}>\n              {ACTION_ICONS[action.id] || <MoreHorizontal className=\"h-4 w-4\" />}\n            </span>\n            <span className=\"hidden sm:inline\">\n              {t(`actions.${action.id.replace(/-/g, '')}`)}\n            </span>\n          </Button>\n        ))}\n\n        {/* Secondary Actions Dropdown */}\n        {secondaryActions.length > 0 && (\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                disabled={disabled || isProcessing}\n                className=\"h-10 min-w-10 px-3 sm:h-11 sm:px-4\"\n                aria-label={t('actions.moreActions')}\n              >\n                <MoreHorizontal className=\"h-4 w-4 me-0 sm:me-2\" />\n                <span className=\"hidden sm:inline\">{t('actions.moreActions')}</span>\n                <ChevronDown className={cn('h-4 w-4 ms-1', isRTL && 'rotate-180')} />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align={isRTL ? 'start' : 'end'} className=\"w-48\">\n              {secondaryActions.map((action, index) => (\n                <div key={action.id}>\n                  {action.isDestructive && index > 0 && <DropdownMenuSeparator />}\n                  <DropdownMenuItem\n                    onClick={() => onActionClick(action)}\n                    disabled={disabled || isProcessing}\n                    className={cn(\n                      'gap-2',\n                      action.isDestructive && 'text-red-600 dark:text-red-400 focus:text-red-600'\n                    )}\n                  >\n                    {ACTION_ICONS[action.id] || <MoreHorizontal className=\"h-4 w-4\" />}\n                    <span>{t(`actions.${action.id.replace(/-/g, '')}`)}</span>\n                  </DropdownMenuItem>\n                </div>\n              ))}\n            </DropdownMenuContent>\n          </DropdownMenu>\n        )}\n\n        {/* Clear Selection */}\n        <Button\n          onClick={onClearSelection}\n          variant=\"ghost\"\n          size=\"sm\"\n          disabled={isProcessing}\n          className=\"h-10 min-w-10 px-3 sm:h-11 sm:px-4 text-gray-600 dark:text-gray-400\"\n          aria-label={t('selection.clearSelection')}\n        >\n          <X className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline ms-2\">{t('selection.clearSelection')}</span>\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default BulkActionsToolbar;\n","/**\n * Bulk Actions Types\n * Feature: bulk-actions-ui\n *\n * TypeScript interfaces for multi-select and bulk operation UI.\n * Supports bulk status updates, assignments, tagging, export, and deletion\n * with confirmation workflows and undo capability.\n */\n\n/**\n * Entity types that support bulk actions\n */\nexport type BulkActionEntityType =\n  | 'entity'\n  | 'document'\n  | 'ticket'\n  | 'dossier'\n  | 'engagement'\n  | 'commitment'\n  | 'deliverable'\n  | 'person'\n  | 'working-group';\n\n/**\n * Available bulk action types\n */\nexport type BulkActionType =\n  | 'update-status'\n  | 'assign'\n  | 'unassign'\n  | 'add-tags'\n  | 'remove-tags'\n  | 'export'\n  | 'delete'\n  | 'archive'\n  | 'restore'\n  | 'send-reminder'\n  | 'escalate'\n  | 'change-priority';\n\n/**\n * Bulk action status\n */\nexport type BulkActionStatus =\n  | 'idle'\n  | 'pending'\n  | 'processing'\n  | 'completed'\n  | 'failed'\n  | 'cancelled';\n\n/**\n * Common status values for entities\n */\nexport type EntityStatus =\n  | 'pending'\n  | 'in_progress'\n  | 'completed'\n  | 'cancelled'\n  | 'draft'\n  | 'review'\n  | 'approved'\n  | 'rejected'\n  | 'archived';\n\n/**\n * Priority levels\n */\nexport type Priority = 'low' | 'medium' | 'high' | 'urgent';\n\n/**\n * Export format options\n */\nexport type ExportFormat = 'csv' | 'xlsx' | 'pdf' | 'json';\n\n/**\n * Base item interface for bulk selection\n */\nexport interface BulkSelectableItem {\n  id: string;\n  [key: string]: unknown;\n}\n\n/**\n * Bulk action definition\n */\nexport interface BulkActionDefinition<T extends BulkSelectableItem = BulkSelectableItem> {\n  /** Unique action identifier */\n  id: BulkActionType;\n  /** Display label (i18n key) */\n  labelKey: string;\n  /** Icon name from lucide-react */\n  icon: string;\n  /** Action variant for styling */\n  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost';\n  /** Whether this action requires confirmation */\n  requiresConfirmation?: boolean;\n  /** Whether this action is destructive */\n  isDestructive?: boolean;\n  /** Whether this action supports undo */\n  supportsUndo?: boolean;\n  /** Minimum items required for this action */\n  minItems?: number;\n  /** Maximum items allowed for this action */\n  maxItems?: number;\n  /** Check if action is available for the selected items */\n  isAvailable?: (selectedItems: T[]) => boolean;\n  /** Execute the action */\n  execute?: (selectedItems: T[], params?: BulkActionParams) => Promise<BulkActionResult>;\n}\n\n/**\n * Parameters for bulk actions\n */\nexport interface BulkActionParams {\n  /** New status for status update actions */\n  status?: EntityStatus;\n  /** User ID for assignment actions */\n  assigneeId?: string;\n  /** Tags for tag actions */\n  tags?: string[];\n  /** Export format */\n  exportFormat?: ExportFormat;\n  /** Priority for priority change actions */\n  priority?: Priority;\n  /** Notes or reason for the action */\n  notes?: string;\n  /** Additional custom parameters */\n  [key: string]: unknown;\n}\n\n/**\n * Result of a bulk action execution\n */\nexport interface BulkActionResult {\n  /** Whether the action succeeded */\n  success: boolean;\n  /** Number of items successfully processed */\n  successCount: number;\n  /** Number of items that failed */\n  failedCount: number;\n  /** IDs of items that failed */\n  failedIds: string[];\n  /** Error messages per item */\n  errors?: Record<string, string>;\n  /** Data for undo operation (if supported) */\n  undoData?: BulkActionUndoData;\n  /** Optional message */\n  message?: string;\n}\n\n/**\n * Data required to undo a bulk action\n */\nexport interface BulkActionUndoData {\n  /** The action type that was performed */\n  actionType: BulkActionType;\n  /** Entity type */\n  entityType: BulkActionEntityType;\n  /** IDs of affected items */\n  itemIds: string[];\n  /** Previous state of items (for restoration) */\n  previousState?: Record<string, unknown>[];\n  /** Timestamp when action was performed */\n  timestamp: number;\n  /** TTL for undo capability in ms (default: 30000) */\n  ttl?: number;\n}\n\n/**\n * Bulk selection state\n */\nexport interface BulkSelectionState {\n  /** Currently selected item IDs */\n  selectedIds: Set<string>;\n  /** Number of selected items */\n  selectedCount: number;\n  /** Whether selection is at max capacity */\n  maxReached: boolean;\n  /** Whether more items can be selected */\n  canSelectMore: boolean;\n  /** Whether all visible items are selected */\n  allSelected: boolean;\n  /** Whether some (but not all) visible items are selected */\n  partiallySelected: boolean;\n}\n\n/**\n * Bulk action state\n */\nexport interface BulkActionState {\n  /** Current action status */\n  status: BulkActionStatus;\n  /** Current action being performed */\n  currentAction: BulkActionType | null;\n  /** Progress percentage (0-100) */\n  progress: number;\n  /** Number of items processed */\n  processedCount: number;\n  /** Total items to process */\n  totalCount: number;\n  /** Result of the last completed action */\n  lastResult: BulkActionResult | null;\n  /** Error message if action failed */\n  error: string | null;\n}\n\n/**\n * Confirmation dialog props\n */\nexport interface BulkActionConfirmationProps {\n  /** Whether dialog is open */\n  open: boolean;\n  /** Action to confirm */\n  action: BulkActionDefinition | null;\n  /** Number of items affected */\n  itemCount: number;\n  /** Entity type for display */\n  entityType: BulkActionEntityType;\n  /** Callback when confirmed */\n  onConfirm: (params?: BulkActionParams) => void;\n  /** Callback when cancelled */\n  onCancel: () => void;\n  /** Whether action is currently processing */\n  isProcessing?: boolean;\n}\n\n/**\n * Progress indicator props\n */\nexport interface BulkActionProgressProps {\n  /** Current status */\n  status: BulkActionStatus;\n  /** Progress percentage */\n  progress: number;\n  /** Number processed */\n  processedCount: number;\n  /** Total to process */\n  totalCount: number;\n  /** Action being performed */\n  actionType: BulkActionType | null;\n  /** Entity type */\n  entityType: BulkActionEntityType;\n  /** Callback to cancel operation */\n  onCancel?: () => void;\n}\n\n/**\n * Undo toast props\n */\nexport interface BulkActionUndoToastProps {\n  /** Whether toast is visible */\n  visible: boolean;\n  /** Action that was performed */\n  action: BulkActionType;\n  /** Number of items affected */\n  itemCount: number;\n  /** Remaining time to undo (ms) */\n  remainingTime: number;\n  /** Callback to undo the action */\n  onUndo: () => void;\n  /** Callback when toast is dismissed */\n  onDismiss: () => void;\n}\n\n/**\n * Toolbar props for bulk actions\n */\nexport interface BulkActionsToolbarProps<T extends BulkSelectableItem = BulkSelectableItem> {\n  /** Selection state */\n  selection: BulkSelectionState;\n  /** Available actions */\n  actions: BulkActionDefinition<T>[];\n  /** Entity type for display */\n  entityType: BulkActionEntityType;\n  /** Action state */\n  actionState: BulkActionState;\n  /** Callback when action is triggered */\n  onActionClick: (action: BulkActionDefinition<T>) => void;\n  /** Callback to clear selection */\n  onClearSelection: () => void;\n  /** Callback to select all visible items */\n  onSelectAll?: () => void;\n  /** Whether component is disabled */\n  disabled?: boolean;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * Selectable data table props\n */\nexport interface SelectableDataTableProps<T extends BulkSelectableItem> {\n  /** Data items */\n  data: T[];\n  /** Column definitions */\n  columns: SelectableColumnDef<T>[];\n  /** Selection state */\n  selection: BulkSelectionState;\n  /** Callback when selection changes */\n  onSelectionChange: (ids: Set<string>) => void;\n  /** ID field name (default: 'id') */\n  idField?: keyof T;\n  /** Whether selection is disabled */\n  selectionDisabled?: boolean;\n  /** Row render function for custom rendering */\n  renderRow?: (item: T, isSelected: boolean) => React.ReactNode;\n}\n\n/**\n * Column definition for selectable data table\n */\nexport interface SelectableColumnDef<T> {\n  /** Column ID */\n  id: string;\n  /** Header label (i18n key) */\n  headerKey: string;\n  /** Accessor function or key */\n  accessor: keyof T | ((item: T) => React.ReactNode);\n  /** Whether column is sortable */\n  sortable?: boolean;\n  /** Column width */\n  width?: string | number;\n  /** Cell alignment */\n  align?: 'start' | 'center' | 'end';\n  /** Cell render function */\n  cell?: (item: T) => React.ReactNode;\n}\n\n/**\n * Hook return type for useBulkActions\n */\nexport interface UseBulkActionsReturn<T extends BulkSelectableItem = BulkSelectableItem> {\n  // Selection\n  selection: BulkSelectionState;\n  isSelected: (id: string) => boolean;\n  toggleSelection: (id: string) => void;\n  selectAll: (ids: string[]) => void;\n  selectRange: (startId: string, endId: string, allIds: string[]) => void;\n  clearSelection: () => void;\n\n  // Actions\n  actionState: BulkActionState;\n  executeAction: (action: BulkActionDefinition<T>, params?: BulkActionParams) => Promise<BulkActionResult>;\n  cancelAction: () => void;\n  resetActionState: () => void;\n\n  // Undo\n  canUndo: boolean;\n  undoData: BulkActionUndoData | null;\n  executeUndo: () => Promise<boolean>;\n  clearUndoData: () => void;\n\n  // Confirmation\n  pendingConfirmation: BulkActionConfirmationProps | null;\n  requestConfirmation: (action: BulkActionDefinition<T>, items: T[]) => void;\n  confirmAction: (params?: BulkActionParams) => void;\n  cancelConfirmation: () => void;\n}\n\n/**\n * Configuration options for useBulkActions hook\n */\nexport interface UseBulkActionsOptions<T extends BulkSelectableItem = BulkSelectableItem> {\n  /** Maximum number of items that can be selected */\n  maxSelection?: number;\n  /** Default actions available */\n  actions?: BulkActionDefinition<T>[];\n  /** Entity type */\n  entityType: BulkActionEntityType;\n  /** Undo TTL in ms (default: 30000) */\n  undoTtl?: number;\n  /** Callback after action completes */\n  onActionComplete?: (result: BulkActionResult) => void;\n  /** Callback on action error */\n  onActionError?: (error: Error) => void;\n  /** Callback when undo is executed */\n  onUndo?: (undoData: BulkActionUndoData) => Promise<boolean>;\n}\n\n/**\n * Maximum selection limit\n */\nexport const MAX_BULK_SELECTION = 100;\n\n/**\n * Default undo TTL (30 seconds)\n */\nexport const DEFAULT_UNDO_TTL = 30000;\n\n/**\n * Default actions available for most entities\n */\nexport const DEFAULT_BULK_ACTIONS: BulkActionDefinition[] = [\n  {\n    id: 'update-status',\n    labelKey: 'bulkActions.actions.updateStatus',\n    icon: 'RefreshCw',\n    requiresConfirmation: true,\n    supportsUndo: true,\n  },\n  {\n    id: 'assign',\n    labelKey: 'bulkActions.actions.assign',\n    icon: 'UserPlus',\n    requiresConfirmation: true,\n    supportsUndo: true,\n  },\n  {\n    id: 'add-tags',\n    labelKey: 'bulkActions.actions.addTags',\n    icon: 'Tags',\n    requiresConfirmation: false,\n    supportsUndo: true,\n  },\n  {\n    id: 'export',\n    labelKey: 'bulkActions.actions.export',\n    icon: 'Download',\n    requiresConfirmation: false,\n    supportsUndo: false,\n  },\n  {\n    id: 'delete',\n    labelKey: 'bulkActions.actions.delete',\n    icon: 'Trash2',\n    variant: 'destructive',\n    requiresConfirmation: true,\n    isDestructive: true,\n    supportsUndo: true,\n  },\n];\n\n/**\n * Entity-specific action configurations\n */\nexport const ENTITY_ACTIONS: Record<BulkActionEntityType, BulkActionType[]> = {\n  entity: ['update-status', 'assign', 'add-tags', 'export', 'delete'],\n  document: ['add-tags', 'remove-tags', 'export', 'delete', 'archive'],\n  ticket: ['update-status', 'assign', 'change-priority', 'escalate', 'export'],\n  dossier: ['update-status', 'assign', 'add-tags', 'export', 'archive'],\n  engagement: ['update-status', 'assign', 'add-tags', 'export'],\n  commitment: ['update-status', 'assign', 'change-priority', 'export'],\n  deliverable: ['update-status', 'assign', 'change-priority', 'export'],\n  person: ['add-tags', 'remove-tags', 'export', 'delete'],\n  'working-group': ['update-status', 'assign', 'add-tags', 'export'],\n};\n","import { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { AlertTriangle, Loader2 } from 'lucide-react';\nimport type {\n  BulkActionDefinition,\n  BulkActionEntityType,\n  BulkActionParams,\n  EntityStatus,\n  Priority,\n  ExportFormat,\n} from '@/types/bulk-actions.types';\nimport { cn } from '@/lib/utils';\nimport { DEFAULT_UNDO_TTL } from '@/types/bulk-actions.types';\n\nexport interface BulkActionConfirmDialogProps {\n  /** Whether dialog is open */\n  open: boolean;\n  /** Action to confirm */\n  action: BulkActionDefinition | null;\n  /** Number of items affected */\n  itemCount: number;\n  /** Entity type for display */\n  entityType: BulkActionEntityType;\n  /** Callback when confirmed */\n  onConfirm: (params?: BulkActionParams) => void;\n  /** Callback when cancelled */\n  onCancel: () => void;\n  /** Whether action is currently processing */\n  isProcessing?: boolean;\n  /** Undo TTL in ms */\n  undoTtl?: number;\n}\n\n/**\n * Status options for status update action\n */\nconst STATUS_OPTIONS: EntityStatus[] = [\n  'pending',\n  'in_progress',\n  'completed',\n  'cancelled',\n  'draft',\n  'review',\n  'approved',\n  'rejected',\n  'archived',\n];\n\n/**\n * Priority options for priority change action\n */\nconst PRIORITY_OPTIONS: Priority[] = ['low', 'medium', 'high', 'urgent'];\n\n/**\n * Export format options\n */\nconst EXPORT_FORMAT_OPTIONS: ExportFormat[] = ['csv', 'xlsx', 'pdf', 'json'];\n\n/**\n * BulkActionConfirmDialog - Confirmation dialog for bulk actions\n *\n * Features:\n * - Dynamic content based on action type\n * - Parameter input fields for relevant actions\n * - Warning messages for destructive actions\n * - Undo availability indication\n * - Mobile-first responsive design\n * - RTL support\n */\nexport function BulkActionConfirmDialog({\n  open,\n  action,\n  itemCount,\n  entityType,\n  onConfirm,\n  onCancel,\n  isProcessing = false,\n  undoTtl = DEFAULT_UNDO_TTL,\n}: BulkActionConfirmDialogProps) {\n  const { t, i18n } = useTranslation('bulk-actions');\n  const isRTL = i18n.language === 'ar';\n\n  // Parameter state\n  const [selectedStatus, setSelectedStatus] = useState<EntityStatus>('pending');\n  const [selectedPriority, setSelectedPriority] = useState<Priority>('medium');\n  const [selectedFormat, setSelectedFormat] = useState<ExportFormat>('csv');\n  const [notes, setNotes] = useState('');\n\n  if (!action) return null;\n\n  const entityLabel = itemCount === 1\n    ? t(`entityTypes.${entityType}`)\n    : t(`entityTypes.${entityType}_plural`);\n\n  const actionLabel = t(`actions.${action.id.replace(/-/g, '')}`);\n  const undoSeconds = Math.round(undoTtl / 1000);\n\n  const handleConfirm = () => {\n    const params: BulkActionParams = {};\n\n    switch (action.id) {\n      case 'update-status':\n        params.status = selectedStatus;\n        break;\n      case 'change-priority':\n        params.priority = selectedPriority;\n        break;\n      case 'export':\n        params.exportFormat = selectedFormat;\n        break;\n      case 'escalate':\n        params.notes = notes;\n        break;\n    }\n\n    onConfirm(params);\n  };\n\n  const renderActionContent = () => {\n    switch (action.id) {\n      case 'update-status':\n        return (\n          <div className=\"space-y-3 py-4\">\n            <Label htmlFor=\"status-select\">\n              {t('confirmation.updateStatus.selectStatus')}\n            </Label>\n            <Select value={selectedStatus} onValueChange={(v) => setSelectedStatus(v as EntityStatus)}>\n              <SelectTrigger id=\"status-select\" className=\"w-full\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {STATUS_OPTIONS.map((status) => (\n                  <SelectItem key={status} value={status}>\n                    {t(`status.${status}`)}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        );\n\n      case 'change-priority':\n        return (\n          <div className=\"space-y-3 py-4\">\n            <Label htmlFor=\"priority-select\">\n              {t('confirmation.changePriority.selectPriority')}\n            </Label>\n            <Select value={selectedPriority} onValueChange={(v) => setSelectedPriority(v as Priority)}>\n              <SelectTrigger id=\"priority-select\" className=\"w-full\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {PRIORITY_OPTIONS.map((priority) => (\n                  <SelectItem key={priority} value={priority}>\n                    {t(`priority.${priority}`)}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        );\n\n      case 'export':\n        return (\n          <div className=\"space-y-3 py-4\">\n            <Label htmlFor=\"format-select\">\n              {t('confirmation.export.selectFormat')}\n            </Label>\n            <Select value={selectedFormat} onValueChange={(v) => setSelectedFormat(v as ExportFormat)}>\n              <SelectTrigger id=\"format-select\" className=\"w-full\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {EXPORT_FORMAT_OPTIONS.map((format) => (\n                  <SelectItem key={format} value={format}>\n                    {t(`confirmation.export.formats.${format}`)}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        );\n\n      case 'escalate':\n        return (\n          <div className=\"space-y-3 py-4\">\n            <Label htmlFor=\"escalate-reason\">\n              {t('confirmation.escalate.reason')}\n            </Label>\n            <Textarea\n              id=\"escalate-reason\"\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder={t('confirmation.escalate.reasonPlaceholder')}\n              className=\"min-h-[80px]\"\n            />\n          </div>\n        );\n\n      case 'delete':\n        return (\n          <div className=\"flex items-start gap-3 p-3 bg-red-50 dark:bg-red-950 rounded-md mt-4\">\n            <AlertTriangle className=\"h-5 w-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5\" />\n            <div className=\"space-y-1\">\n              <p className=\"text-sm text-red-800 dark:text-red-200\">\n                {t('confirmation.delete.warning')}\n              </p>\n              <p className=\"text-xs text-red-600 dark:text-red-400\">\n                {t('confirmation.delete.permanentWarning')}\n              </p>\n            </div>\n          </div>\n        );\n\n      case 'archive':\n        return (\n          <div className=\"p-3 bg-blue-50 dark:bg-blue-950 rounded-md mt-4\">\n            <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n              {t('confirmation.archive.note')}\n            </p>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <AlertDialog open={open} onOpenChange={(isOpen) => !isOpen && onCancel()}>\n      <AlertDialogContent\n        className={cn(\n          'max-w-md w-[calc(100%-2rem)] sm:w-full',\n          'mx-4 sm:mx-auto'\n        )}\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <AlertDialogHeader>\n          <AlertDialogTitle>\n            {t(`confirmation.${action.id.replace(/-/g, '')}.title`, {\n              defaultValue: t('confirmation.title', { action: actionLabel }),\n            })}\n          </AlertDialogTitle>\n          <AlertDialogDescription>\n            {t(`confirmation.${action.id.replace(/-/g, '')}.description`, {\n              count: itemCount,\n              defaultValue: t('confirmation.description', {\n                action: actionLabel.toLowerCase(),\n                count: itemCount,\n                entityType: entityLabel,\n              }),\n            })}\n          </AlertDialogDescription>\n        </AlertDialogHeader>\n\n        {renderActionContent()}\n\n        {/* Undo availability notice */}\n        {action.supportsUndo && !action.isDestructive && (\n          <p className=\"text-xs text-muted-foreground mt-2\">\n            {t('confirmation.undoAvailable', { seconds: undoSeconds })}\n          </p>\n        )}\n\n        <AlertDialogFooter className=\"flex-col-reverse gap-2 sm:flex-row sm:gap-0\">\n          <AlertDialogCancel\n            onClick={onCancel}\n            disabled={isProcessing}\n            className=\"mt-0\"\n          >\n            {t('confirmation.cancel')}\n          </AlertDialogCancel>\n          <AlertDialogAction\n            onClick={handleConfirm}\n            disabled={isProcessing}\n            className={cn(\n              action.isDestructive && 'bg-red-600 hover:bg-red-700 focus:ring-red-600'\n            )}\n          >\n            {isProcessing ? (\n              <>\n                <Loader2 className=\"h-4 w-4 me-2 animate-spin\" />\n                {t('confirmation.processing')}\n              </>\n            ) : (\n              t('confirmation.confirm')\n            )}\n          </AlertDialogAction>\n        </AlertDialogFooter>\n      </AlertDialogContent>\n    </AlertDialog>\n  );\n}\n\nexport default BulkActionConfirmDialog;\n","import { useTranslation } from 'react-i18next';\nimport { Progress } from '@/components/ui/progress';\nimport { Button } from '@/components/ui/button';\nimport { Loader2, CheckCircle2, XCircle, AlertCircle } from 'lucide-react';\nimport type { BulkActionStatus, BulkActionType, BulkActionEntityType } from '@/types/bulk-actions.types';\nimport { cn } from '@/lib/utils';\n\nexport interface BulkActionProgressIndicatorProps {\n  /** Current status */\n  status: BulkActionStatus;\n  /** Progress percentage (0-100) */\n  progress: number;\n  /** Number processed */\n  processedCount: number;\n  /** Total to process */\n  totalCount: number;\n  /** Action being performed */\n  actionType: BulkActionType | null;\n  /** Entity type */\n  entityType: BulkActionEntityType;\n  /** Callback to cancel operation */\n  onCancel?: () => void;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * Status icon mapping\n */\nconst STATUS_ICONS: Record<BulkActionStatus, React.ReactNode> = {\n  idle: null,\n  pending: <Loader2 className=\"h-5 w-5 animate-spin text-blue-600\" />,\n  processing: <Loader2 className=\"h-5 w-5 animate-spin text-blue-600\" />,\n  completed: <CheckCircle2 className=\"h-5 w-5 text-green-600\" />,\n  failed: <XCircle className=\"h-5 w-5 text-red-600\" />,\n  cancelled: <AlertCircle className=\"h-5 w-5 text-orange-600\" />,\n};\n\n/**\n * Status color mapping for progress bar\n */\nconst STATUS_COLORS: Record<BulkActionStatus, string> = {\n  idle: 'bg-gray-200',\n  pending: 'bg-blue-600',\n  processing: 'bg-blue-600',\n  completed: 'bg-green-600',\n  failed: 'bg-red-600',\n  cancelled: 'bg-orange-600',\n};\n\n/**\n * BulkActionProgressIndicator - Shows progress of bulk operations\n *\n * Features:\n * - Animated progress bar\n * - Status icon indicator\n * - Processing count display\n * - Cancel button for long operations\n * - Mobile-first responsive design\n * - RTL support\n */\nexport function BulkActionProgressIndicator({\n  status,\n  progress,\n  processedCount,\n  totalCount,\n  actionType,\n  entityType,\n  onCancel,\n  className,\n}: BulkActionProgressIndicatorProps) {\n  const { t, i18n } = useTranslation('bulk-actions');\n  const isRTL = i18n.language === 'ar';\n\n  // Don't render for idle status\n  if (status === 'idle') {\n    return null;\n  }\n\n  const isProcessing = status === 'processing' || status === 'pending';\n  const entityLabel = totalCount === 1\n    ? t(`entityTypes.${entityType}`)\n    : t(`entityTypes.${entityType}_plural`);\n\n  const actionLabel = actionType\n    ? t(`actions.${actionType.replace(/-/g, '')}`)\n    : '';\n\n  return (\n    <div\n      className={cn(\n        'p-4 bg-white dark:bg-gray-900 rounded-lg border shadow-sm',\n        'space-y-3',\n        className\n      )}\n      dir={isRTL ? 'rtl' : 'ltr'}\n      role=\"progressbar\"\n      aria-valuenow={progress}\n      aria-valuemin={0}\n      aria-valuemax={100}\n      aria-label={t('accessibility.progressBar', { progress })}\n    >\n      {/* Header with status icon and title */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          {STATUS_ICONS[status]}\n          <div>\n            <h4 className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">\n              {isProcessing\n                ? t('progress.title')\n                : t(`progress.${status}`)}\n            </h4>\n            <p className=\"text-xs text-muted-foreground\">\n              {actionLabel} {entityLabel}\n            </p>\n          </div>\n        </div>\n\n        {/* Cancel button (only during processing) */}\n        {isProcessing && onCancel && (\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={onCancel}\n            className=\"h-8 px-3 text-xs\"\n          >\n            {t('progress.cancel')}\n          </Button>\n        )}\n      </div>\n\n      {/* Progress bar */}\n      <div className=\"space-y-1\">\n        <Progress\n          value={progress}\n          className={cn('h-2', STATUS_COLORS[status])}\n        />\n        <div className=\"flex justify-between text-xs text-muted-foreground\">\n          <span>\n            {t('progress.processing', {\n              current: processedCount,\n              total: totalCount,\n            })}\n          </span>\n          <span>{progress}%</span>\n        </div>\n      </div>\n\n      {/* Status message */}\n      {isProcessing && (\n        <p className=\"text-xs text-muted-foreground\">\n          {t('progress.pleaseWait')}\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default BulkActionProgressIndicator;\n","import { useCallback, useMemo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport type { BulkSelectableItem, BulkSelectionState, SelectableColumnDef } from '@/types/bulk-actions.types';\nimport { MAX_BULK_SELECTION } from '@/types/bulk-actions.types';\nimport { cn } from '@/lib/utils';\n\nexport interface SelectableDataTableProps<T extends BulkSelectableItem> {\n  /** Data items */\n  data: T[];\n  /** Column definitions */\n  columns: SelectableColumnDef<T>[];\n  /** Selection state */\n  selection: BulkSelectionState;\n  /** Callback when item is toggled */\n  onToggleSelection: (id: string) => void;\n  /** Callback when all items are selected/deselected */\n  onSelectAll: (ids: string[]) => void;\n  /** Callback to clear all selections */\n  onClearSelection: () => void;\n  /** Callback for range selection (Shift+Click) */\n  onSelectRange?: (startId: string, endId: string, allIds: string[]) => void;\n  /** ID field name (default: 'id') */\n  idField?: keyof T;\n  /** Whether selection is disabled */\n  selectionDisabled?: boolean;\n  /** Row click handler */\n  onRowClick?: (item: T) => void;\n  /** Custom row class name */\n  rowClassName?: (item: T, isSelected: boolean) => string;\n  /** Empty state message */\n  emptyMessage?: string;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * SelectableDataTable - Data table with multi-select capability\n *\n * Features:\n * - Checkbox-based selection\n * - Select all header checkbox\n * - Range selection with Shift+Click\n * - Max selection limit enforcement\n * - Mobile-first responsive design\n * - RTL support\n * - Keyboard accessible\n */\nexport function SelectableDataTable<T extends BulkSelectableItem>({\n  data,\n  columns,\n  selection,\n  onToggleSelection,\n  onSelectAll,\n  onClearSelection,\n  onSelectRange,\n  idField = 'id' as keyof T,\n  selectionDisabled = false,\n  onRowClick,\n  rowClassName,\n  emptyMessage,\n  className,\n}: SelectableDataTableProps<T>) {\n  const { t, i18n } = useTranslation('bulk-actions');\n  const isRTL = i18n.language === 'ar';\n  const lastClickedRef = useRef<string | null>(null);\n\n  const { selectedIds, selectedCount, allSelected, partiallySelected, maxReached } = selection;\n\n  // Get all IDs from data\n  const allIds = useMemo(() => data.map((item) => String(item[idField])), [data, idField]);\n\n  // Handle select all checkbox\n  const handleSelectAll = useCallback(() => {\n    if (allSelected) {\n      onClearSelection();\n    } else {\n      onSelectAll(allIds);\n    }\n  }, [allSelected, allIds, onSelectAll, onClearSelection]);\n\n  // Handle row checkbox click with Shift support\n  const handleRowCheckboxClick = useCallback(\n    (e: React.MouseEvent, id: string) => {\n      // If Shift is held and we have a previous selection, select range\n      if (e.shiftKey && lastClickedRef.current && onSelectRange) {\n        onSelectRange(lastClickedRef.current, id, allIds);\n      } else {\n        onToggleSelection(id);\n      }\n      lastClickedRef.current = id;\n    },\n    [allIds, onToggleSelection, onSelectRange]\n  );\n\n  // Handle row click (for non-checkbox area)\n  const handleRowClick = useCallback(\n    (e: React.MouseEvent, item: T) => {\n      // Don't trigger row click if clicking on checkbox\n      if ((e.target as HTMLElement).closest('[role=\"checkbox\"]')) {\n        return;\n      }\n      onRowClick?.(item);\n    },\n    [onRowClick]\n  );\n\n  // Render cell content\n  const renderCell = (item: T, column: SelectableColumnDef<T>) => {\n    if (column.cell) {\n      return column.cell(item);\n    }\n    if (typeof column.accessor === 'function') {\n      return column.accessor(item);\n    }\n    return String(item[column.accessor] ?? '');\n  };\n\n  return (\n    <div\n      className={cn('w-full overflow-auto', className)}\n      dir={isRTL ? 'rtl' : 'ltr'}\n    >\n      <Table>\n        <TableHeader>\n          <TableRow>\n            {/* Selection checkbox column */}\n            <TableHead className=\"w-12\">\n              <div className=\"flex items-center justify-center\">\n                <Checkbox\n                  checked={allSelected ? true : partiallySelected ? 'indeterminate' : false}\n                  onCheckedChange={handleSelectAll}\n                  disabled={selectionDisabled || data.length === 0}\n                  aria-label={t('accessibility.selectAllCheckbox')}\n                />\n              </div>\n            </TableHead>\n\n            {/* Data columns */}\n            {columns.map((column) => (\n              <TableHead\n                key={column.id}\n                className={cn(\n                  column.width && `w-[${column.width}]`,\n                  column.align === 'center' && 'text-center',\n                  column.align === 'end' && 'text-end'\n                )}\n              >\n                {t(column.headerKey, { defaultValue: column.headerKey })}\n              </TableHead>\n            ))}\n          </TableRow>\n        </TableHeader>\n\n        <TableBody>\n          {data.length === 0 ? (\n            <TableRow>\n              <TableCell\n                colSpan={columns.length + 1}\n                className=\"h-24 text-center text-muted-foreground\"\n              >\n                {emptyMessage || t('errors.noSelection')}\n              </TableCell>\n            </TableRow>\n          ) : (\n            data.map((item) => {\n              const id = String(item[idField]);\n              const isSelected = selectedIds.has(id);\n              const canSelect = isSelected || !maxReached;\n\n              return (\n                <TableRow\n                  key={id}\n                  onClick={(e) => handleRowClick(e, item)}\n                  className={cn(\n                    'cursor-pointer',\n                    isSelected && 'bg-blue-50 dark:bg-blue-950',\n                    onRowClick && 'hover:bg-muted/50',\n                    rowClassName?.(item, isSelected)\n                  )}\n                  data-selected={isSelected}\n                >\n                  {/* Selection checkbox */}\n                  <TableCell className=\"w-12\">\n                    <div className=\"flex items-center justify-center\">\n                      <Checkbox\n                        checked={isSelected}\n                        onClick={(e) => handleRowCheckboxClick(e, id)}\n                        disabled={selectionDisabled || (!isSelected && !canSelect)}\n                        aria-label={t('accessibility.selectionCheckbox', {\n                          name: (item as Record<string, unknown>).name || id,\n                        })}\n                      />\n                    </div>\n                  </TableCell>\n\n                  {/* Data cells */}\n                  {columns.map((column) => (\n                    <TableCell\n                      key={column.id}\n                      className={cn(\n                        column.align === 'center' && 'text-center',\n                        column.align === 'end' && 'text-end'\n                      )}\n                    >\n                      {renderCell(item, column)}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              );\n            })\n          )}\n        </TableBody>\n      </Table>\n\n      {/* Selection info footer */}\n      {selectedCount > 0 && (\n        <div className=\"flex items-center justify-between p-3 border-t bg-muted/30 text-sm\">\n          <span className=\"text-muted-foreground\">\n            {t('selection.selected', { count: selectedCount })} / {data.length}\n          </span>\n          {maxReached && (\n            <span className=\"text-xs text-orange-600 dark:text-orange-400\">\n              {t('selection.maxReachedDescription', { max: MAX_BULK_SELECTION })}\n            </span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default SelectableDataTable;\n","import { useEffect, useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from '@/components/ui/button';\nimport { RotateCcw, X, Loader2 } from 'lucide-react';\nimport type { BulkActionType } from '@/types/bulk-actions.types';\nimport { cn } from '@/lib/utils';\n\nexport interface UndoToastProps {\n  /** Whether toast is visible */\n  visible: boolean;\n  /** Action that was performed */\n  action: BulkActionType;\n  /** Number of items affected */\n  itemCount: number;\n  /** Total time for undo (ms) */\n  undoTtl: number;\n  /** Callback to undo the action */\n  onUndo: () => Promise<void>;\n  /** Callback when toast is dismissed */\n  onDismiss: () => void;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * UndoToast - Toast notification with undo capability\n *\n * Features:\n * - Countdown timer visualization\n * - Progress bar showing remaining time\n * - One-click undo functionality\n * - Auto-dismiss after TTL expires\n * - Mobile-first responsive design\n * - RTL support\n */\nexport function UndoToast({\n  visible,\n  action,\n  itemCount,\n  undoTtl,\n  onUndo,\n  onDismiss,\n  className,\n}: UndoToastProps) {\n  const { t, i18n } = useTranslation('bulk-actions');\n  const isRTL = i18n.language === 'ar';\n\n  const [remainingTime, setRemainingTime] = useState(undoTtl);\n  const [isUndoing, setIsUndoing] = useState(false);\n\n  // Calculate progress percentage\n  const progressPercent = (remainingTime / undoTtl) * 100;\n  const remainingSeconds = Math.ceil(remainingTime / 1000);\n\n  // Countdown timer\n  useEffect(() => {\n    if (!visible) {\n      setRemainingTime(undoTtl);\n      return;\n    }\n\n    const interval = setInterval(() => {\n      setRemainingTime((prev) => {\n        const newTime = prev - 100;\n        if (newTime <= 0) {\n          clearInterval(interval);\n          onDismiss();\n          return 0;\n        }\n        return newTime;\n      });\n    }, 100);\n\n    return () => clearInterval(interval);\n  }, [visible, undoTtl, onDismiss]);\n\n  // Reset remaining time when toast becomes visible\n  useEffect(() => {\n    if (visible) {\n      setRemainingTime(undoTtl);\n      setIsUndoing(false);\n    }\n  }, [visible, undoTtl]);\n\n  // Handle undo click\n  const handleUndo = useCallback(async () => {\n    setIsUndoing(true);\n    try {\n      await onUndo();\n    } finally {\n      setIsUndoing(false);\n    }\n  }, [onUndo]);\n\n  // Get action label\n  const actionLabel = t(`actions.${action.replace(/-/g, '')}`);\n\n  if (!visible) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cn(\n        'fixed bottom-4 start-4 end-4 sm:start-auto sm:end-4 sm:w-96',\n        'z-50 animate-in slide-in-from-bottom-4 fade-in-0',\n        className\n      )}\n      dir={isRTL ? 'rtl' : 'ltr'}\n      role=\"alert\"\n      aria-live=\"polite\"\n    >\n      <div className=\"bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 rounded-lg shadow-lg overflow-hidden\">\n        {/* Progress bar */}\n        <div className=\"h-1 bg-gray-700 dark:bg-gray-300\">\n          <div\n            className=\"h-full bg-blue-500 transition-all duration-100 ease-linear\"\n            style={{\n              width: `${progressPercent}%`,\n              transformOrigin: isRTL ? 'right' : 'left',\n            }}\n          />\n        </div>\n\n        {/* Content */}\n        <div className=\"flex items-center justify-between gap-3 p-3 sm:p-4\">\n          {/* Message */}\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-medium truncate\">\n              {t('undo.message', {\n                action: actionLabel,\n                count: itemCount,\n              })}\n            </p>\n            <p className=\"text-xs text-gray-400 dark:text-gray-600\">\n              {t('undo.timeRemaining', { seconds: remainingSeconds })}\n            </p>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center gap-2 shrink-0\">\n            <Button\n              variant=\"secondary\"\n              size=\"sm\"\n              onClick={handleUndo}\n              disabled={isUndoing}\n              className=\"h-8 px-3 bg-white dark:bg-gray-900 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800\"\n            >\n              {isUndoing ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 me-1 animate-spin\" />\n                  {t('undo.undoing')}\n                </>\n              ) : (\n                <>\n                  <RotateCcw className=\"h-4 w-4 me-1\" />\n                  {t('undo.undo')}\n                </>\n              )}\n            </Button>\n\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={onDismiss}\n              disabled={isUndoing}\n              className=\"h-8 w-8 text-gray-400 hover:text-white dark:text-gray-600 dark:hover:text-gray-900\"\n              aria-label={t('accessibility.closeDialog')}\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default UndoToast;\n","import { useState, useCallback, useMemo, useRef, useEffect } from 'react';\nimport type {\n  BulkSelectableItem,\n  BulkActionDefinition,\n  BulkActionParams,\n  BulkActionResult,\n  BulkActionUndoData,\n  BulkSelectionState,\n  BulkActionState,\n  BulkActionConfirmationProps,\n  UseBulkActionsReturn,\n  UseBulkActionsOptions,\n} from '@/types/bulk-actions.types';\nimport { MAX_BULK_SELECTION, DEFAULT_UNDO_TTL } from '@/types/bulk-actions.types';\n\n/**\n * useBulkActions - Comprehensive hook for managing bulk selection and actions\n *\n * Features:\n * - Selection management with max limit (100 items)\n * - Range selection with Shift+Click\n * - Action execution with progress tracking\n * - Confirmation workflow for destructive actions\n * - Undo capability with TTL countdown\n * - Cancellation support\n *\n * @param options Configuration options\n * @returns Bulk actions state and methods\n */\nexport function useBulkActions<T extends BulkSelectableItem = BulkSelectableItem>(\n  options: UseBulkActionsOptions<T>\n): UseBulkActionsReturn<T> {\n  const {\n    maxSelection = MAX_BULK_SELECTION,\n    entityType,\n    undoTtl = DEFAULT_UNDO_TTL,\n    onActionComplete,\n    onActionError,\n    onUndo,\n  } = options;\n\n  // Selection state\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set());\n  const [visibleIds, setVisibleIds] = useState<string[]>([]);\n  const lastSelectedIdRef = useRef<string | null>(null);\n\n  // Action state\n  const [actionState, setActionState] = useState<BulkActionState>({\n    status: 'idle',\n    currentAction: null,\n    progress: 0,\n    processedCount: 0,\n    totalCount: 0,\n    lastResult: null,\n    error: null,\n  });\n\n  // Undo state\n  const [undoData, setUndoData] = useState<BulkActionUndoData | null>(null);\n  const undoTimerRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Confirmation state\n  const [pendingConfirmation, setPendingConfirmation] = useState<BulkActionConfirmationProps | null>(null);\n  const pendingActionRef = useRef<{\n    action: BulkActionDefinition<T>;\n    items: T[];\n  } | null>(null);\n\n  // Cancellation ref\n  const cancelledRef = useRef(false);\n\n  // Selection computed values\n  const selection: BulkSelectionState = useMemo(() => {\n    const selectedCount = selectedIds.size;\n    const maxReached = selectedCount >= maxSelection;\n    const canSelectMore = selectedCount < maxSelection;\n    const allSelected = visibleIds.length > 0 && visibleIds.every(id => selectedIds.has(id));\n    const partiallySelected = visibleIds.some(id => selectedIds.has(id)) && !allSelected;\n\n    return {\n      selectedIds,\n      selectedCount,\n      maxReached,\n      canSelectMore,\n      allSelected,\n      partiallySelected,\n    };\n  }, [selectedIds, maxSelection, visibleIds]);\n\n  // Check if item is selected\n  const isSelected = useCallback(\n    (id: string): boolean => selectedIds.has(id),\n    [selectedIds]\n  );\n\n  // Toggle single item selection\n  const toggleSelection = useCallback(\n    (id: string) => {\n      setSelectedIds(prev => {\n        const newSet = new Set(prev);\n        if (newSet.has(id)) {\n          newSet.delete(id);\n        } else if (newSet.size < maxSelection) {\n          newSet.add(id);\n        } else {\n          console.warn(`Maximum selection limit (${maxSelection}) reached`);\n          return prev;\n        }\n        return newSet;\n      });\n      lastSelectedIdRef.current = id;\n    },\n    [maxSelection]\n  );\n\n  // Select all items (respecting max limit)\n  const selectAll = useCallback(\n    (ids: string[]) => {\n      setVisibleIds(ids);\n      setSelectedIds(new Set(ids.slice(0, maxSelection)));\n    },\n    [maxSelection]\n  );\n\n  // Range selection (for Shift+Click)\n  const selectRange = useCallback(\n    (startId: string, endId: string, allIds: string[]) => {\n      const startIndex = allIds.indexOf(startId);\n      const endIndex = allIds.indexOf(endId);\n\n      if (startIndex === -1 || endIndex === -1) return;\n\n      const minIndex = Math.min(startIndex, endIndex);\n      const maxIndex = Math.max(startIndex, endIndex);\n\n      setSelectedIds(prev => {\n        const newSet = new Set(prev);\n        for (let i = minIndex; i <= maxIndex && newSet.size < maxSelection; i++) {\n          newSet.add(allIds[i]);\n        }\n        return newSet;\n      });\n    },\n    [maxSelection]\n  );\n\n  // Clear all selections\n  const clearSelection = useCallback(() => {\n    setSelectedIds(new Set());\n    lastSelectedIdRef.current = null;\n  }, []);\n\n  // Execute a bulk action\n  const executeAction = useCallback(\n    async (\n      action: BulkActionDefinition<T>,\n      params?: BulkActionParams\n    ): Promise<BulkActionResult> => {\n      const itemIds = Array.from(selectedIds);\n      const totalCount = itemIds.length;\n\n      if (totalCount === 0) {\n        return {\n          success: false,\n          successCount: 0,\n          failedCount: 0,\n          failedIds: [],\n          message: 'No items selected',\n        };\n      }\n\n      cancelledRef.current = false;\n\n      setActionState({\n        status: 'processing',\n        currentAction: action.id,\n        progress: 0,\n        processedCount: 0,\n        totalCount,\n        lastResult: null,\n        error: null,\n      });\n\n      try {\n        let result: BulkActionResult;\n\n        if (action.execute) {\n          // Use custom execute function if provided\n          result = await action.execute(\n            itemIds.map(id => ({ id } as T)),\n            params\n          );\n        } else {\n          // Simulate processing for demo purposes\n          result = await simulateBulkAction(\n            action.id,\n            itemIds,\n            (processed) => {\n              if (cancelledRef.current) return;\n              const progress = Math.round((processed / totalCount) * 100);\n              setActionState(prev => ({\n                ...prev,\n                progress,\n                processedCount: processed,\n              }));\n            }\n          );\n        }\n\n        if (cancelledRef.current) {\n          const cancelledResult: BulkActionResult = {\n            success: false,\n            successCount: 0,\n            failedCount: totalCount,\n            failedIds: itemIds,\n            message: 'Action cancelled',\n          };\n\n          setActionState(prev => ({\n            ...prev,\n            status: 'cancelled',\n            lastResult: cancelledResult,\n          }));\n\n          return cancelledResult;\n        }\n\n        // Store undo data if action supports undo\n        if (action.supportsUndo && result.success) {\n          const newUndoData: BulkActionUndoData = {\n            actionType: action.id,\n            entityType,\n            itemIds: itemIds.filter(id => !result.failedIds.includes(id)),\n            timestamp: Date.now(),\n            ttl: undoTtl,\n          };\n          setUndoData(newUndoData);\n\n          // Set timer to clear undo data\n          if (undoTimerRef.current) {\n            clearTimeout(undoTimerRef.current);\n          }\n          undoTimerRef.current = setTimeout(() => {\n            setUndoData(null);\n          }, undoTtl);\n        }\n\n        setActionState(prev => ({\n          ...prev,\n          status: result.success ? 'completed' : 'failed',\n          progress: 100,\n          processedCount: totalCount,\n          lastResult: result,\n          error: result.success ? null : result.message || 'Action failed',\n        }));\n\n        // Clear selection on success\n        if (result.success) {\n          clearSelection();\n        }\n\n        onActionComplete?.(result);\n        return result;\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n        const failedResult: BulkActionResult = {\n          success: false,\n          successCount: 0,\n          failedCount: totalCount,\n          failedIds: itemIds,\n          message: errorMessage,\n        };\n\n        setActionState(prev => ({\n          ...prev,\n          status: 'failed',\n          lastResult: failedResult,\n          error: errorMessage,\n        }));\n\n        onActionError?.(error instanceof Error ? error : new Error(errorMessage));\n        return failedResult;\n      }\n    },\n    [selectedIds, entityType, undoTtl, onActionComplete, onActionError, clearSelection]\n  );\n\n  // Cancel current action\n  const cancelAction = useCallback(() => {\n    cancelledRef.current = true;\n    setActionState(prev => ({\n      ...prev,\n      status: 'cancelled',\n    }));\n  }, []);\n\n  // Reset action state\n  const resetActionState = useCallback(() => {\n    setActionState({\n      status: 'idle',\n      currentAction: null,\n      progress: 0,\n      processedCount: 0,\n      totalCount: 0,\n      lastResult: null,\n      error: null,\n    });\n  }, []);\n\n  // Execute undo\n  const executeUndo = useCallback(async (): Promise<boolean> => {\n    if (!undoData || !onUndo) return false;\n\n    try {\n      const success = await onUndo(undoData);\n      if (success) {\n        setUndoData(null);\n        if (undoTimerRef.current) {\n          clearTimeout(undoTimerRef.current);\n        }\n      }\n      return success;\n    } catch {\n      return false;\n    }\n  }, [undoData, onUndo]);\n\n  // Clear undo data\n  const clearUndoData = useCallback(() => {\n    setUndoData(null);\n    if (undoTimerRef.current) {\n      clearTimeout(undoTimerRef.current);\n    }\n  }, []);\n\n  // Request confirmation for an action\n  const requestConfirmation = useCallback(\n    (action: BulkActionDefinition<T>, items: T[]) => {\n      pendingActionRef.current = { action, items };\n      // Cast to BulkActionDefinition to satisfy type constraint\n      const actionDef = action as unknown as BulkActionDefinition;\n      setPendingConfirmation({\n        open: true,\n        action: actionDef,\n        itemCount: items.length,\n        entityType,\n        onConfirm: () => {},\n        onCancel: () => {},\n      });\n    },\n    [entityType]\n  );\n\n  // Confirm the pending action\n  const confirmAction = useCallback(\n    (params?: BulkActionParams) => {\n      const pending = pendingActionRef.current;\n      if (!pending) return;\n\n      setPendingConfirmation(null);\n      pendingActionRef.current = null;\n\n      executeAction(pending.action, params);\n    },\n    [executeAction]\n  );\n\n  // Cancel confirmation\n  const cancelConfirmation = useCallback(() => {\n    setPendingConfirmation(null);\n    pendingActionRef.current = null;\n  }, []);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (undoTimerRef.current) {\n        clearTimeout(undoTimerRef.current);\n      }\n    };\n  }, []);\n\n  return {\n    // Selection\n    selection,\n    isSelected,\n    toggleSelection,\n    selectAll,\n    selectRange,\n    clearSelection,\n\n    // Actions\n    actionState,\n    executeAction,\n    cancelAction,\n    resetActionState,\n\n    // Undo\n    canUndo: !!undoData && !!onUndo,\n    undoData,\n    executeUndo,\n    clearUndoData,\n\n    // Confirmation\n    pendingConfirmation,\n    requestConfirmation,\n    confirmAction,\n    cancelConfirmation,\n  };\n}\n\n/**\n * Simulate bulk action processing for demo/fallback\n */\nasync function simulateBulkAction(\n  _actionType: string,\n  itemIds: string[],\n  onProgress: (processed: number) => void\n): Promise<BulkActionResult> {\n  const totalCount = itemIds.length;\n  const batchSize = 10;\n  const delayMs = 50;\n\n  let processed = 0;\n  const failedIds: string[] = [];\n\n  for (let i = 0; i < totalCount; i += batchSize) {\n    await new Promise(resolve => setTimeout(resolve, delayMs));\n    processed = Math.min(i + batchSize, totalCount);\n    onProgress(processed);\n  }\n\n  return {\n    success: failedIds.length === 0,\n    successCount: totalCount - failedIds.length,\n    failedCount: failedIds.length,\n    failedIds,\n  };\n}\n\nexport default useBulkActions;\n","import { useState, useCallback, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  BulkActionsToolbar,\n  BulkActionConfirmDialog,\n  BulkActionProgressIndicator,\n  SelectableDataTable,\n  UndoToast,\n  useBulkActions,\n  DEFAULT_BULK_ACTIONS,\n  DEFAULT_UNDO_TTL,\n} from '@/components/bulk-actions';\nimport type {\n  BulkSelectableItem,\n  BulkActionDefinition,\n  BulkActionParams,\n  BulkActionUndoData,\n  SelectableColumnDef,\n} from '@/types/bulk-actions.types';\nimport { Badge } from '@/components/ui/badge';\nimport { cn } from '@/lib/utils';\n\n/**\n * Demo item type\n */\ninterface DemoItem extends BulkSelectableItem {\n  id: string;\n  name: string;\n  status: string;\n  priority: string;\n  assignee: string;\n  createdAt: string;\n}\n\n/**\n * Generate demo data\n */\nfunction generateDemoData(count: number): DemoItem[] {\n  const statuses = ['pending', 'in_progress', 'completed', 'cancelled'] as const;\n  const priorities = ['low', 'medium', 'high', 'urgent'] as const;\n  const assignees = ['John Doe', 'Jane Smith', 'Ahmed Ali', 'Sarah Johnson'] as const;\n\n  return Array.from({ length: count }, (_, i) => ({\n    id: `item-${i + 1}`,\n    name: `Item ${i + 1}`,\n    status: statuses[Math.floor(Math.random() * statuses.length)] as string,\n    priority: priorities[Math.floor(Math.random() * priorities.length)] as string,\n    assignee: assignees[Math.floor(Math.random() * assignees.length)] as string,\n    createdAt: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString(),\n  }));\n}\n\n/**\n * BulkActionsDemo - Demonstration page for bulk actions feature\n */\nexport function BulkActionsDemo() {\n  const { t, i18n } = useTranslation('bulk-actions');\n  const isRTL = i18n.language === 'ar';\n\n  // Demo data\n  const [data] = useState<DemoItem[]>(() => generateDemoData(25));\n\n  // Undo toast state\n  const [showUndoToast, setShowUndoToast] = useState(false);\n  const [lastAction, setLastAction] = useState<{\n    action: string;\n    count: number;\n  } | null>(null);\n\n  // Handle undo callback\n  const handleUndo = useCallback(async (undoData: BulkActionUndoData): Promise<boolean> => {\n    console.log('Undo requested:', undoData);\n    // Simulate undo operation\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n    return true;\n  }, []);\n\n  // Bulk actions hook\n  const {\n    selection,\n    toggleSelection,\n    selectAll,\n    selectRange,\n    clearSelection,\n    actionState,\n    executeAction,\n    resetActionState,\n    pendingConfirmation,\n    requestConfirmation,\n    confirmAction,\n    cancelConfirmation,\n    executeUndo,\n    clearUndoData,\n  } = useBulkActions<DemoItem>({\n    entityType: 'entity',\n    undoTtl: DEFAULT_UNDO_TTL,\n    onActionComplete: (result) => {\n      console.log('Action completed:', result);\n      if (result.success) {\n        setLastAction({\n          action: actionState.currentAction || 'action',\n          count: result.successCount,\n        });\n        setShowUndoToast(true);\n      }\n    },\n    onActionError: (error) => {\n      console.error('Action error:', error);\n    },\n    onUndo: handleUndo,\n  });\n\n  // Define columns for the data table\n  const columns: SelectableColumnDef<DemoItem>[] = useMemo(\n    () => [\n      {\n        id: 'name',\n        headerKey: 'Name',\n        accessor: 'name',\n        sortable: true,\n      },\n      {\n        id: 'status',\n        headerKey: 'Status',\n        accessor: 'status',\n        cell: (item) => (\n          <Badge\n            variant=\"secondary\"\n            className={cn(\n              item.status === 'completed' && 'bg-green-100 text-green-800',\n              item.status === 'in_progress' && 'bg-blue-100 text-blue-800',\n              item.status === 'pending' && 'bg-yellow-100 text-yellow-800',\n              item.status === 'cancelled' && 'bg-gray-100 text-gray-800'\n            )}\n          >\n            {t(`status.${item.status}`)}\n          </Badge>\n        ),\n      },\n      {\n        id: 'priority',\n        headerKey: 'Priority',\n        accessor: 'priority',\n        cell: (item) => (\n          <Badge\n            variant=\"outline\"\n            className={cn(\n              item.priority === 'urgent' && 'border-red-500 text-red-600',\n              item.priority === 'high' && 'border-orange-500 text-orange-600',\n              item.priority === 'medium' && 'border-yellow-500 text-yellow-600',\n              item.priority === 'low' && 'border-green-500 text-green-600'\n            )}\n          >\n            {t(`priority.${item.priority}`)}\n          </Badge>\n        ),\n      },\n      {\n        id: 'assignee',\n        headerKey: 'Assignee',\n        accessor: 'assignee',\n      },\n      {\n        id: 'createdAt',\n        headerKey: 'Created',\n        accessor: (item) => new Date(item.createdAt).toLocaleDateString(),\n      },\n    ],\n    [t]\n  );\n\n  // Handle action click\n  const handleActionClick = useCallback(\n    (action: BulkActionDefinition<DemoItem>) => {\n      const selectedItems = data.filter((item) => selection.selectedIds.has(item.id));\n\n      if (action.requiresConfirmation) {\n        requestConfirmation(action, selectedItems);\n      } else {\n        executeAction(action);\n      }\n    },\n    [data, selection.selectedIds, requestConfirmation, executeAction]\n  );\n\n  // Handle confirmation\n  const handleConfirm = useCallback(\n    (params?: BulkActionParams) => {\n      confirmAction(params);\n    },\n    [confirmAction]\n  );\n\n  // Handle undo toast actions\n  const handleUndoClick = useCallback(async () => {\n    await executeUndo();\n    setShowUndoToast(false);\n  }, [executeUndo]);\n\n  const handleUndoDismiss = useCallback(() => {\n    setShowUndoToast(false);\n    clearUndoData();\n  }, [clearUndoData]);\n\n  // Get all IDs for select all\n  const allIds = useMemo(() => data.map((item) => item.id), [data]);\n\n  return (\n    <div\n      className=\"container mx-auto px-4 py-6 sm:px-6 lg:px-8 space-y-6\"\n      dir={isRTL ? 'rtl' : 'ltr'}\n    >\n      {/* Page Header */}\n      <div className=\"space-y-2\">\n        <h1 className=\"text-2xl font-bold sm:text-3xl\">\n          {t('title')}\n        </h1>\n        <p className=\"text-muted-foreground\">\n          {t('description')}\n        </p>\n      </div>\n\n      {/* Bulk Actions Toolbar */}\n      <BulkActionsToolbar\n        selection={selection}\n        actions={DEFAULT_BULK_ACTIONS}\n        entityType=\"entity\"\n        actionState={actionState}\n        onActionClick={handleActionClick}\n        onClearSelection={clearSelection}\n        onSelectAll={() => selectAll(allIds)}\n      />\n\n      {/* Progress Indicator (shows during processing) */}\n      {actionState.status !== 'idle' && (\n        <BulkActionProgressIndicator\n          status={actionState.status}\n          progress={actionState.progress}\n          processedCount={actionState.processedCount}\n          totalCount={actionState.totalCount}\n          actionType={actionState.currentAction}\n          entityType=\"entity\"\n          onCancel={resetActionState}\n        />\n      )}\n\n      {/* Data Table */}\n      <div className=\"border rounded-lg overflow-hidden\">\n        <SelectableDataTable\n          data={data}\n          columns={columns}\n          selection={selection}\n          onToggleSelection={toggleSelection}\n          onSelectAll={selectAll}\n          onClearSelection={clearSelection}\n          onSelectRange={selectRange}\n        />\n      </div>\n\n      {/* Confirmation Dialog */}\n      <BulkActionConfirmDialog\n        open={!!pendingConfirmation}\n        action={pendingConfirmation?.action || null}\n        itemCount={pendingConfirmation?.itemCount || 0}\n        entityType=\"entity\"\n        onConfirm={handleConfirm}\n        onCancel={cancelConfirmation}\n        isProcessing={actionState.status === 'processing'}\n      />\n\n      {/* Undo Toast */}\n      <UndoToast\n        visible={showUndoToast && !!lastAction}\n        action={lastAction?.action as any || 'update-status'}\n        itemCount={lastAction?.count || 0}\n        undoTtl={DEFAULT_UNDO_TTL}\n        onUndo={handleUndoClick}\n        onDismiss={handleUndoDismiss}\n      />\n    </div>\n  );\n}\n\nexport default BulkActionsDemo;\n","import { createFileRoute } from '@tanstack/react-router';\nimport { BulkActionsDemo } from '@/pages/bulk-actions/BulkActionsDemo';\n\nexport const Route = createFileRoute('/_protected/bulk-actions-demo')({\n  component: BulkActionsDemo,\n});\n"],"names":["ACTION_ICONS","jsx","RefreshCw","UserPlus","Tags","Download","Trash2","Archive","RotateCcw","Bell","AlertTriangle","ArrowUpCircle","BulkActionsToolbar","selection","actions","entityType","actionState","onActionClick","onClearSelection","onSelectAll","disabled","className","t","i18n","useTranslation","isRTL","selectedCount","maxReached","isProcessing","primaryActions","secondaryActions","entityLabel","jsxs","cn","Button","action","MoreHorizontal","DropdownMenu","DropdownMenuTrigger","ChevronDown","DropdownMenuContent","index","DropdownMenuSeparator","DropdownMenuItem","X","MAX_BULK_SELECTION","DEFAULT_UNDO_TTL","DEFAULT_BULK_ACTIONS","STATUS_OPTIONS","PRIORITY_OPTIONS","EXPORT_FORMAT_OPTIONS","BulkActionConfirmDialog","open","itemCount","onConfirm","onCancel","undoTtl","selectedStatus","setSelectedStatus","useState","selectedPriority","setSelectedPriority","selectedFormat","setSelectedFormat","notes","setNotes","actionLabel","undoSeconds","handleConfirm","params","renderActionContent","Label","Select","v","SelectTrigger","SelectValue","SelectContent","status","SelectItem","priority","format","Textarea","e","AlertDialog","isOpen","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","Fragment","Loader2","STATUS_ICONS","CheckCircle2","XCircle","AlertCircle","STATUS_COLORS","BulkActionProgressIndicator","progress","processedCount","totalCount","actionType","Progress","SelectableDataTable","data","columns","onToggleSelection","onSelectRange","idField","selectionDisabled","onRowClick","rowClassName","emptyMessage","lastClickedRef","useRef","selectedIds","allSelected","partiallySelected","allIds","useMemo","item","handleSelectAll","useCallback","handleRowCheckboxClick","id","handleRowClick","renderCell","column","Table","TableHeader","TableRow","TableHead","Checkbox","TableBody","TableCell","isSelected","canSelect","UndoToast","visible","onUndo","onDismiss","remainingTime","setRemainingTime","isUndoing","setIsUndoing","progressPercent","remainingSeconds","useEffect","interval","prev","newTime","handleUndo","useBulkActions","options","maxSelection","onActionComplete","onActionError","setSelectedIds","visibleIds","setVisibleIds","lastSelectedIdRef","setActionState","undoData","setUndoData","undoTimerRef","pendingConfirmation","setPendingConfirmation","pendingActionRef","cancelledRef","canSelectMore","toggleSelection","newSet","selectAll","ids","selectRange","startId","endId","startIndex","endIndex","minIndex","maxIndex","i","clearSelection","executeAction","itemIds","result","simulateBulkAction","processed","cancelledResult","newUndoData","error","errorMessage","failedResult","cancelAction","resetActionState","executeUndo","success","clearUndoData","requestConfirmation","items","confirmAction","pending","cancelConfirmation","_actionType","onProgress","batchSize","delayMs","failedIds","resolve","generateDemoData","count","statuses","priorities","assignees","_","BulkActionsDemo","showUndoToast","setShowUndoToast","lastAction","setLastAction","Badge","handleActionClick","selectedItems","handleUndoClick","handleUndoDismiss","SplitComponent"],"mappings":"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"}