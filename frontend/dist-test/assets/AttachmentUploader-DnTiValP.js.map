{"version":3,"file":"AttachmentUploader-DnTiValP.js","sources":["../../src/components/AttachmentUploader.tsx"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useUploadAttachment, useDeleteAttachment } from '../hooks/useIntakeApi';\n\ninterface AttachmentFile {\n id: string;\n file: File;\n progress: number;\n status: 'uploading' | 'success' | 'error';\n error?: string;\n uploadedId?: string;\n}\n\ninterface AttachmentUploaderProps {\n attachmentIds: string[];\n onChange: (attachmentIds: string[]) => void;\n maxFileSize?: number; // in bytes, default 25MB\n maxTotalSize?: number; // in bytes, default 100MB\n maxFiles?: number; // default 10\n acceptedTypes?: string[]; // default: pdf, docx, xlsx, png, jpg\n}\n\nexport const AttachmentUploader: React.FC<AttachmentUploaderProps> = ({\n attachmentIds,\n onChange,\n maxFileSize = 25 * 1024 * 1024, // 25MB\n maxTotalSize = 100 * 1024 * 1024, // 100MB\n maxFiles = 10,\n acceptedTypes = [\n 'application/pdf',\n 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n 'image/png',\n 'image/jpeg',\n 'image/jpg',\n ],\n}) => {\n const { t } = useTranslation('intake');\n const fileInputRef = useRef<HTMLInputElement>(null);\n\n const [files, setFiles] = useState<AttachmentFile[]>([]);\n const [dragActive, setDragActive] = useState(false);\n const [validationError, setValidationError] = useState<string | null>(null);\n\n const uploadMutation = useUploadAttachment();\n const deleteMutation = useDeleteAttachment();\n\n // Calculate total size\n const getTotalSize = useCallback(() => {\n return files.reduce((total, file) => total + file.file.size, 0);\n }, [files]);\n\n // Format file size\n const formatFileSize = (bytes: number): string => {\n if (bytes === 0) return '0 Bytes';\n const k = 1024;\n const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n const i = Math.floor(Math.log(bytes) / Math.log(k));\n return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n };\n\n // Validate file\n const validateFile = (file: File): string | null => {\n // Check file type\n if (!acceptedTypes.includes(file.type)) {\n return t('intake.validation.unsupportedFileType');\n }\n\n // Check file size\n if (file.size > maxFileSize) {\n return t('intake.validation.fileTooLarge');\n }\n\n // Check total size\n const newTotalSize = getTotalSize() + file.size;\n if (newTotalSize > maxTotalSize) {\n return t('intake.validation.totalSizeExceeded');\n }\n\n // Check max files\n if (files.length >= maxFiles) {\n return `Maximum ${maxFiles} files allowed`;\n }\n\n return null;\n };\n\n // Upload file\n const uploadFile = async (attachmentFile: AttachmentFile) => {\n try {\n setFiles((prev) =>\n prev.map((f) =>\n f.id === attachmentFile.id ? { ...f, status: 'uploading', progress: 0 } : f\n )\n );\n\n const formData = new FormData();\n formData.append('file', attachmentFile.file);\n\n // Simulate progress for better UX\n const progressInterval = setInterval(() => {\n setFiles((prev) =>\n prev.map((f) =>\n f.id === attachmentFile.id && f.progress < 90\n ? { ...f, progress: f.progress + 10 }\n : f\n )\n );\n }, 200);\n\n const result = await uploadMutation.mutateAsync(formData);\n\n clearInterval(progressInterval);\n\n setFiles((prev) =>\n prev.map((f) =>\n f.id === attachmentFile.id\n ? { ...f, status: 'success', progress: 100, uploadedId: result.id }\n : f\n )\n );\n\n // Update parent component with new attachment ID\n onChange([...attachmentIds, result.id]);\n } catch (error: any) {\n setFiles((prev) =>\n prev.map((f) =>\n f.id === attachmentFile.id\n ? {\n ...f,\n status: 'error',\n error: error.message || t('intake.error.message'),\n }\n : f\n )\n );\n }\n };\n\n // Handle file selection\n const handleFiles = (newFiles: FileList | null) => {\n if (!newFiles || newFiles.length === 0) return;\n\n setValidationError(null);\n\n const fileArray = Array.from(newFiles);\n\n for (const file of fileArray) {\n const error = validateFile(file);\n\n if (error) {\n setValidationError(error);\n return;\n }\n\n const attachmentFile: AttachmentFile = {\n id: `${Date.now()}-${Math.random()}`,\n file,\n progress: 0,\n status: 'uploading',\n };\n\n setFiles((prev) => [...prev, attachmentFile]);\n\n // Start upload\n uploadFile(attachmentFile);\n }\n };\n\n // Handle drag events\n const handleDrag = (e: React.DragEvent) => {\n e.preventDefault();\n e.stopPropagation();\n\n if (e.type === 'dragenter' || e.type === 'dragover') {\n setDragActive(true);\n } else if (e.type === 'dragleave') {\n setDragActive(false);\n }\n };\n\n // Handle drop\n const handleDrop = (e: React.DragEvent) => {\n e.preventDefault();\n e.stopPropagation();\n setDragActive(false);\n\n if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n handleFiles(e.dataTransfer.files);\n }\n };\n\n // Handle file input change\n const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n e.preventDefault();\n if (e.target.files && e.target.files.length > 0) {\n handleFiles(e.target.files);\n }\n };\n\n // Handle delete\n const handleDelete = async (attachmentFile: AttachmentFile) => {\n if (attachmentFile.uploadedId) {\n try {\n await deleteMutation.mutateAsync(attachmentFile.uploadedId);\n onChange(attachmentIds.filter((id) => id !== attachmentFile.uploadedId));\n } catch (error) {\n console.error('Failed to delete attachment:', error);\n }\n }\n\n setFiles((prev) => prev.filter((f) => f.id !== attachmentFile.id));\n };\n\n // Trigger file input click\n const onButtonClick = () => {\n fileInputRef.current?.click();\n };\n\n return (\n <div className=\"space-y-4\">\n <div>\n <label className=\"mb-2 block text-sm font-medium text-gray-700\">\n {t('intake.form.attachments.label')}\n </label>\n <p className=\"mb-3 text-xs text-gray-500\">\n {t('intake.form.attachments.description')}\n </p>\n </div>\n\n {/* Dropzone */}\n <div\n className={`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${\n dragActive\n ? 'border-blue-500 bg-blue-50'\n : 'border-gray-300 hover:border-gray-400'\n }`}\n onDragEnter={handleDrag}\n onDragLeave={handleDrag}\n onDragOver={handleDrag}\n onDrop={handleDrop}\n >\n <input\n ref={fileInputRef}\n type=\"file\"\n multiple\n accept={acceptedTypes.join(',')}\n onChange={handleChange}\n className=\"hidden\"\n />\n\n <div className=\"space-y-2\">\n <svg\n className=\"mx-auto size-12 text-gray-400\"\n stroke=\"currentColor\"\n fill=\"none\"\n viewBox=\"0 0 48 48\"\n aria-hidden=\"true\"\n >\n <path\n d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n strokeWidth={2}\n strokeLinecap=\"round\"\n strokeLinejoin=\"round\"\n />\n </svg>\n\n <div className=\"text-sm text-gray-600\">\n <button\n type=\"button\"\n onClick={onButtonClick}\n className=\"font-medium text-blue-600 hover:text-blue-500 focus:underline focus:outline-none\"\n >\n {t('intake.form.attachments.dropzone')}\n </button>\n </div>\n\n <p className=\"text-xs text-gray-500\">{t('intake.form.attachments.maxSize')}</p>\n <p className=\"text-xs text-gray-500\">{t('intake.form.attachments.maxTotal')}</p>\n <p className=\"text-xs text-gray-500\">\n {t('intake.form.attachments.supportedFormats')}\n </p>\n </div>\n </div>\n\n {/* Validation Error */}\n {validationError && (\n <div className=\"rounded-md border border-red-200 bg-red-50 p-3\">\n <p className=\"text-sm text-red-800\">{validationError}</p>\n </div>\n )}\n\n {/* File List */}\n {files.length > 0 && (\n <div className=\"space-y-2\">\n {files.map((attachmentFile) => (\n <div\n key={attachmentFile.id}\n className=\"flex items-center justify-between rounded-md border border-gray-200 bg-gray-50 p-3\"\n >\n <div className=\"min-w-0 flex-1\">\n <div className=\"flex items-center space-x-3\">\n {/* File Icon */}\n <div className=\"shrink-0\">\n {attachmentFile.status === 'success' ? (\n <svg\n className=\"size-5 text-green-500\"\n fill=\"currentColor\"\n viewBox=\"0 0 20 20\"\n >\n <path\n fillRule=\"evenodd\"\n d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n clipRule=\"evenodd\"\n />\n </svg>\n ) : attachmentFile.status === 'error' ? (\n <svg\n className=\"size-5 text-red-500\"\n fill=\"currentColor\"\n viewBox=\"0 0 20 20\"\n >\n <path\n fillRule=\"evenodd\"\n d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\n clipRule=\"evenodd\"\n />\n </svg>\n ) : (\n <svg\n className=\"size-5 animate-spin text-blue-500\"\n viewBox=\"0 0 24 24\"\n >\n <circle\n className=\"opacity-25\"\n cx=\"12\"\n cy=\"12\"\n r=\"10\"\n stroke=\"currentColor\"\n strokeWidth=\"4\"\n fill=\"none\"\n />\n <path\n className=\"opacity-75\"\n fill=\"currentColor\"\n d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n />\n </svg>\n )}\n </div>\n\n {/* File Info */}\n <div className=\"min-w-0 flex-1\">\n <p className=\"truncate text-sm font-medium text-gray-900\">\n {attachmentFile.file.name}\n </p>\n <p className=\"text-xs text-gray-500\">\n {formatFileSize(attachmentFile.file.size)}\n {attachmentFile.status === 'uploading' &&\n ` - ${attachmentFile.progress}%`}\n </p>\n {attachmentFile.error && (\n <p className=\"mt-1 text-xs text-red-600\">{attachmentFile.error}</p>\n )}\n </div>\n </div>\n\n {/* Progress Bar */}\n {attachmentFile.status === 'uploading' && (\n <div className=\"mt-2\">\n <div className=\"h-1.5 w-full rounded-full bg-gray-200\">\n <div\n className=\"h-1.5 rounded-full bg-blue-600 transition-all duration-300\"\n style={{ width: `${attachmentFile.progress}%` }}\n />\n </div>\n </div>\n )}\n </div>\n\n {/* Delete Button */}\n <button\n type=\"button\"\n onClick={() => handleDelete(attachmentFile)}\n className=\"ms-3 shrink-0 text-gray-400 transition-colors hover:text-red-500\"\n disabled={attachmentFile.status === 'uploading'}\n >\n <svg className=\"size-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n <path\n fillRule=\"evenodd\"\n d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\n clipRule=\"evenodd\"\n />\n </svg>\n </button>\n </div>\n ))}\n\n {/* Total Size */}\n <div className=\"flex justify-between pt-2 text-xs text-gray-500\">\n <span>\n {files.length} {files.length === 1 ? 'file' : 'files'}\n </span>\n <span>\n Total: {formatFileSize(getTotalSize())} / {formatFileSize(maxTotalSize)}\n </span>\n </div>\n </div>\n )}\n </div>\n );\n};"],"names":["AttachmentUploader","attachmentIds","onChange","maxFileSize","maxTotalSize","maxFiles","acceptedTypes","t","useTranslation","fileInputRef","useRef","files","setFiles","useState","dragActive","setDragActive","validationError","setValidationError","uploadMutation","useUploadAttachment","deleteMutation","useDeleteAttachment","getTotalSize","useCallback","total","file","formatFileSize","bytes","k","sizes","i","validateFile","uploadFile","attachmentFile","prev","f","formData","progressInterval","result","error","handleFiles","newFiles","fileArray","handleDrag","handleDrop","handleChange","handleDelete","id","onButtonClick","jsxs","jsx"],"mappings":"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"}