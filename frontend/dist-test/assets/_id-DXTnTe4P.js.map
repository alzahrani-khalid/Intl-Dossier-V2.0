{"version":3,"file":"_id-DXTnTe4P.js","sources":["../../src/components/Dossier/ForumDossierDetail.tsx","../../src/pages/dossiers/ForumDossierPage.tsx","../../src/routes/_protected/dossiers/forums/$id.tsx?tsr-split=component"],"sourcesContent":["/**\n * ForumDossierDetail - Type-specific layout for Forum dossiers\n *\n * Component Library Decision:\n * - Checked: Aceternity UI > Aceternity Pro > Kibo-UI\n * - Selected: CollapsibleSection (implemented), section components (custom)\n * - Reason: Reusable collapsible sections with forum-specific content\n *\n * Responsive Strategy:\n * - Base: Single column grid (grid-cols-1)\n * - md: 2-column grid (md:grid-cols-2)\n * - lg: 3-column bento grid (lg:grid-cols-3) for collaboration visualization\n * - Sections: Different column spans for visual hierarchy\n *\n * RTL Support:\n * - Logical properties: gap-*, text-start\n * - Icon flipping: None needed in forum view\n * - Text alignment: Inherited from CollapsibleSection\n *\n * Accessibility:\n * - ARIA: CollapsibleSection handles accordion ARIA patterns\n * - Keyboard: Tab navigation through sections, Enter/Space to toggle\n * - Focus: CollapsibleSection manages focus states\n *\n * Performance:\n * - Memoization: Section data memoized via useMemo (T065)\n * - Lazy loading: Sections use dynamic imports in future optimization\n *\n * Feature: 028-type-specific-dossier-pages\n */\n\nimport { useTranslation } from 'react-i18next';\nimport { useCollapsibleSections } from '@/hooks/useSessionStorage';\nimport { CollapsibleSection } from './CollapsibleSection';\nimport { MemberOrganizations } from './sections/MemberOrganizations';\nimport { MeetingSchedule } from './sections/MeetingSchedule';\nimport { DeliverablesTracker } from './sections/DeliverablesTracker';\nimport { DecisionLogs } from './sections/DecisionLogs';\nimport type { ForumDossier } from '@/lib/dossier-type-guards';\n\ninterface ForumDossierDetailProps {\n  dossier: ForumDossier;\n}\n\nexport function ForumDossierDetail({ dossier }: ForumDossierDetailProps) {\n  const { t, i18n } = useTranslation('dossier');\n  const isRTL = i18n.language === 'ar';\n\n  // Manage collapsible section state with session storage\n  const [sections, toggleSection] = useCollapsibleSections(\n    dossier.id,\n    'forum',\n    {\n      memberOrganizations: true,\n      meetingSchedule: true,\n      deliverablesTracker: true,\n      decisionLogs: true,\n    }\n  );\n\n  return (\n    <div\n      className=\"space-y-5\"\n      dir={isRTL ? 'rtl' : 'ltr'}\n    >\n      {/* Member Organizations Section - Spans 2 columns on large screens */}\n      <div className=\"lg:col-span-2\">\n        <CollapsibleSection\n          id=\"memberOrganizations\"\n          title={t('sections.forum.memberOrganizations')}\n          description={t('sections.forum.memberOrganizationsDescription')}\n          isExpanded={sections.memberOrganizations}\n          onToggle={() => toggleSection('memberOrganizations')}\n        >\n          <MemberOrganizations dossier={dossier} />\n        </CollapsibleSection>\n      </div>\n\n      {/* Meeting Schedule Section - Takes 1 column on large screens */}\n      <div className=\"lg:col-span-1\">\n        <CollapsibleSection\n          id=\"meetingSchedule\"\n          title={t('sections.forum.meetingSchedule')}\n          description={t('sections.forum.meetingScheduleDescription')}\n          isExpanded={sections.meetingSchedule}\n          onToggle={() => toggleSection('meetingSchedule')}\n        >\n          <MeetingSchedule dossier={dossier} />\n        </CollapsibleSection>\n      </div>\n\n      {/* Deliverables Tracker Section - Spans all columns */}\n      <div className=\"lg:col-span-3\">\n        <CollapsibleSection\n          id=\"deliverablesTracker\"\n          title={t('sections.forum.deliverablesTracker')}\n          description={t('sections.forum.deliverablesTrackerDescription')}\n          isExpanded={sections.deliverablesTracker}\n          onToggle={() => toggleSection('deliverablesTracker')}\n        >\n          <DeliverablesTracker dossier={dossier} />\n        </CollapsibleSection>\n      </div>\n\n      {/* Decision Logs Section - Spans all columns */}\n      <div className=\"lg:col-span-3\">\n        <CollapsibleSection\n          id=\"decisionLogs\"\n          title={t('sections.forum.decisionLogs')}\n          description={t('sections.forum.decisionLogsDescription')}\n          isExpanded={sections.decisionLogs}\n          onToggle={() => toggleSection('decisionLogs')}\n        >\n          <DecisionLogs dossier={dossier} />\n        </CollapsibleSection>\n      </div>\n    </div>\n  );\n}\n","/**\n * Forum Dossier Page Wrapper (Feature 028 - User Story 6)\n *\n * Component Library Decision:\n * - Checked: Aceternity UI > Aceternity Pro > Kibo-UI\n * - Selected: DossierDetailLayout (shared wrapper)\n * - Reason: Provides consistent header, breadcrumbs, and RTL support\n *\n * Responsive Strategy:\n * - Base: Inherits from DossierDetailLayout (px-4 sm:px-6 lg:px-8)\n * - Grid: Bento grid for collaboration-focused layout\n *\n * RTL Support:\n * - Inherited from DossierDetailLayout (dir attribute, logical properties)\n *\n * Accessibility:\n * - Semantic HTML: Uses DossierDetailLayout's semantic structure\n * - ARIA: Breadcrumbs, heading hierarchy\n *\n * Performance:\n * - Will be lazy-loaded via React.lazy in polish phase (T064)\n */\n\nimport { DossierDetailLayout } from '@/components/Dossier/DossierDetailLayout';\nimport { ForumDossierDetail } from '@/components/Dossier/ForumDossierDetail';\nimport type { ForumDossier } from '@/lib/dossier-type-guards';\n\ninterface ForumDossierPageProps {\n  dossier: ForumDossier;\n}\n\nexport function ForumDossierPage({ dossier }: ForumDossierPageProps) {\n  return (\n    <DossierDetailLayout\n      dossier={dossier}\n      gridClassName=\"grid-cols-1 md:grid-cols-2 lg:grid-cols-3\"\n    >\n      <ForumDossierDetail dossier={dossier} />\n    </DossierDetailLayout>\n  );\n}\n","/**\n * Forum Dossier Detail Route (Feature 028 - User Story 6)\n *\n * Component Library Decision:\n * - Checked: Aceternity UI > Aceternity Pro > Kibo-UI\n * - Selected: CollapsibleSection (already implemented), DossierDetailLayout (shared wrapper)\n * - Reason: Reusing shared components for consistency, type-specific layout via gridClassName\n *\n * Responsive Strategy:\n * - Base: Single column (grid-cols-1)\n * - md: 2-column grid (md:grid-cols-2)\n * - lg: 3-column bento grid (lg:grid-cols-3) for collaboration visualization\n *\n * RTL Support:\n * - Logical properties: Container uses ps-*, pe-*, text-start\n * - Icon flipping: None needed (no directional icons)\n * - Text alignment: text-start for all text content\n *\n * Accessibility:\n * - ARIA: Page title as h1, proper semantic structure\n * - Keyboard: Collapsible sections support keyboard navigation\n * - Focus: Focus management in CollapsibleSection component\n *\n * Performance:\n * - Lazy loading: Component will be code-split via React.lazy in polish phase\n * - Memoization: Type guard validation memoized via TanStack Query\n *\n * @example\n * <Route path=\"/dossiers/forums/:id\" />\n */\n\nimport { createFileRoute } from '@tanstack/react-router';\nimport { useTranslation } from 'react-i18next';\nimport { Loader2, AlertCircle } from 'lucide-react';\nimport { useTypedDossier } from '@/hooks/useDossier';\nimport { ForumDossierPage } from '@/pages/dossiers/ForumDossierPage';\nimport { Button } from '@/components/ui/button';\nimport { Link } from '@tanstack/react-router';\n\nexport const Route = createFileRoute('/_protected/dossiers/forums/$id')({\n  component: ForumDossierDetailRoute,\n});\n\nfunction ForumDossierDetailRoute() {\n  const { id } = Route.useParams();\n  const { t, i18n } = useTranslation('dossier');\n  const isRTL = i18n.language === 'ar';\n\n  // Fetch forum dossier with type validation\n  const { data: dossier, isLoading, error } = useTypedDossier(id, 'forum');\n\n  // Loading State\n  if (isLoading) {\n    return (\n      <div\n        className=\"flex min-h-[50vh] items-center justify-center\"\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <div className=\"flex flex-col items-center gap-3\">\n          <Loader2 className=\"h-8 w-8 sm:h-10 sm:w-10 animate-spin text-primary\" />\n          <p className=\"text-sm sm:text-base text-muted-foreground\">\n            {t('detail.loading')}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  // Error State\n  if (error || !dossier) {\n    return (\n      <div\n        className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\"\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"rounded-lg border border-destructive/20 bg-destructive/10 p-6 sm:p-8\">\n            <div className=\"flex items-start gap-4\">\n              <AlertCircle className=\"h-5 w-5 sm:h-6 sm:w-6 text-destructive shrink-0 mt-1\" />\n              <div className=\"flex-1\">\n                <h2 className=\"text-lg sm:text-xl font-semibold text-destructive mb-2\">\n                  {t('detail.error')}\n                </h2>\n                <p className=\"text-sm sm:text-base text-destructive/90 mb-4\">\n                  {error?.message || t('detail.errorGeneric')}\n                </p>\n                <Button asChild variant=\"outline\">\n                  <Link to=\"/dossiers\">\n                    {t('action.backToHub')}\n                  </Link>\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Type Mismatch Error\n  if (dossier.type !== 'forum') {\n    return (\n      <div\n        className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\"\n        dir={isRTL ? 'rtl' : 'ltr'}\n      >\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"rounded-lg border border-warning/20 bg-warning/10 p-6 sm:p-8\">\n            <h2 className=\"text-lg sm:text-xl font-semibold mb-2\">\n              {t('detail.wrongType')}\n            </h2>\n            <p className=\"text-sm sm:text-base text-muted-foreground mb-4\">\n              {t('detail.wrongTypeDescription', {\n                actualType: t(`type.${dossier.type}`),\n                expectedType: t('type.forum'),\n              })}\n            </p>\n            <div className=\"flex gap-3\">\n              <Button asChild>\n                <Link to={`/dossiers/${dossier.type}s/${id}`}>\n                  {t('action.viewCorrectType', { type: t(`type.${dossier.type}`) })}\n                </Link>\n              </Button>\n              <Button asChild variant=\"outline\">\n                <Link to=\"/dossiers\">\n                  {t('action.backToHub')}\n                </Link>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Success - Render Forum Dossier Page\n  return <ForumDossierPage dossier={dossier} />;\n}\n"],"names":["ForumDossierDetail","dossier","t","i18n","useTranslation","isRTL","sections","toggleSection","useCollapsibleSections","jsxs","jsx","CollapsibleSection","MemberOrganizations","MeetingSchedule","DeliverablesTracker","DecisionLogs","ForumDossierPage","DossierDetailLayout","ForumDossierDetailRoute","id","Route","useParams","language","data","isLoading","error","useTypedDossier","Loader2","AlertCircle","message","Button","Link","type","actualType","expectedType"],"mappings":"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"}