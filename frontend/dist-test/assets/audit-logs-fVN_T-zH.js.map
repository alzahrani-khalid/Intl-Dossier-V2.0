{"version":3,"file":"audit-logs-fVN_T-zH.js","sources":["../../src/hooks/useAuditLogs.ts","../../src/components/audit-logs/AuditLogFilters.tsx","../../src/components/audit-logs/AuditLogTable.tsx","../../src/components/audit-logs/AuditLogExport.tsx","../../src/components/audit-logs/AuditLogStatistics.tsx","../../src/pages/audit-logs/AuditLogsPage.tsx","../../src/routes/_protected/audit-logs.tsx?tsr-split=component"],"sourcesContent":["/**\n * Audit Logs Hooks\n *\n * TanStack Query hooks for:\n * - Fetching audit logs with filters and pagination\n * - Getting single audit log details\n * - Fetching audit statistics\n * - Exporting audit logs\n * - Getting distinct filter values\n */\n\nimport { useState, useCallback } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { supabase } from '@/lib/supabase';\nimport type {\n  AuditLogEntry,\n  AuditLogDetail,\n  AuditLogRelated,\n  AuditLogFilters,\n  AuditLogPagination,\n  AuditLogMetadata,\n  AuditLogStatistics,\n  ExportOptions,\n  UseAuditLogsReturn,\n  UseAuditLogDetailReturn,\n  UseAuditLogStatisticsReturn,\n  UseAuditLogExportReturn,\n} from '@/types/audit-log.types';\n\n// API Base URL\nconst getApiUrl = () => {\n  const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\n  return `${supabaseUrl}/functions/v1/audit-logs-viewer`;\n};\n\n// =============================================\n// AUDIT LOGS LIST HOOK\n// =============================================\n\nexport function useAuditLogs(initialFilters?: AuditLogFilters): UseAuditLogsReturn {\n  const [filters, setFiltersState] = useState<AuditLogFilters>(initialFilters || {});\n  const [pagination, setPaginationState] = useState<AuditLogPagination>({\n    limit: 50,\n    offset: 0,\n  });\n\n  const queryKey = ['audit-logs', filters, pagination];\n\n  const {\n    data,\n    isLoading,\n    isFetching,\n    error,\n    refetch,\n  } = useQuery<{ data: AuditLogEntry[]; metadata: AuditLogMetadata }, Error>({\n    queryKey,\n    queryFn: async () => {\n      const { data: { session } } = await supabase.auth.getSession();\n\n      if (!session?.access_token) {\n        throw new Error('Not authenticated');\n      }\n\n      // Build query params\n      const params = new URLSearchParams();\n\n      params.set('limit', pagination.limit.toString());\n      params.set('offset', pagination.offset.toString());\n\n      if (filters.table_name) params.set('table_name', filters.table_name);\n      if (filters.user_id) params.set('user_id', filters.user_id);\n      if (filters.user_email) params.set('user_email', filters.user_email);\n      if (filters.operation) params.set('operation', filters.operation);\n      if (filters.date_from) params.set('date_from', filters.date_from);\n      if (filters.date_to) params.set('date_to', filters.date_to);\n      if (filters.ip_address) params.set('ip_address', filters.ip_address);\n      if (filters.search) params.set('search', filters.search);\n      if (filters.row_id) params.set('row_id', filters.row_id);\n      if (filters.sort_by) params.set('sort_by', filters.sort_by);\n      if (filters.sort_order) params.set('sort_order', filters.sort_order);\n\n      const response = await fetch(`${getApiUrl()}?${params.toString()}`, {\n        headers: {\n          Authorization: `Bearer ${session.access_token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to fetch audit logs');\n      }\n\n      return response.json();\n    },\n    staleTime: 30 * 1000, // 30 seconds\n    refetchInterval: 60 * 1000, // 1 minute\n  });\n\n  const setFilters = useCallback((newFilters: AuditLogFilters) => {\n    setFiltersState(newFilters);\n    // Reset pagination when filters change\n    setPaginationState((prev) => ({ ...prev, offset: 0 }));\n  }, []);\n\n  const clearFilters = useCallback(() => {\n    setFiltersState({});\n    setPaginationState((prev) => ({ ...prev, offset: 0 }));\n  }, []);\n\n  const setPagination = useCallback((newPagination: AuditLogPagination) => {\n    setPaginationState(newPagination);\n  }, []);\n\n  const nextPage = useCallback(() => {\n    setPaginationState((prev) => ({\n      ...prev,\n      offset: prev.offset + prev.limit,\n    }));\n  }, []);\n\n  const prevPage = useCallback(() => {\n    setPaginationState((prev) => ({\n      ...prev,\n      offset: Math.max(0, prev.offset - prev.limit),\n    }));\n  }, []);\n\n  return {\n    logs: data?.data || [],\n    isLoading,\n    isFetchingNextPage: isFetching && !isLoading,\n    error: error || null,\n    total: data?.metadata?.total || 0,\n    hasMore: data?.metadata?.has_more || false,\n    filters,\n    pagination,\n    setFilters,\n    clearFilters,\n    setPagination,\n    nextPage,\n    prevPage,\n    refetch,\n  };\n}\n\n// =============================================\n// AUDIT LOG DETAIL HOOK\n// =============================================\n\nexport function useAuditLogDetail(logId: string | null): UseAuditLogDetailReturn {\n  const { data, isLoading, error } = useQuery<\n    { data: { log: AuditLogDetail; related_logs: AuditLogRelated[] } },\n    Error\n  >({\n    queryKey: ['audit-log', logId],\n    queryFn: async () => {\n      if (!logId) throw new Error('Log ID is required');\n\n      const { data: { session } } = await supabase.auth.getSession();\n\n      if (!session?.access_token) {\n        throw new Error('Not authenticated');\n      }\n\n      const response = await fetch(`${getApiUrl()}/${logId}`, {\n        headers: {\n          Authorization: `Bearer ${session.access_token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to fetch audit log');\n      }\n\n      return response.json();\n    },\n    enabled: !!logId,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n\n  return {\n    log: data?.data?.log || null,\n    relatedLogs: data?.data?.related_logs || [],\n    isLoading,\n    error: error || null,\n  };\n}\n\n// =============================================\n// AUDIT LOG STATISTICS HOOK\n// =============================================\n\nexport function useAuditLogStatistics(\n  dateFrom?: string,\n  dateTo?: string\n): UseAuditLogStatisticsReturn {\n  const { data, isLoading, error, refetch } = useQuery<\n    { data: AuditLogStatistics },\n    Error\n  >({\n    queryKey: ['audit-log-statistics', dateFrom, dateTo],\n    queryFn: async () => {\n      const { data: { session } } = await supabase.auth.getSession();\n\n      if (!session?.access_token) {\n        throw new Error('Not authenticated');\n      }\n\n      const params = new URLSearchParams();\n      if (dateFrom) params.set('date_from', dateFrom);\n      if (dateTo) params.set('date_to', dateTo);\n\n      const response = await fetch(\n        `${getApiUrl()}/statistics?${params.toString()}`,\n        {\n          headers: {\n            Authorization: `Bearer ${session.access_token}`,\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to fetch statistics');\n      }\n\n      return response.json();\n    },\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n\n  return {\n    statistics: data?.data || null,\n    isLoading,\n    error: error || null,\n    refetch,\n  };\n}\n\n// =============================================\n// AUDIT LOG EXPORT HOOK\n// =============================================\n\nexport function useAuditLogExport(): UseAuditLogExportReturn {\n  const [isExporting, setIsExporting] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n\n  const exportLogs = useCallback(\n    async (options: ExportOptions) => {\n      setIsExporting(true);\n      setError(null);\n\n      try {\n        const { data: { session } } = await supabase.auth.getSession();\n\n        if (!session?.access_token) {\n          throw new Error('Not authenticated');\n        }\n\n        const params = new URLSearchParams();\n        params.set('format', options.format);\n\n        if (options.filters) {\n          const { filters } = options;\n          if (filters.table_name) params.set('table_name', filters.table_name);\n          if (filters.user_id) params.set('user_id', filters.user_id);\n          if (filters.user_email) params.set('user_email', filters.user_email);\n          if (filters.operation) params.set('operation', filters.operation);\n          if (filters.date_from) params.set('date_from', filters.date_from);\n          if (filters.date_to) params.set('date_to', filters.date_to);\n          if (filters.ip_address) params.set('ip_address', filters.ip_address);\n          if (filters.search) params.set('search', filters.search);\n        }\n\n        const response = await fetch(\n          `${getApiUrl()}/export?${params.toString()}`,\n          {\n            headers: {\n              Authorization: `Bearer ${session.access_token}`,\n            },\n          }\n        );\n\n        if (!response.ok) {\n          throw new Error('Failed to export audit logs');\n        }\n\n        // Get filename from Content-Disposition header or generate one\n        const contentDisposition = response.headers.get('Content-Disposition');\n        let filename = `audit_logs_${new Date().toISOString().split('T')[0]}.${options.format}`;\n        if (contentDisposition) {\n          const filenameMatch = contentDisposition.match(/filename=\"(.+)\"/);\n          if (filenameMatch) {\n            filename = filenameMatch[1];\n          }\n        }\n\n        // Download the file\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = filename;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } catch (err) {\n        setError(err instanceof Error ? err : new Error('Export failed'));\n        throw err;\n      } finally {\n        setIsExporting(false);\n      }\n    },\n    []\n  );\n\n  return {\n    exportLogs,\n    isExporting,\n    error,\n  };\n}\n\n// =============================================\n// DISTINCT VALUES HOOK (for filter dropdowns)\n// =============================================\n\nexport function useAuditLogDistinctValues(field: 'table_name' | 'operation' | 'user_role') {\n  const { data, isLoading, error } = useQuery<{ data: string[] }, Error>({\n    queryKey: ['audit-log-distinct', field],\n    queryFn: async () => {\n      const { data: { session } } = await supabase.auth.getSession();\n\n      if (!session?.access_token) {\n        throw new Error('Not authenticated');\n      }\n\n      const response = await fetch(`${getApiUrl()}/distinct/${field}`, {\n        headers: {\n          Authorization: `Bearer ${session.access_token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to fetch distinct values');\n      }\n\n      return response.json();\n    },\n    staleTime: 10 * 60 * 1000, // 10 minutes\n  });\n\n  return {\n    values: data?.data || [],\n    isLoading,\n    error: error || null,\n  };\n}\n","/**\n * Audit Log Filters Component\n *\n * Provides comprehensive filtering options for the audit log viewer:\n * - Table filter (multi-select)\n * - Operation filter (INSERT, UPDATE, DELETE)\n * - Date range filter (presets + custom)\n * - User email search\n * - IP address filter\n * - Free text search\n *\n * Mobile-first and RTL-ready\n */\n\nimport { useState, useCallback, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Search,\n  X,\n  ChevronDown,\n  Filter,\n  Calendar,\n  Database,\n  Plus,\n  Edit3,\n  Trash2,\n  Globe,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { useAuditLogDistinctValues } from '@/hooks/useAuditLogs';\nimport type {\n  AuditLogFilters as FiltersType,\n  AuditOperation,\n  DateRangePreset,\n} from '@/types/audit-log.types';\n\n// =============================================\n// CONFIGURATION\n// =============================================\n\nconst OPERATION_CONFIG: Record<\n  AuditOperation,\n  { icon: typeof Plus; label_en: string; label_ar: string; color: string }\n> = {\n  INSERT: { icon: Plus, label_en: 'Created', label_ar: 'إنشاء', color: 'text-green-600' },\n  UPDATE: { icon: Edit3, label_en: 'Updated', label_ar: 'تحديث', color: 'text-blue-600' },\n  DELETE: { icon: Trash2, label_en: 'Deleted', label_ar: 'حذف', color: 'text-red-600' },\n};\n\nconst DATE_PRESETS: {\n  value: DateRangePreset;\n  label_en: string;\n  label_ar: string;\n}[] = [\n  { value: 'today', label_en: 'Today', label_ar: 'اليوم' },\n  { value: 'yesterday', label_en: 'Yesterday', label_ar: 'أمس' },\n  { value: 'last_7_days', label_en: 'Last 7 days', label_ar: 'آخر 7 أيام' },\n  { value: 'last_30_days', label_en: 'Last 30 days', label_ar: 'آخر 30 يوم' },\n  { value: 'last_90_days', label_en: 'Last 90 days', label_ar: 'آخر 90 يوم' },\n  { value: 'this_month', label_en: 'This month', label_ar: 'هذا الشهر' },\n  { value: 'last_month', label_en: 'Last month', label_ar: 'الشهر الماضي' },\n  { value: 'custom', label_en: 'Custom range', label_ar: 'نطاق مخصص' },\n];\n\n// =============================================\n// PROPS\n// =============================================\n\ninterface AuditLogFiltersProps {\n  filters: FiltersType;\n  onFiltersChange: (filters: FiltersType) => void;\n  onClearFilters: () => void;\n  className?: string;\n}\n\n// =============================================\n// COMPONENT\n// =============================================\n\nexport function AuditLogFilters({\n  filters,\n  onFiltersChange,\n  onClearFilters,\n  className,\n}: AuditLogFiltersProps) {\n  const { t, i18n } = useTranslation('audit-logs');\n  const isRTL = i18n.language === 'ar';\n\n  const [searchValue, setSearchValue] = useState(filters.search || '');\n  const [datePreset, setDatePreset] = useState<DateRangePreset>('last_30_days');\n  const [showCustomDates, setShowCustomDates] = useState(false);\n\n  // Get available tables for filter dropdown\n  const { values: availableTables } = useAuditLogDistinctValues('table_name');\n\n  // Count active filters\n  const activeFilterCount = useMemo(() => {\n    let count = 0;\n    if (filters.table_name) count += 1;\n    if (filters.operation) count += 1;\n    if (filters.date_from || filters.date_to) count += 1;\n    if (filters.user_email) count += 1;\n    if (filters.ip_address) count += 1;\n    if (filters.search) count += 1;\n    return count;\n  }, [filters]);\n\n  // Handle search with debounce\n  const handleSearchChange = useCallback(\n    (value: string) => {\n      setSearchValue(value);\n      const timeoutId = setTimeout(() => {\n        onFiltersChange({ ...filters, search: value || undefined });\n      }, 500);\n      return () => clearTimeout(timeoutId);\n    },\n    [filters, onFiltersChange]\n  );\n\n  // Handle date preset change\n  const handleDatePresetChange = useCallback(\n    (preset: DateRangePreset) => {\n      setDatePreset(preset);\n\n      if (preset === 'custom') {\n        setShowCustomDates(true);\n        return;\n      }\n\n      setShowCustomDates(false);\n\n      const now = new Date();\n      let from: Date | undefined;\n      let to: Date | undefined = new Date();\n\n      switch (preset) {\n        case 'today':\n          from = new Date();\n          from.setHours(0, 0, 0, 0);\n          break;\n        case 'yesterday':\n          from = new Date();\n          from.setDate(from.getDate() - 1);\n          from.setHours(0, 0, 0, 0);\n          to = new Date(from);\n          to.setHours(23, 59, 59, 999);\n          break;\n        case 'last_7_days':\n          from = new Date();\n          from.setDate(from.getDate() - 7);\n          break;\n        case 'last_30_days':\n          from = new Date();\n          from.setDate(from.getDate() - 30);\n          break;\n        case 'last_90_days':\n          from = new Date();\n          from.setDate(from.getDate() - 90);\n          break;\n        case 'this_month':\n          from = new Date(now.getFullYear(), now.getMonth(), 1);\n          break;\n        case 'last_month':\n          from = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n          to = new Date(now.getFullYear(), now.getMonth(), 0);\n          break;\n        default:\n          break;\n      }\n\n      onFiltersChange({\n        ...filters,\n        date_from: from?.toISOString(),\n        date_to: to?.toISOString(),\n      });\n    },\n    [filters, onFiltersChange]\n  );\n\n  return (\n    <div className={cn('space-y-4', className)} dir={isRTL ? 'rtl' : 'ltr'}>\n      {/* Search and Quick Actions Row */}\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n        {/* Search */}\n        <div className=\"relative flex-1 max-w-sm\">\n          <Search className=\"absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            type=\"text\"\n            placeholder={t('filters.search_placeholder')}\n            value={searchValue}\n            onChange={(e) => handleSearchChange(e.target.value)}\n            className=\"ps-10 pe-4 h-10\"\n          />\n          {searchValue && (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"absolute end-1 top-1/2 h-7 w-7 -translate-y-1/2 p-0\"\n              onClick={() => handleSearchChange('')}\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          )}\n        </div>\n\n        {/* Clear Filters */}\n        <div className=\"flex items-center gap-2\">\n          {activeFilterCount > 0 && (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onClearFilters}\n              className=\"text-muted-foreground hover:text-foreground\"\n            >\n              <X className=\"h-4 w-4 me-1\" />\n              {t('filters.clear_all')}\n              <Badge variant=\"secondary\" className=\"ms-1\">\n                {activeFilterCount}\n              </Badge>\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* Filter Buttons Row */}\n      <div className=\"flex flex-wrap gap-2\">\n        {/* Table Filter */}\n        <Popover>\n          <PopoverTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-9\">\n              <Database className=\"h-4 w-4 me-2\" />\n              {t('filters.table')}\n              {filters.table_name ? (\n                <Badge variant=\"secondary\" className=\"ms-2\">\n                  1\n                </Badge>\n              ) : (\n                <ChevronDown className=\"h-4 w-4 ms-2\" />\n              )}\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-64 p-3\" align=\"start\">\n            <div className=\"space-y-2\">\n              <Select\n                value={filters.table_name || 'all'}\n                onValueChange={(value) =>\n                  onFiltersChange({\n                    ...filters,\n                    table_name: value === 'all' ? undefined : value,\n                  })\n                }\n              >\n                <SelectTrigger className=\"w-full\">\n                  <SelectValue placeholder={t('filters.table')} />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">{t('operations.all')}</SelectItem>\n                  {availableTables.map((table) => (\n                    <SelectItem key={table} value={table}>\n                      {t(`tables.${table}`, table)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </PopoverContent>\n        </Popover>\n\n        {/* Operation Filter */}\n        <Popover>\n          <PopoverTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-9\">\n              <Filter className=\"h-4 w-4 me-2\" />\n              {t('filters.operation')}\n              {filters.operation ? (\n                <Badge variant=\"secondary\" className=\"ms-2\">\n                  1\n                </Badge>\n              ) : (\n                <ChevronDown className=\"h-4 w-4 ms-2\" />\n              )}\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-56 p-3\" align=\"start\">\n            <div className=\"space-y-2\">\n              <Button\n                variant={!filters.operation ? 'secondary' : 'ghost'}\n                size=\"sm\"\n                className=\"w-full justify-start\"\n                onClick={() =>\n                  onFiltersChange({ ...filters, operation: undefined })\n                }\n              >\n                {t('operations.all')}\n              </Button>\n              {(Object.keys(OPERATION_CONFIG) as AuditOperation[]).map((op) => {\n                const config = OPERATION_CONFIG[op];\n                const Icon = config.icon;\n                const isSelected = filters.operation === op;\n                return (\n                  <Button\n                    key={op}\n                    variant={isSelected ? 'secondary' : 'ghost'}\n                    size=\"sm\"\n                    className=\"w-full justify-start\"\n                    onClick={() =>\n                      onFiltersChange({ ...filters, operation: op })\n                    }\n                  >\n                    <Icon className={cn('h-4 w-4 me-2', config.color)} />\n                    {isRTL ? config.label_ar : config.label_en}\n                  </Button>\n                );\n              })}\n            </div>\n          </PopoverContent>\n        </Popover>\n\n        {/* Date Range Filter */}\n        <Popover>\n          <PopoverTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-9\">\n              <Calendar className=\"h-4 w-4 me-2\" />\n              {t('filters.date_range')}\n              {(filters.date_from || filters.date_to) && (\n                <Badge variant=\"secondary\" className=\"ms-2\">\n                  1\n                </Badge>\n              )}\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-64 p-3\" align=\"start\">\n            <div className=\"space-y-3\">\n              <Select\n                value={datePreset}\n                onValueChange={(value) =>\n                  handleDatePresetChange(value as DateRangePreset)\n                }\n              >\n                <SelectTrigger className=\"w-full\">\n                  <SelectValue placeholder={t('filters.date_range')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {DATE_PRESETS.map((preset) => (\n                    <SelectItem key={preset.value} value={preset.value}>\n                      {isRTL ? preset.label_ar : preset.label_en}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n\n              {showCustomDates && (\n                <div className=\"space-y-2\">\n                  <div>\n                    <Label className=\"text-xs\">\n                      {isRTL ? 'من' : 'From'}\n                    </Label>\n                    <Input\n                      type=\"date\"\n                      value={\n                        filters.date_from\n                          ? filters.date_from.split('T')[0]\n                          : ''\n                      }\n                      onChange={(e) =>\n                        onFiltersChange({\n                          ...filters,\n                          date_from: e.target.value\n                            ? new Date(e.target.value).toISOString()\n                            : undefined,\n                        })\n                      }\n                      className=\"h-9\"\n                    />\n                  </div>\n                  <div>\n                    <Label className=\"text-xs\">{isRTL ? 'إلى' : 'To'}</Label>\n                    <Input\n                      type=\"date\"\n                      value={\n                        filters.date_to ? filters.date_to.split('T')[0] : ''\n                      }\n                      onChange={(e) =>\n                        onFiltersChange({\n                          ...filters,\n                          date_to: e.target.value\n                            ? new Date(e.target.value).toISOString()\n                            : undefined,\n                        })\n                      }\n                      className=\"h-9\"\n                    />\n                  </div>\n                </div>\n              )}\n\n              {(filters.date_from || filters.date_to) && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"w-full\"\n                  onClick={() =>\n                    onFiltersChange({\n                      ...filters,\n                      date_from: undefined,\n                      date_to: undefined,\n                    })\n                  }\n                >\n                  {isRTL ? 'مسح التاريخ' : 'Clear dates'}\n                </Button>\n              )}\n            </div>\n          </PopoverContent>\n        </Popover>\n\n        {/* IP Address Filter */}\n        <Popover>\n          <PopoverTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"h-9\">\n              <Globe className=\"h-4 w-4 me-2\" />\n              {t('filters.ip_address')}\n              {filters.ip_address && (\n                <Badge variant=\"secondary\" className=\"ms-2\">\n                  1\n                </Badge>\n              )}\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-64 p-3\" align=\"start\">\n            <div className=\"space-y-2\">\n              <Input\n                placeholder={t('filters.ip_address')}\n                value={filters.ip_address || ''}\n                onChange={(e) =>\n                  onFiltersChange({\n                    ...filters,\n                    ip_address: e.target.value || undefined,\n                  })\n                }\n                className=\"h-9\"\n              />\n              {filters.ip_address && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"w-full\"\n                  onClick={() =>\n                    onFiltersChange({\n                      ...filters,\n                      ip_address: undefined,\n                    })\n                  }\n                >\n                  {isRTL ? 'مسح' : 'Clear'}\n                </Button>\n              )}\n            </div>\n          </PopoverContent>\n        </Popover>\n      </div>\n\n      {/* Active Filters Display */}\n      {activeFilterCount > 0 && (\n        <div className=\"flex flex-wrap gap-2 pt-2 border-t\">\n          {filters.table_name && (\n            <Badge variant=\"secondary\" className=\"gap-1 px-2 py-1\">\n              <Database className=\"h-3 w-3\" />\n              {t(`tables.${filters.table_name}`, filters.table_name)}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-4 w-4 p-0 ms-1 hover:bg-transparent\"\n                onClick={() =>\n                  onFiltersChange({ ...filters, table_name: undefined })\n                }\n              >\n                <X className=\"h-3 w-3\" />\n              </Button>\n            </Badge>\n          )}\n          {filters.operation && (\n            <Badge variant=\"secondary\" className=\"gap-1 px-2 py-1\">\n              <Filter className=\"h-3 w-3\" />\n              {t(`operations.${filters.operation}`)}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-4 w-4 p-0 ms-1 hover:bg-transparent\"\n                onClick={() =>\n                  onFiltersChange({ ...filters, operation: undefined })\n                }\n              >\n                <X className=\"h-3 w-3\" />\n              </Button>\n            </Badge>\n          )}\n          {(filters.date_from || filters.date_to) && (\n            <Badge variant=\"secondary\" className=\"gap-1 px-2 py-1\">\n              <Calendar className=\"h-3 w-3\" />\n              {filters.date_from && new Date(filters.date_from).toLocaleDateString(isRTL ? 'ar-SA' : 'en-US')}\n              {filters.date_to && ` - ${new Date(filters.date_to).toLocaleDateString(isRTL ? 'ar-SA' : 'en-US')}`}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-4 w-4 p-0 ms-1 hover:bg-transparent\"\n                onClick={() =>\n                  onFiltersChange({\n                    ...filters,\n                    date_from: undefined,\n                    date_to: undefined,\n                  })\n                }\n              >\n                <X className=\"h-3 w-3\" />\n              </Button>\n            </Badge>\n          )}\n          {filters.ip_address && (\n            <Badge variant=\"secondary\" className=\"gap-1 px-2 py-1\">\n              <Globe className=\"h-3 w-3\" />\n              {filters.ip_address}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-4 w-4 p-0 ms-1 hover:bg-transparent\"\n                onClick={() =>\n                  onFiltersChange({ ...filters, ip_address: undefined })\n                }\n              >\n                <X className=\"h-3 w-3\" />\n              </Button>\n            </Badge>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AuditLogFilters;\n","/**\n * Audit Log Table Component\n *\n * Displays audit logs in a responsive table with:\n * - Sortable columns\n * - Expandable rows for change details\n * - Operation type badges\n * - User and IP info display\n *\n * Mobile-first and RTL-ready\n */\n\nimport { useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { formatDistanceToNow, format } from 'date-fns';\nimport { ar } from 'date-fns/locale';\nimport {\n  Plus,\n  Edit3,\n  Trash2,\n  ChevronDown,\n  ChevronUp,\n  ExternalLink,\n  User,\n  Globe,\n  Clock,\n  ArrowUpDown,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport type { AuditLogEntry, AuditOperation, AuditLogFilters } from '@/types/audit-log.types';\n\n// =============================================\n// CONFIGURATION\n// =============================================\n\nconst OPERATION_CONFIG: Record<\n  AuditOperation,\n  { icon: typeof Plus; color: string; bgColor: string }\n> = {\n  INSERT: { icon: Plus, color: 'text-green-600', bgColor: 'bg-green-100 dark:bg-green-900/30' },\n  UPDATE: { icon: Edit3, color: 'text-blue-600', bgColor: 'bg-blue-100 dark:bg-blue-900/30' },\n  DELETE: { icon: Trash2, color: 'text-red-600', bgColor: 'bg-red-100 dark:bg-red-900/30' },\n};\n\n// =============================================\n// PROPS\n// =============================================\n\ninterface AuditLogTableProps {\n  logs: AuditLogEntry[];\n  isLoading: boolean;\n  filters: AuditLogFilters;\n  onFiltersChange: (filters: AuditLogFilters) => void;\n  onLogClick?: (log: AuditLogEntry) => void;\n  className?: string;\n}\n\n// =============================================\n// COMPONENT\n// =============================================\n\nexport function AuditLogTable({\n  logs,\n  isLoading,\n  filters,\n  onFiltersChange,\n  onLogClick,\n  className,\n}: AuditLogTableProps) {\n  const { t, i18n } = useTranslation('audit-logs');\n  const isRTL = i18n.language === 'ar';\n\n  const [expandedRows, setExpandedRows] = useState<Set<string>>(new Set());\n\n  const toggleExpand = useCallback((id: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    setExpandedRows((prev) => {\n      const next = new Set(prev);\n      if (next.has(id)) {\n        next.delete(id);\n      } else {\n        next.add(id);\n      }\n      return next;\n    });\n  }, []);\n\n  const handleSort = useCallback(\n    (column: 'timestamp' | 'table_name' | 'operation' | 'user_email') => {\n      const newOrder =\n        filters.sort_by === column && filters.sort_order === 'desc'\n          ? 'asc'\n          : 'desc';\n      onFiltersChange({\n        ...filters,\n        sort_by: column,\n        sort_order: newOrder,\n      });\n    },\n    [filters, onFiltersChange]\n  );\n\n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp);\n    return format(date, 'PPpp', { locale: isRTL ? ar : undefined });\n  };\n\n  const formatTimeAgo = (timestamp: string) => {\n    return formatDistanceToNow(new Date(timestamp), {\n      addSuffix: true,\n      locale: isRTL ? ar : undefined,\n    });\n  };\n\n  const SortableHeader = ({\n    column,\n    children,\n  }: {\n    column: 'timestamp' | 'table_name' | 'operation' | 'user_email';\n    children: React.ReactNode;\n  }) => (\n    <Button\n      variant=\"ghost\"\n      size=\"sm\"\n      className=\"h-auto p-0 font-medium hover:bg-transparent\"\n      onClick={() => handleSort(column)}\n    >\n      {children}\n      <ArrowUpDown\n        className={cn(\n          'ms-2 h-4 w-4',\n          filters.sort_by === column && 'text-primary'\n        )}\n      />\n    </Button>\n  );\n\n  if (isLoading) {\n    return (\n      <div className={cn('space-y-2', className)}>\n        {Array.from({ length: 10 }).map((_, i) => (\n          <div key={i} className=\"flex items-center gap-4 p-4 border rounded-lg\">\n            <Skeleton className=\"h-8 w-8 rounded-full\" />\n            <div className=\"flex-1 space-y-2\">\n              <Skeleton className=\"h-4 w-1/4\" />\n              <Skeleton className=\"h-3 w-1/2\" />\n            </div>\n            <Skeleton className=\"h-6 w-20\" />\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (logs.length === 0) {\n    return (\n      <div className={cn('text-center py-12', className)}>\n        <Clock className=\"h-12 w-12 text-muted-foreground/50 mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium mb-2\">{t('empty.title')}</h3>\n        <p className=\"text-muted-foreground text-sm\">{t('empty.description')}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn('border rounded-lg overflow-hidden', className)}>\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead className=\"w-[180px]\">\n              <SortableHeader column=\"timestamp\">\n                {t('columns.timestamp')}\n              </SortableHeader>\n            </TableHead>\n            <TableHead className=\"w-[150px]\">\n              <SortableHeader column=\"table_name\">\n                {t('columns.table')}\n              </SortableHeader>\n            </TableHead>\n            <TableHead className=\"w-[100px]\">\n              <SortableHeader column=\"operation\">\n                {t('columns.operation')}\n              </SortableHeader>\n            </TableHead>\n            <TableHead className=\"w-[200px]\">\n              <SortableHeader column=\"user_email\">\n                {t('columns.user')}\n              </SortableHeader>\n            </TableHead>\n            <TableHead className=\"hidden lg:table-cell w-[120px]\">\n              {t('columns.ip_address')}\n            </TableHead>\n            <TableHead>{t('columns.changes')}</TableHead>\n            <TableHead className=\"w-[60px]\" />\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {logs.map((log) => {\n            const isExpanded = expandedRows.has(log.id);\n            const config = OPERATION_CONFIG[log.operation];\n            const Icon = config.icon;\n            const hasChanges =\n              log.changed_fields && log.changed_fields.length > 0;\n\n            return (\n              <>\n                <TableRow\n                  key={log.id}\n                  className={cn(\n                    'cursor-pointer hover:bg-muted/50',\n                    isExpanded && 'bg-muted/30'\n                  )}\n                  onClick={() => onLogClick?.(log)}\n                >\n                  {/* Timestamp */}\n                  <TableCell className=\"font-mono text-sm\">\n                    <TooltipProvider>\n                      <Tooltip>\n                        <TooltipTrigger asChild>\n                          <span>{formatTimeAgo(log.timestamp)}</span>\n                        </TooltipTrigger>\n                        <TooltipContent>\n                          <p>{formatTimestamp(log.timestamp)}</p>\n                        </TooltipContent>\n                      </Tooltip>\n                    </TooltipProvider>\n                  </TableCell>\n\n                  {/* Table Name */}\n                  <TableCell>\n                    <Badge variant=\"outline\" className=\"font-mono text-xs\">\n                      {t(`tables.${log.table_name}`, log.table_name)}\n                    </Badge>\n                  </TableCell>\n\n                  {/* Operation */}\n                  <TableCell>\n                    <Badge\n                      className={cn(\n                        'gap-1',\n                        config.bgColor,\n                        config.color,\n                        'border-0'\n                      )}\n                    >\n                      <Icon className=\"h-3 w-3\" />\n                      {t(`operations.${log.operation}`)}\n                    </Badge>\n                  </TableCell>\n\n                  {/* User */}\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <User className=\"h-4 w-4 text-muted-foreground\" />\n                      <span className=\"text-sm truncate max-w-[150px]\">\n                        {log.user_email || 'System'}\n                      </span>\n                    </div>\n                  </TableCell>\n\n                  {/* IP Address */}\n                  <TableCell className=\"hidden lg:table-cell\">\n                    {log.ip_address && (\n                      <div className=\"flex items-center gap-1 text-xs text-muted-foreground font-mono\">\n                        <Globe className=\"h-3 w-3\" />\n                        {log.ip_address}\n                      </div>\n                    )}\n                  </TableCell>\n\n                  {/* Changes Summary */}\n                  <TableCell>\n                    {hasChanges ? (\n                      <span className=\"text-sm text-muted-foreground\">\n                        {log.diff_summary ||\n                          log.changed_fields?.slice(0, 3).join(', ')}\n                        {(log.changed_fields?.length || 0) > 3 && (\n                          <span className=\"text-xs ms-1\">\n                            +{(log.changed_fields?.length || 0) - 3}\n                          </span>\n                        )}\n                      </span>\n                    ) : (\n                      <span className=\"text-sm text-muted-foreground italic\">\n                        {t('detail.no_changes')}\n                      </span>\n                    )}\n                  </TableCell>\n\n                  {/* Expand Button */}\n                  <TableCell>\n                    {hasChanges && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-8 w-8 p-0\"\n                        onClick={(e) => toggleExpand(log.id, e)}\n                      >\n                        {isExpanded ? (\n                          <ChevronUp className=\"h-4 w-4\" />\n                        ) : (\n                          <ChevronDown className=\"h-4 w-4\" />\n                        )}\n                      </Button>\n                    )}\n                  </TableCell>\n                </TableRow>\n\n                {/* Expanded Row - Changes Detail */}\n                {isExpanded && hasChanges && (\n                  <TableRow key={`${log.id}-expanded`}>\n                    <TableCell colSpan={7} className=\"bg-muted/20 p-4\">\n                      <div className=\"space-y-3\">\n                        <div className=\"flex items-center justify-between\">\n                          <h4 className=\"font-medium text-sm\">\n                            {t('detail.changed_fields')}\n                          </h4>\n                          {onLogClick && (\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                onLogClick(log);\n                              }}\n                            >\n                              <ExternalLink className=\"h-4 w-4 me-2\" />\n                              {t('detail.view_related')}\n                            </Button>\n                          )}\n                        </div>\n\n                        <div className=\"grid gap-2 sm:grid-cols-2 lg:grid-cols-3\">\n                          {log.changed_fields?.map((field) => {\n                            const oldValue = log.old_data?.[field];\n                            const newValue = log.new_data?.[field];\n\n                            return (\n                              <div\n                                key={field}\n                                className=\"rounded-md bg-background p-3 border\"\n                              >\n                                <div className=\"font-medium text-xs text-muted-foreground mb-2\">\n                                  {field}\n                                </div>\n                                {log.operation === 'INSERT' ? (\n                                  <div className=\"bg-green-50 dark:bg-green-900/20 rounded px-2 py-1 text-sm text-green-800 dark:text-green-200 break-all\">\n                                    {JSON.stringify(newValue)}\n                                  </div>\n                                ) : log.operation === 'DELETE' ? (\n                                  <div className=\"bg-red-50 dark:bg-red-900/20 rounded px-2 py-1 text-sm text-red-800 dark:text-red-200 break-all\">\n                                    {JSON.stringify(oldValue)}\n                                  </div>\n                                ) : (\n                                  <div className=\"space-y-1\">\n                                    <div className=\"flex items-start gap-2\">\n                                      <span className=\"text-xs text-muted-foreground min-w-[40px]\">\n                                        {t('detail.old_value')}:\n                                      </span>\n                                      <span className=\"bg-red-50 dark:bg-red-900/20 rounded px-1.5 py-0.5 text-xs text-red-800 dark:text-red-200 break-all\">\n                                        {JSON.stringify(oldValue)}\n                                      </span>\n                                    </div>\n                                    <div className=\"flex items-start gap-2\">\n                                      <span className=\"text-xs text-muted-foreground min-w-[40px]\">\n                                        {t('detail.new_value')}:\n                                      </span>\n                                      <span className=\"bg-green-50 dark:bg-green-900/20 rounded px-1.5 py-0.5 text-xs text-green-800 dark:text-green-200 break-all\">\n                                        {JSON.stringify(newValue)}\n                                      </span>\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            );\n                          })}\n                        </div>\n\n                        {/* Additional metadata */}\n                        <div className=\"flex flex-wrap gap-4 text-xs text-muted-foreground pt-2 border-t\">\n                          {log.session_id && (\n                            <span>\n                              {t('detail.session_id')}: {log.session_id.slice(0, 8)}...\n                            </span>\n                          )}\n                          {log.request_id && (\n                            <span>\n                              {t('detail.request_id')}: {log.request_id.slice(0, 8)}...\n                            </span>\n                          )}\n                          <span>\n                            {t('detail.record_id')}: {log.row_id.slice(0, 8)}...\n                          </span>\n                        </div>\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                )}\n              </>\n            );\n          })}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n\nexport default AuditLogTable;\n","/**\n * Audit Log Export Component\n *\n * Export button and dialog for downloading audit logs in CSV or JSON format\n *\n * Mobile-first and RTL-ready\n */\n\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Download, FileJson, FileSpreadsheet, Loader2 } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { useAuditLogExport } from '@/hooks/useAuditLogs';\nimport type { AuditLogFilters, ExportFormat } from '@/types/audit-log.types';\n\n// =============================================\n// PROPS\n// =============================================\n\ninterface AuditLogExportProps {\n  filters: AuditLogFilters;\n  disabled?: boolean;\n  className?: string;\n}\n\n// =============================================\n// COMPONENT\n// =============================================\n\nexport function AuditLogExport({\n  filters,\n  disabled = false,\n  className,\n}: AuditLogExportProps) {\n  const { t, i18n } = useTranslation('audit-logs');\n  const isRTL = i18n.language === 'ar';\n\n  const { exportLogs, isExporting, error } = useAuditLogExport();\n\n  const handleExport = async (format: ExportFormat) => {\n    await exportLogs({ format, filters });\n  };\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          disabled={disabled || isExporting}\n          className={cn('gap-2', className)}\n        >\n          {isExporting ? (\n            <Loader2 className=\"h-4 w-4 animate-spin\" />\n          ) : (\n            <Download className=\"h-4 w-4\" />\n          )}\n          {isExporting ? t('export.exporting') : t('export.button')}\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align={isRTL ? 'start' : 'end'}>\n        <DropdownMenuItem\n          onClick={() => handleExport('csv')}\n          disabled={isExporting}\n        >\n          <FileSpreadsheet className=\"h-4 w-4 me-2\" />\n          {t('export.csv')}\n        </DropdownMenuItem>\n        <DropdownMenuItem\n          onClick={() => handleExport('json')}\n          disabled={isExporting}\n        >\n          <FileJson className=\"h-4 w-4 me-2\" />\n          {t('export.json')}\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\nexport default AuditLogExport;\n","/**\n * Audit Log Statistics Component\n *\n * Displays statistics and analytics for audit logs:\n * - Total events count\n * - Events by operation type\n * - Events by table (top 5)\n *\n * Mobile-first and RTL-ready\n */\n\nimport { useTranslation } from 'react-i18next';\nimport { BarChart3, Plus, Edit3, Trash2, Database, Loader2 } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { useAuditLogStatistics } from '@/hooks/useAuditLogs';\n\n// =============================================\n// CONFIGURATION\n// =============================================\n\nconst OPERATION_ICONS: Record<string, typeof Plus> = {\n  INSERT: Plus,\n  UPDATE: Edit3,\n  DELETE: Trash2,\n};\n\nconst OPERATION_COLORS: Record<string, string> = {\n  INSERT: 'text-green-600 bg-green-100 dark:bg-green-900/30',\n  UPDATE: 'text-blue-600 bg-blue-100 dark:bg-blue-900/30',\n  DELETE: 'text-red-600 bg-red-100 dark:bg-red-900/30',\n};\n\n// =============================================\n// PROPS\n// =============================================\n\ninterface AuditLogStatisticsProps {\n  dateFrom?: string;\n  dateTo?: string;\n  className?: string;\n}\n\n// =============================================\n// COMPONENT\n// =============================================\n\nexport function AuditLogStatistics({\n  dateFrom,\n  dateTo,\n  className,\n}: AuditLogStatisticsProps) {\n  const { t, i18n } = useTranslation('audit-logs');\n  const isRTL = i18n.language === 'ar';\n\n  const { statistics, isLoading, error } = useAuditLogStatistics(dateFrom, dateTo);\n\n  if (isLoading) {\n    return (\n      <Card className={cn('', className)}>\n        <CardHeader className=\"pb-3\">\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <BarChart3 className=\"h-5 w-5\" />\n            {t('statistics.title')}\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <Skeleton className=\"h-20 w-full\" />\n            <div className=\"grid grid-cols-3 gap-4\">\n              <Skeleton className=\"h-16\" />\n              <Skeleton className=\"h-16\" />\n              <Skeleton className=\"h-16\" />\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (error || !statistics) {\n    return (\n      <Card className={cn('', className)}>\n        <CardHeader className=\"pb-3\">\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <BarChart3 className=\"h-5 w-5\" />\n            {t('statistics.title')}\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-sm text-muted-foreground text-center py-4\">\n            {t('statistics.no_data')}\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  // Get top 5 tables by event count\n  const topTables = statistics.by_table\n    ? [...statistics.by_table].sort((a, b) => b.count - a.count).slice(0, 5)\n    : [];\n\n  // Calculate max for bar width\n  const maxTableCount = topTables.length > 0 ? topTables[0].count : 1;\n\n  return (\n    <Card className={cn('', className)} dir={isRTL ? 'rtl' : 'ltr'}>\n      <CardHeader className=\"pb-3\">\n        <CardTitle className=\"flex items-center gap-2 text-lg\">\n          <BarChart3 className=\"h-5 w-5\" />\n          {t('statistics.title')}\n        </CardTitle>\n        <p className=\"text-sm text-muted-foreground\">\n          {t('statistics.period')}: {new Date(statistics.period.from).toLocaleDateString(isRTL ? 'ar-SA' : 'en-US')} - {new Date(statistics.period.to).toLocaleDateString(isRTL ? 'ar-SA' : 'en-US')}\n        </p>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {/* Total Events */}\n        <div className=\"text-center p-4 bg-muted/50 rounded-lg\">\n          <div className=\"text-3xl font-bold text-primary\">\n            {statistics.total_events.toLocaleString(isRTL ? 'ar-SA' : 'en-US')}\n          </div>\n          <div className=\"text-sm text-muted-foreground\">{t('statistics.total_events')}</div>\n        </div>\n\n        {/* By Operation */}\n        <div>\n          <h4 className=\"text-sm font-medium mb-3\">{t('statistics.by_operation')}</h4>\n          <div className=\"grid grid-cols-3 gap-3\">\n            {statistics.by_operation.map((item) => {\n              const Icon = OPERATION_ICONS[item.operation] || Database;\n              const colorClass = OPERATION_COLORS[item.operation] || 'text-gray-600 bg-gray-100';\n\n              return (\n                <div\n                  key={item.operation}\n                  className={cn(\n                    'flex flex-col items-center p-3 rounded-lg',\n                    colorClass\n                  )}\n                >\n                  <Icon className=\"h-5 w-5 mb-1\" />\n                  <div className=\"text-lg font-bold\">\n                    {item.count.toLocaleString(isRTL ? 'ar-SA' : 'en-US')}\n                  </div>\n                  <div className=\"text-xs\">\n                    {t(`operations.${item.operation}`, item.operation)}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* By Table */}\n        {topTables.length > 0 && (\n          <div>\n            <h4 className=\"text-sm font-medium mb-3\">{t('statistics.by_table')}</h4>\n            <div className=\"space-y-2\">\n              {topTables.map((item, index) => (\n                <div key={item.table} className=\"flex items-center gap-2\">\n                  <Badge variant=\"outline\" className=\"min-w-[100px] justify-center font-mono text-xs\">\n                    {t(`tables.${item.table}`, item.table)}\n                  </Badge>\n                  <div className=\"flex-1 h-6 bg-muted rounded-full overflow-hidden\">\n                    <div\n                      className={cn(\n                        'h-full rounded-full transition-all',\n                        index === 0 && 'bg-primary',\n                        index === 1 && 'bg-primary/80',\n                        index === 2 && 'bg-primary/60',\n                        index === 3 && 'bg-primary/40',\n                        index === 4 && 'bg-primary/20'\n                      )}\n                      style={{\n                        width: `${(item.count / maxTableCount) * 100}%`,\n                      }}\n                    />\n                  </div>\n                  <span className=\"text-sm font-mono min-w-[60px] text-end\">\n                    {item.count.toLocaleString(isRTL ? 'ar-SA' : 'en-US')}\n                  </span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default AuditLogStatistics;\n","/**\n * Audit Logs Page\n *\n * Comprehensive audit log viewer with:\n * - Advanced filtering (table, operation, date range, IP, search)\n * - Sortable table with expandable rows\n * - Export functionality (CSV/JSON)\n * - Statistics panel\n * - Pagination\n *\n * Mobile-first and RTL-ready\n */\n\nimport { useState, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Shield,\n  ChevronLeft,\n  ChevronRight,\n  RefreshCcw,\n  Loader2,\n  AlertCircle,\n  BarChart3,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport {\n  AuditLogFilters,\n  AuditLogTable,\n  AuditLogExport,\n  AuditLogStatistics,\n} from '@/components/audit-logs';\nimport { useAuditLogs } from '@/hooks/useAuditLogs';\nimport type { AuditLogEntry } from '@/types/audit-log.types';\n\n// =============================================\n// COMPONENT\n// =============================================\n\nexport function AuditLogsPage() {\n  const { t, i18n } = useTranslation('audit-logs');\n  const isRTL = i18n.language === 'ar';\n\n  const [showStatistics, setShowStatistics] = useState(false);\n  const [selectedLog, setSelectedLog] = useState<AuditLogEntry | null>(null);\n\n  const {\n    logs,\n    isLoading,\n    isFetchingNextPage,\n    error,\n    total,\n    hasMore,\n    filters,\n    pagination,\n    setFilters,\n    clearFilters,\n    setPagination,\n    nextPage,\n    prevPage,\n    refetch,\n  } = useAuditLogs();\n\n  const handleLogClick = useCallback((log: AuditLogEntry) => {\n    setSelectedLog(log);\n    // Could open a detail modal here\n  }, []);\n\n  const handlePageSizeChange = useCallback(\n    (value: string) => {\n      setPagination({ ...pagination, limit: parseInt(value), offset: 0 });\n    },\n    [pagination, setPagination]\n  );\n\n  // Calculate pagination info\n  const currentPage = Math.floor(pagination.offset / pagination.limit) + 1;\n  const totalPages = Math.ceil(total / pagination.limit);\n  const showingFrom = pagination.offset + 1;\n  const showingTo = Math.min(pagination.offset + pagination.limit, total);\n\n  return (\n    <div\n      className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6\"\n      dir={isRTL ? 'rtl' : 'ltr'}\n    >\n      {/* Header */}\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10\">\n            <Shield className=\"h-5 w-5 text-primary\" />\n          </div>\n          <div>\n            <h1 className=\"text-xl sm:text-2xl font-bold\">{t('title')}</h1>\n            <p className=\"text-sm text-muted-foreground\">{t('description')}</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => setShowStatistics(!showStatistics)}\n            className=\"gap-2\"\n          >\n            <BarChart3 className=\"h-4 w-4\" />\n            <span className=\"hidden sm:inline\">{t('statistics.title')}</span>\n          </Button>\n          <AuditLogExport filters={filters} disabled={isLoading || logs.length === 0} />\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => refetch()}\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              <RefreshCcw className=\"h-4 w-4\" />\n            )}\n          </Button>\n        </div>\n      </div>\n\n      {/* Statistics Panel (Collapsible) */}\n      <Collapsible open={showStatistics} onOpenChange={setShowStatistics}>\n        <CollapsibleContent>\n          <AuditLogStatistics\n            dateFrom={filters.date_from}\n            dateTo={filters.date_to}\n            className=\"mb-6\"\n          />\n        </CollapsibleContent>\n      </Collapsible>\n\n      {/* Main Content Card */}\n      <Card>\n        <CardHeader className=\"pb-4\">\n          <div className=\"flex flex-col gap-4\">\n            {/* Filters */}\n            <AuditLogFilters\n              filters={filters}\n              onFiltersChange={setFilters}\n              onClearFilters={clearFilters}\n            />\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"pt-0\">\n          {/* Error State */}\n          {error && (\n            <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n              <AlertCircle className=\"h-12 w-12 text-destructive mb-4\" />\n              <h3 className=\"text-lg font-medium mb-2\">{t('error.title')}</h3>\n              <p className=\"text-sm text-muted-foreground mb-4\">\n                {error.message || t('error.description')}\n              </p>\n              <Button variant=\"outline\" onClick={() => refetch()}>\n                {t('error.retry')}\n              </Button>\n            </div>\n          )}\n\n          {/* Table */}\n          {!error && (\n            <>\n              <AuditLogTable\n                logs={logs}\n                isLoading={isLoading}\n                filters={filters}\n                onFiltersChange={setFilters}\n                onLogClick={handleLogClick}\n              />\n\n              {/* Pagination */}\n              {!isLoading && logs.length > 0 && (\n                <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mt-4 pt-4 border-t\">\n                  {/* Showing info */}\n                  <div className=\"text-sm text-muted-foreground\">\n                    {t('pagination.showing', {\n                      from: showingFrom,\n                      to: showingTo,\n                      total,\n                    })}\n                  </div>\n\n                  <div className=\"flex items-center gap-4\">\n                    {/* Page size */}\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-sm text-muted-foreground\">\n                        {t('pagination.per_page')}:\n                      </span>\n                      <Select\n                        value={pagination.limit.toString()}\n                        onValueChange={handlePageSizeChange}\n                      >\n                        <SelectTrigger className=\"w-[70px] h-8\">\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"25\">25</SelectItem>\n                          <SelectItem value=\"50\">50</SelectItem>\n                          <SelectItem value=\"100\">100</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n\n                    {/* Page navigation */}\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={prevPage}\n                        disabled={pagination.offset === 0 || isFetchingNextPage}\n                      >\n                        <ChevronLeft\n                          className={cn('h-4 w-4', isRTL && 'rotate-180')}\n                        />\n                        <span className=\"hidden sm:inline ms-1\">\n                          {t('pagination.previous')}\n                        </span>\n                      </Button>\n\n                      <span className=\"text-sm px-2\">\n                        {t('pagination.page', {\n                          page: currentPage,\n                          pages: totalPages || 1,\n                        })}\n                      </span>\n\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={nextPage}\n                        disabled={!hasMore || isFetchingNextPage}\n                      >\n                        <span className=\"hidden sm:inline me-1\">\n                          {t('pagination.next')}\n                        </span>\n                        <ChevronRight\n                          className={cn('h-4 w-4', isRTL && 'rotate-180')}\n                        />\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default AuditLogsPage;\n","import { createFileRoute } from '@tanstack/react-router'\nimport { AuditLogsPage } from '@/pages/audit-logs/AuditLogsPage'\n\nexport const Route = createFileRoute('/_protected/audit-logs')({\n  component: AuditLogsPage,\n})\n"],"names":["getApiUrl","useAuditLogs","initialFilters","filters","setFiltersState","useState","pagination","setPaginationState","queryKey","data","isLoading","isFetching","error","refetch","useQuery","session","supabase","params","response","errorData","setFilters","useCallback","newFilters","prev","clearFilters","setPagination","newPagination","nextPage","prevPage","useAuditLogStatistics","dateFrom","dateTo","useAuditLogExport","isExporting","setIsExporting","setError","options","contentDisposition","filename","filenameMatch","blob","url","a","err","useAuditLogDistinctValues","field","OPERATION_CONFIG","Plus","Edit3","Trash2","DATE_PRESETS","AuditLogFilters","onFiltersChange","onClearFilters","className","t","i18n","useTranslation","isRTL","searchValue","setSearchValue","datePreset","setDatePreset","showCustomDates","setShowCustomDates","availableTables","activeFilterCount","useMemo","count","handleSearchChange","value","timeoutId","handleDatePresetChange","preset","now","from","to","jsxs","cn","jsx","Search","Input","e","Button","X","Badge","Popover","PopoverTrigger","Database","ChevronDown","PopoverContent","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","table","Filter","op","config","Icon","isSelected","Calendar","Label","Globe","AuditLogTable","logs","onLogClick","expandedRows","setExpandedRows","toggleExpand","id","next","handleSort","column","newOrder","formatTimestamp","timestamp","date","format","ar","formatTimeAgo","formatDistanceToNow","SortableHeader","children","ArrowUpDown","_","i","Skeleton","Clock","Table","TableHeader","TableRow","TableHead","TableBody","log","isExpanded","hasChanges","Fragment","TableCell","TooltipProvider","Tooltip","TooltipTrigger","TooltipContent","User","ChevronUp","ExternalLink","oldValue","newValue","AuditLogExport","disabled","exportLogs","handleExport","DropdownMenu","DropdownMenuTrigger","Loader2","Download","DropdownMenuContent","DropdownMenuItem","FileSpreadsheet","FileJson","OPERATION_ICONS","OPERATION_COLORS","AuditLogStatistics","statistics","Card","CardHeader","CardTitle","BarChart3","CardContent","topTables","maxTableCount","item","colorClass","index","AuditLogsPage","showStatistics","setShowStatistics","selectedLog","setSelectedLog","isFetchingNextPage","total","hasMore","handleLogClick","handlePageSizeChange","currentPage","totalPages","showingFrom","showingTo","Shield","RefreshCcw","Collapsible","CollapsibleContent","AlertCircle","ChevronLeft","ChevronRight","SplitComponent"],"mappings":"09BA8BA,MAAMA,EAAY,IAET,0EAOF,SAASC,GAAaC,EAAsD,CACjF,KAAM,CAACC,EAASC,CAAe,EAAIC,EAAAA,SAA4C,CAAA,CAAE,EAC3E,CAACC,EAAYC,CAAkB,EAAIF,WAA6B,CACpE,MAAO,GACP,OAAQ,CAAA,CACT,EAEKG,EAAW,CAAC,aAAcL,EAASG,CAAU,EAE7C,CACJ,KAAAG,EACA,UAAAC,EACA,WAAAC,EACA,MAAAC,EACA,QAAAC,CAAA,EACEC,GAAuE,CACzE,SAAAN,EACA,QAAS,SAAY,CACnB,KAAM,CAAE,KAAM,CAAE,QAAAO,CAAA,GAAc,MAAMC,EAAS,KAAK,WAAA,EAElD,GAAI,CAACD,GAAS,aACZ,MAAM,IAAI,MAAM,mBAAmB,EAIrC,MAAME,EAAS,IAAI,gBAEnBA,EAAO,IAAI,QAASX,EAAW,MAAM,UAAU,EAC/CW,EAAO,IAAI,SAAUX,EAAW,OAAO,UAAU,EAE7CH,EAAQ,YAAYc,EAAO,IAAI,aAAcd,EAAQ,UAAU,EAC/DA,EAAQ,SAASc,EAAO,IAAI,UAAWd,EAAQ,OAAO,EACtDA,EAAQ,YAAYc,EAAO,IAAI,aAAcd,EAAQ,UAAU,EAC/DA,EAAQ,WAAWc,EAAO,IAAI,YAAad,EAAQ,SAAS,EAC5DA,EAAQ,WAAWc,EAAO,IAAI,YAAad,EAAQ,SAAS,EAC5DA,EAAQ,SAASc,EAAO,IAAI,UAAWd,EAAQ,OAAO,EACtDA,EAAQ,YAAYc,EAAO,IAAI,aAAcd,EAAQ,UAAU,EAC/DA,EAAQ,QAAQc,EAAO,IAAI,SAAUd,EAAQ,MAAM,EACnDA,EAAQ,QAAQc,EAAO,IAAI,SAAUd,EAAQ,MAAM,EACnDA,EAAQ,SAASc,EAAO,IAAI,UAAWd,EAAQ,OAAO,EACtDA,EAAQ,YAAYc,EAAO,IAAI,aAAcd,EAAQ,UAAU,EAEnE,MAAMe,EAAW,MAAM,MAAM,GAAGlB,GAAW,IAAIiB,EAAO,SAAA,CAAU,GAAI,CAClE,QAAS,CACP,cAAe,UAAUF,EAAQ,YAAY,GAC7C,eAAgB,kBAAA,CAClB,CACD,EAED,GAAI,CAACG,EAAS,GAAI,CAChB,MAAMC,EAAY,MAAMD,EAAS,KAAA,EACjC,MAAM,IAAI,MAAMC,EAAU,OAAS,4BAA4B,CACjE,CAEA,OAAOD,EAAS,KAAA,CAClB,EACA,UAAW,GAAK,IAChB,gBAAiB,GAAK,GAAA,CACvB,EAEKE,EAAaC,cAAaC,GAAgC,CAC9DlB,EAAgBkB,CAAU,EAE1Bf,EAAoBgB,IAAU,CAAE,GAAGA,EAAM,OAAQ,GAAI,CACvD,EAAG,CAAA,CAAE,EAECC,EAAeH,EAAAA,YAAY,IAAM,CACrCjB,EAAgB,CAAA,CAAE,EAClBG,EAAoBgB,IAAU,CAAE,GAAGA,EAAM,OAAQ,GAAI,CACvD,EAAG,CAAA,CAAE,EAECE,EAAgBJ,cAAaK,GAAsC,CACvEnB,EAAmBmB,CAAa,CAClC,EAAG,CAAA,CAAE,EAECC,EAAWN,EAAAA,YAAY,IAAM,CACjCd,EAAoBgB,IAAU,CAC5B,GAAGA,EACH,OAAQA,EAAK,OAASA,EAAK,KAAA,EAC3B,CACJ,EAAG,CAAA,CAAE,EAECK,EAAWP,EAAAA,YAAY,IAAM,CACjCd,EAAoBgB,IAAU,CAC5B,GAAGA,EACH,OAAQ,KAAK,IAAI,EAAGA,EAAK,OAASA,EAAK,KAAK,CAAA,EAC5C,CACJ,EAAG,CAAA,CAAE,EAEL,MAAO,CACL,KAAMd,GAAM,MAAQ,CAAA,EACpB,UAAAC,EACA,mBAAoBC,GAAc,CAACD,EACnC,MAAOE,GAAS,KAChB,MAAOH,GAAM,UAAU,OAAS,EAChC,QAASA,GAAM,UAAU,UAAY,GACrC,QAAAN,EACA,WAAAG,EACA,WAAAc,EACA,aAAAI,EACA,cAAAC,EACA,SAAAE,EACA,SAAAC,EACA,QAAAf,CAAA,CAEJ,CAmDO,SAASgB,GACdC,EACAC,EAC6B,CAC7B,KAAM,CAAE,KAAAtB,EAAM,UAAAC,EAAW,MAAAE,EAAO,QAAAC,CAAA,EAAYC,GAG1C,CACA,SAAU,CAAC,uBAAwBgB,EAAUC,CAAM,EACnD,QAAS,SAAY,CACnB,KAAM,CAAE,KAAM,CAAE,QAAAhB,CAAA,GAAc,MAAMC,EAAS,KAAK,WAAA,EAElD,GAAI,CAACD,GAAS,aACZ,MAAM,IAAI,MAAM,mBAAmB,EAGrC,MAAME,EAAS,IAAI,gBACfa,GAAUb,EAAO,IAAI,YAAaa,CAAQ,EAC1CC,GAAQd,EAAO,IAAI,UAAWc,CAAM,EAExC,MAAMb,EAAW,MAAM,MACrB,GAAGlB,EAAA,CAAW,eAAeiB,EAAO,UAAU,GAC9C,CACE,QAAS,CACP,cAAe,UAAUF,EAAQ,YAAY,GAC7C,eAAgB,kBAAA,CAClB,CACF,EAGF,GAAI,CAACG,EAAS,GAAI,CAChB,MAAMC,EAAY,MAAMD,EAAS,KAAA,EACjC,MAAM,IAAI,MAAMC,EAAU,OAAS,4BAA4B,CACjE,CAEA,OAAOD,EAAS,KAAA,CAClB,EACA,UAAW,GAAS,CACrB,EAED,MAAO,CACL,WAAYT,GAAM,MAAQ,KAC1B,UAAAC,EACA,MAAOE,GAAS,KAChB,QAAAC,CAAA,CAEJ,CAMO,SAASmB,IAA6C,CAC3D,KAAM,CAACC,EAAaC,CAAc,EAAI7B,EAAAA,SAAS,EAAK,EAC9C,CAACO,EAAOuB,CAAQ,EAAI9B,EAAAA,SAAuB,IAAI,EAwErD,MAAO,CACL,WAvEiBgB,EAAAA,YACjB,MAAOe,GAA2B,CAChCF,EAAe,EAAI,EACnBC,EAAS,IAAI,EAEb,GAAI,CACF,KAAM,CAAE,KAAM,CAAE,QAAApB,CAAA,GAAc,MAAMC,EAAS,KAAK,WAAA,EAElD,GAAI,CAACD,GAAS,aACZ,MAAM,IAAI,MAAM,mBAAmB,EAGrC,MAAME,EAAS,IAAI,gBAGnB,GAFAA,EAAO,IAAI,SAAUmB,EAAQ,MAAM,EAE/BA,EAAQ,QAAS,CACnB,KAAM,CAAE,QAAAjC,GAAYiC,EAChBjC,EAAQ,YAAYc,EAAO,IAAI,aAAcd,EAAQ,UAAU,EAC/DA,EAAQ,SAASc,EAAO,IAAI,UAAWd,EAAQ,OAAO,EACtDA,EAAQ,YAAYc,EAAO,IAAI,aAAcd,EAAQ,UAAU,EAC/DA,EAAQ,WAAWc,EAAO,IAAI,YAAad,EAAQ,SAAS,EAC5DA,EAAQ,WAAWc,EAAO,IAAI,YAAad,EAAQ,SAAS,EAC5DA,EAAQ,SAASc,EAAO,IAAI,UAAWd,EAAQ,OAAO,EACtDA,EAAQ,YAAYc,EAAO,IAAI,aAAcd,EAAQ,UAAU,EAC/DA,EAAQ,QAAQc,EAAO,IAAI,SAAUd,EAAQ,MAAM,CACzD,CAEA,MAAMe,EAAW,MAAM,MACrB,GAAGlB,EAAA,CAAW,WAAWiB,EAAO,UAAU,GAC1C,CACE,QAAS,CACP,cAAe,UAAUF,EAAQ,YAAY,EAAA,CAC/C,CACF,EAGF,GAAI,CAACG,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAI/C,MAAMmB,EAAqBnB,EAAS,QAAQ,IAAI,qBAAqB,EACrE,IAAIoB,EAAW,cAAc,IAAI,KAAA,EAAO,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,CAAC,IAAIF,EAAQ,MAAM,GACrF,GAAIC,EAAoB,CACtB,MAAME,EAAgBF,EAAmB,MAAM,iBAAiB,EAC5DE,IACFD,EAAWC,EAAc,CAAC,EAE9B,CAGA,MAAMC,EAAO,MAAMtB,EAAS,KAAA,EACtBuB,EAAM,OAAO,IAAI,gBAAgBD,CAAI,EACrCE,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOD,EACTC,EAAE,SAAWJ,EACb,SAAS,KAAK,YAAYI,CAAC,EAC3BA,EAAE,MAAA,EACF,OAAO,IAAI,gBAAgBD,CAAG,EAC9B,SAAS,KAAK,YAAYC,CAAC,CAC7B,OAASC,EAAK,CACZ,MAAAR,EAASQ,aAAe,MAAQA,EAAM,IAAI,MAAM,eAAe,CAAC,EAC1DA,CACR,QAAA,CACET,EAAe,EAAK,CACtB,CACF,EACA,CAAA,CAAC,EAKD,YAAAD,EACA,MAAArB,CAAA,CAEJ,CAMO,SAASgC,GAA0BC,EAAiD,CACzF,KAAM,CAAE,KAAApC,EAAM,UAAAC,EAAW,MAAAE,CAAA,EAAUE,GAAoC,CACrE,SAAU,CAAC,qBAAsB+B,CAAK,EACtC,QAAS,SAAY,CACnB,KAAM,CAAE,KAAM,CAAE,QAAA9B,CAAA,GAAc,MAAMC,EAAS,KAAK,WAAA,EAElD,GAAI,CAACD,GAAS,aACZ,MAAM,IAAI,MAAM,mBAAmB,EAGrC,MAAMG,EAAW,MAAM,MAAM,GAAGlB,GAAW,aAAa6C,CAAK,GAAI,CAC/D,QAAS,CACP,cAAe,UAAU9B,EAAQ,YAAY,GAC7C,eAAgB,kBAAA,CAClB,CACD,EAED,GAAI,CAACG,EAAS,GAAI,CAChB,MAAMC,EAAY,MAAMD,EAAS,KAAA,EACjC,MAAM,IAAI,MAAMC,EAAU,OAAS,iCAAiC,CACtE,CAEA,OAAOD,EAAS,KAAA,CAClB,EACA,UAAW,GAAU,CACtB,EAED,MAAO,CACL,OAAQT,GAAM,MAAQ,CAAA,EACtB,UAAAC,EACA,MAAOE,GAAS,IAAA,CAEpB,CCpTA,MAAMkC,GAGF,CACF,OAAQ,CAAE,KAAMC,GAAM,SAAU,UAAW,SAAU,QAAS,MAAO,gBAAA,EACrE,OAAQ,CAAE,KAAMC,GAAO,SAAU,UAAW,SAAU,QAAS,MAAO,eAAA,EACtE,OAAQ,CAAE,KAAMC,GAAQ,SAAU,UAAW,SAAU,MAAO,MAAO,cAAA,CACvE,EAEMC,GAIA,CACJ,CAAE,MAAO,QAAS,SAAU,QAAS,SAAU,OAAA,EAC/C,CAAE,MAAO,YAAa,SAAU,YAAa,SAAU,KAAA,EACvD,CAAE,MAAO,cAAe,SAAU,cAAe,SAAU,YAAA,EAC3D,CAAE,MAAO,eAAgB,SAAU,eAAgB,SAAU,YAAA,EAC7D,CAAE,MAAO,eAAgB,SAAU,eAAgB,SAAU,YAAA,EAC7D,CAAE,MAAO,aAAc,SAAU,aAAc,SAAU,WAAA,EACzD,CAAE,MAAO,aAAc,SAAU,aAAc,SAAU,cAAA,EACzD,CAAE,MAAO,SAAU,SAAU,eAAgB,SAAU,WAAA,CACzD,EAiBO,SAASC,GAAgB,CAC9B,QAAAhD,EACA,gBAAAiD,EACA,eAAAC,EACA,UAAAC,CACF,EAAyB,CACvB,KAAM,CAAE,EAAAC,EAAG,KAAAC,GAASC,EAAe,YAAY,EACzCC,EAAQF,EAAK,WAAa,KAE1B,CAACG,EAAaC,CAAc,EAAIvD,EAAAA,SAASF,EAAQ,QAAU,EAAE,EAC7D,CAAC0D,EAAYC,CAAa,EAAIzD,EAAAA,SAA0B,cAAc,EACtE,CAAC0D,EAAiBC,CAAkB,EAAI3D,EAAAA,SAAS,EAAK,EAGtD,CAAE,OAAQ4D,GAAoBrB,GAA0B,YAAY,EAGpEsB,EAAoBC,EAAAA,QAAQ,IAAM,CACtC,IAAIC,EAAQ,EACZ,OAAIjE,EAAQ,aAAYiE,GAAS,GAC7BjE,EAAQ,YAAWiE,GAAS,IAC5BjE,EAAQ,WAAaA,EAAQ,WAASiE,GAAS,GAC/CjE,EAAQ,aAAYiE,GAAS,GAC7BjE,EAAQ,aAAYiE,GAAS,GAC7BjE,EAAQ,SAAQiE,GAAS,GACtBA,CACT,EAAG,CAACjE,CAAO,CAAC,EAGNkE,EAAqBhD,EAAAA,YACxBiD,GAAkB,CACjBV,EAAeU,CAAK,EACpB,MAAMC,EAAY,WAAW,IAAM,CACjCnB,EAAgB,CAAE,GAAGjD,EAAS,OAAQmE,GAAS,OAAW,CAC5D,EAAG,GAAG,EACN,MAAO,IAAM,aAAaC,CAAS,CACrC,EACA,CAACpE,EAASiD,CAAe,CAAA,EAIrBoB,EAAyBnD,EAAAA,YAC5BoD,GAA4B,CAG3B,GAFAX,EAAcW,CAAM,EAEhBA,IAAW,SAAU,CACvBT,EAAmB,EAAI,EACvB,MACF,CAEAA,EAAmB,EAAK,EAExB,MAAMU,MAAU,KAChB,IAAIC,EACAC,MAA2B,KAE/B,OAAQH,EAAA,CACN,IAAK,QACHE,MAAW,KACXA,EAAK,SAAS,EAAG,EAAG,EAAG,CAAC,EACxB,MACF,IAAK,YACHA,MAAW,KACXA,EAAK,QAAQA,EAAK,QAAA,EAAY,CAAC,EAC/BA,EAAK,SAAS,EAAG,EAAG,EAAG,CAAC,EACxBC,EAAK,IAAI,KAAKD,CAAI,EAClBC,EAAG,SAAS,GAAI,GAAI,GAAI,GAAG,EAC3B,MACF,IAAK,cACHD,MAAW,KACXA,EAAK,QAAQA,EAAK,QAAA,EAAY,CAAC,EAC/B,MACF,IAAK,eACHA,MAAW,KACXA,EAAK,QAAQA,EAAK,QAAA,EAAY,EAAE,EAChC,MACF,IAAK,eACHA,MAAW,KACXA,EAAK,QAAQA,EAAK,QAAA,EAAY,EAAE,EAChC,MACF,IAAK,aACHA,EAAO,IAAI,KAAKD,EAAI,YAAA,EAAeA,EAAI,SAAA,EAAY,CAAC,EACpD,MACF,IAAK,aACHC,EAAO,IAAI,KAAKD,EAAI,YAAA,EAAeA,EAAI,SAAA,EAAa,EAAG,CAAC,EACxDE,EAAK,IAAI,KAAKF,EAAI,YAAA,EAAeA,EAAI,SAAA,EAAY,CAAC,EAClD,KAEA,CAGJtB,EAAgB,CACd,GAAGjD,EACH,UAAWwE,GAAM,YAAA,EACjB,QAASC,GAAI,YAAA,CAAY,CAC1B,CACH,EACA,CAACzE,EAASiD,CAAe,CAAA,EAG3B,OACEyB,EAAAA,KAAC,MAAA,CAAI,UAAWC,EAAG,YAAaxB,CAAS,EAAG,IAAKI,EAAQ,MAAQ,MAE/D,SAAA,CAAAmB,EAAAA,KAAC,MAAA,CAAI,UAAU,qEAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAE,EAAAA,IAACC,GAAA,CAAO,UAAU,yEAAA,CAA0E,EAC5FD,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,YAAa1B,EAAE,4BAA4B,EAC3C,MAAOI,EACP,SAAWuB,GAAMb,EAAmBa,EAAE,OAAO,KAAK,EAClD,UAAU,iBAAA,CAAA,EAEXvB,GACCoB,EAAAA,IAACI,EAAA,CACC,QAAQ,QACR,KAAK,KACL,UAAU,sDACV,QAAS,IAAMd,EAAmB,EAAE,EAEpC,SAAAU,EAAAA,IAACK,EAAA,CAAE,UAAU,SAAA,CAAU,CAAA,CAAA,CACzB,EAEJ,EAGAL,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACZ,WAAoB,GACnBF,EAAAA,KAACM,EAAA,CACC,QAAQ,QACR,KAAK,KACL,QAAS9B,EACT,UAAU,8CAEV,SAAA,CAAA0B,EAAAA,IAACK,EAAA,CAAE,UAAU,cAAA,CAAe,EAC3B7B,EAAE,mBAAmB,QACrB8B,EAAA,CAAM,QAAQ,YAAY,UAAU,OAClC,SAAAnB,CAAA,CACH,CAAA,CAAA,CAAA,CACF,CAEJ,CAAA,EACF,EAGAW,EAAAA,KAAC,MAAA,CAAI,UAAU,uBAEb,SAAA,CAAAA,OAACS,EAAA,CACC,SAAA,CAAAP,EAAAA,IAACQ,EAAA,CAAe,QAAO,GACrB,SAAAV,EAAAA,KAACM,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,UAAU,MAC5C,SAAA,CAAAJ,EAAAA,IAACS,EAAA,CAAS,UAAU,cAAA,CAAe,EAClCjC,EAAE,eAAe,EACjBpD,EAAQ,WACP4E,EAAAA,IAACM,EAAA,CAAM,QAAQ,YAAY,UAAU,OAAO,SAAA,GAAA,CAE5C,EAEAN,EAAAA,IAACU,EAAA,CAAY,UAAU,cAAA,CAAe,CAAA,CAAA,CAE1C,CAAA,CACF,EACAV,EAAAA,IAACW,GAAe,UAAU,WAAW,MAAM,QACzC,SAAAX,EAAAA,IAAC,MAAA,CAAI,UAAU,YACb,SAAAF,EAAAA,KAACc,EAAA,CACC,MAAOxF,EAAQ,YAAc,MAC7B,cAAgBmE,GACdlB,EAAgB,CACd,GAAGjD,EACH,WAAYmE,IAAU,MAAQ,OAAYA,CAAA,CAC3C,EAGH,SAAA,CAAAS,EAAAA,IAACa,EAAA,CAAc,UAAU,SACvB,SAAAb,EAAAA,IAACc,GAAY,YAAatC,EAAE,eAAe,CAAA,CAAG,CAAA,CAChD,SACCuC,EAAA,CACC,SAAA,CAAAf,MAACgB,EAAA,CAAW,MAAM,MAAO,SAAAxC,EAAE,gBAAgB,EAAE,EAC5CU,EAAgB,IAAK+B,SACnBD,EAAA,CAAuB,MAAOC,EAC5B,SAAAzC,EAAE,UAAUyC,CAAK,GAAIA,CAAK,CAAA,EADZA,CAEjB,CACD,CAAA,CAAA,CACH,CAAA,CAAA,CAAA,EAEJ,CAAA,CACF,CAAA,EACF,SAGCV,EAAA,CACC,SAAA,CAAAP,EAAAA,IAACQ,EAAA,CAAe,QAAO,GACrB,SAAAV,EAAAA,KAACM,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,UAAU,MAC5C,SAAA,CAAAJ,EAAAA,IAACkB,GAAA,CAAO,UAAU,cAAA,CAAe,EAChC1C,EAAE,mBAAmB,EACrBpD,EAAQ,UACP4E,EAAAA,IAACM,EAAA,CAAM,QAAQ,YAAY,UAAU,OAAO,SAAA,GAAA,CAE5C,EAEAN,EAAAA,IAACU,EAAA,CAAY,UAAU,cAAA,CAAe,CAAA,CAAA,CAE1C,CAAA,CACF,EACAV,EAAAA,IAACW,GAAe,UAAU,WAAW,MAAM,QACzC,SAAAb,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAE,EAAAA,IAACI,EAAA,CACC,QAAUhF,EAAQ,UAA0B,QAAd,YAC9B,KAAK,KACL,UAAU,uBACV,QAAS,IACPiD,EAAgB,CAAE,GAAGjD,EAAS,UAAW,OAAW,EAGrD,WAAE,gBAAgB,CAAA,CAAA,EAEnB,OAAO,KAAK2C,EAAgB,EAAuB,IAAKoD,GAAO,CAC/D,MAAMC,EAASrD,GAAiBoD,CAAE,EAC5BE,EAAOD,EAAO,KACdE,EAAalG,EAAQ,YAAc+F,EACzC,OACErB,EAAAA,KAACM,EAAA,CAEC,QAASkB,EAAa,YAAc,QACpC,KAAK,KACL,UAAU,uBACV,QAAS,IACPjD,EAAgB,CAAE,GAAGjD,EAAS,UAAW+F,EAAI,EAG/C,SAAA,CAAAnB,MAACqB,GAAK,UAAWtB,EAAG,eAAgBqB,EAAO,KAAK,EAAG,EAClDzC,EAAQyC,EAAO,SAAWA,EAAO,QAAA,CAAA,EAT7BD,CAAA,CAYX,CAAC,CAAA,CAAA,CACH,CAAA,CACF,CAAA,EACF,SAGCZ,EAAA,CACC,SAAA,CAAAP,EAAAA,IAACQ,EAAA,CAAe,QAAO,GACrB,SAAAV,EAAAA,KAACM,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,UAAU,MAC5C,SAAA,CAAAJ,EAAAA,IAACuB,GAAA,CAAS,UAAU,cAAA,CAAe,EAClC/C,EAAE,oBAAoB,GACrBpD,EAAQ,WAAaA,EAAQ,UAC7B4E,EAAAA,IAACM,GAAM,QAAQ,YAAY,UAAU,OAAO,SAAA,GAAA,CAE5C,CAAA,CAAA,CAEJ,CAAA,CACF,EACAN,EAAAA,IAACW,GAAe,UAAU,WAAW,MAAM,QACzC,SAAAb,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAACc,EAAA,CACC,MAAO9B,EACP,cAAgBS,GACdE,EAAuBF,CAAwB,EAGjD,SAAA,CAAAS,EAAAA,IAACa,EAAA,CAAc,UAAU,SACvB,SAAAb,EAAAA,IAACc,GAAY,YAAatC,EAAE,oBAAoB,CAAA,CAAG,CAAA,CACrD,QACCuC,EAAA,CACE,SAAA5C,GAAa,IAAKuB,SAChBsB,EAAA,CAA8B,MAAOtB,EAAO,MAC1C,SAAAf,EAAQe,EAAO,SAAWA,EAAO,UADnBA,EAAO,KAExB,CACD,CAAA,CACH,CAAA,CAAA,CAAA,EAGDV,GACCc,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAE,MAACwB,GAAA,CAAM,UAAU,UACd,SAAA7C,EAAQ,KAAO,OAClB,EACAqB,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,MACE9E,EAAQ,UACJA,EAAQ,UAAU,MAAM,GAAG,EAAE,CAAC,EAC9B,GAEN,SAAW+E,GACT9B,EAAgB,CACd,GAAGjD,EACH,UAAW+E,EAAE,OAAO,MAChB,IAAI,KAAKA,EAAE,OAAO,KAAK,EAAE,cACzB,MAAA,CACL,EAEH,UAAU,KAAA,CAAA,CACZ,EACF,SACC,MAAA,CACC,SAAA,CAAAH,MAACwB,GAAA,CAAM,UAAU,UAAW,SAAA7C,EAAQ,MAAQ,KAAK,EACjDqB,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,MACE9E,EAAQ,QAAUA,EAAQ,QAAQ,MAAM,GAAG,EAAE,CAAC,EAAI,GAEpD,SAAW+E,GACT9B,EAAgB,CACd,GAAGjD,EACH,QAAS+E,EAAE,OAAO,MACd,IAAI,KAAKA,EAAE,OAAO,KAAK,EAAE,cACzB,MAAA,CACL,EAEH,UAAU,KAAA,CAAA,CACZ,CAAA,CACF,CAAA,EACF,GAGA/E,EAAQ,WAAaA,EAAQ,UAC7B4E,EAAAA,IAACI,EAAA,CACC,QAAQ,QACR,KAAK,KACL,UAAU,SACV,QAAS,IACP/B,EAAgB,CACd,GAAGjD,EACH,UAAW,OACX,QAAS,MAAA,CACV,EAGF,WAAQ,cAAgB,aAAA,CAAA,CAC3B,CAAA,CAEJ,CAAA,CACF,CAAA,EACF,SAGCmF,EAAA,CACC,SAAA,CAAAP,EAAAA,IAACQ,EAAA,CAAe,QAAO,GACrB,SAAAV,EAAAA,KAACM,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,UAAU,MAC5C,SAAA,CAAAJ,EAAAA,IAACyB,GAAA,CAAM,UAAU,cAAA,CAAe,EAC/BjD,EAAE,oBAAoB,EACtBpD,EAAQ,YACP4E,MAACM,EAAA,CAAM,QAAQ,YAAY,UAAU,OAAO,SAAA,GAAA,CAE5C,CAAA,CAAA,CAEJ,CAAA,CACF,EACAN,EAAAA,IAACW,GAAe,UAAU,WAAW,MAAM,QACzC,SAAAb,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAE,EAAAA,IAACE,EAAA,CACC,YAAa1B,EAAE,oBAAoB,EACnC,MAAOpD,EAAQ,YAAc,GAC7B,SAAW+E,GACT9B,EAAgB,CACd,GAAGjD,EACH,WAAY+E,EAAE,OAAO,OAAS,MAAA,CAC/B,EAEH,UAAU,KAAA,CAAA,EAEX/E,EAAQ,YACP4E,EAAAA,IAACI,EAAA,CACC,QAAQ,QACR,KAAK,KACL,UAAU,SACV,QAAS,IACP/B,EAAgB,CACd,GAAGjD,EACH,WAAY,MAAA,CACb,EAGF,WAAQ,MAAQ,OAAA,CAAA,CACnB,CAAA,CAEJ,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAGC+D,EAAoB,GACnBW,OAAC,MAAA,CAAI,UAAU,qCACZ,SAAA,CAAA1E,EAAQ,YACP0E,EAAAA,KAACQ,EAAA,CAAM,QAAQ,YAAY,UAAU,kBACnC,SAAA,CAAAN,EAAAA,IAACS,EAAA,CAAS,UAAU,SAAA,CAAU,EAC7BjC,EAAE,UAAUpD,EAAQ,UAAU,GAAIA,EAAQ,UAAU,EACrD4E,EAAAA,IAACI,EAAA,CACC,QAAQ,QACR,KAAK,KACL,UAAU,wCACV,QAAS,IACP/B,EAAgB,CAAE,GAAGjD,EAAS,WAAY,OAAW,EAGvD,SAAA4E,EAAAA,IAACK,EAAA,CAAE,UAAU,SAAA,CAAU,CAAA,CAAA,CACzB,EACF,EAEDjF,EAAQ,WACP0E,EAAAA,KAACQ,GAAM,QAAQ,YAAY,UAAU,kBACnC,SAAA,CAAAN,EAAAA,IAACkB,GAAA,CAAO,UAAU,SAAA,CAAU,EAC3B1C,EAAE,cAAcpD,EAAQ,SAAS,EAAE,EACpC4E,EAAAA,IAACI,EAAA,CACC,QAAQ,QACR,KAAK,KACL,UAAU,wCACV,QAAS,IACP/B,EAAgB,CAAE,GAAGjD,EAAS,UAAW,OAAW,EAGtD,SAAA4E,EAAAA,IAACK,EAAA,CAAE,UAAU,SAAA,CAAU,CAAA,CAAA,CACzB,EACF,GAEAjF,EAAQ,WAAaA,EAAQ,iBAC5BkF,EAAA,CAAM,QAAQ,YAAY,UAAU,kBACnC,SAAA,CAAAN,EAAAA,IAACuB,GAAA,CAAS,UAAU,SAAA,CAAU,EAC7BnG,EAAQ,WAAa,IAAI,KAAKA,EAAQ,SAAS,EAAE,mBAAmBuD,EAAQ,QAAU,OAAO,EAC7FvD,EAAQ,SAAW,MAAM,IAAI,KAAKA,EAAQ,OAAO,EAAE,mBAAmBuD,EAAQ,QAAU,OAAO,CAAC,GACjGqB,EAAAA,IAACI,EAAA,CACC,QAAQ,QACR,KAAK,KACL,UAAU,wCACV,QAAS,IACP/B,EAAgB,CACd,GAAGjD,EACH,UAAW,OACX,QAAS,MAAA,CACV,EAGH,SAAA4E,EAAAA,IAACK,EAAA,CAAE,UAAU,SAAA,CAAU,CAAA,CAAA,CACzB,EACF,EAEDjF,EAAQ,YACP0E,EAAAA,KAACQ,GAAM,QAAQ,YAAY,UAAU,kBACnC,SAAA,CAAAN,EAAAA,IAACyB,GAAA,CAAM,UAAU,SAAA,CAAU,EAC1BrG,EAAQ,WACT4E,EAAAA,IAACI,EAAA,CACC,QAAQ,QACR,KAAK,KACL,UAAU,wCACV,QAAS,IACP/B,EAAgB,CAAE,GAAGjD,EAAS,WAAY,OAAW,EAGvD,SAAA4E,EAAAA,IAACK,EAAA,CAAE,UAAU,SAAA,CAAU,CAAA,CAAA,CACzB,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,EAEJ,CAEJ,CCtfA,MAAMtC,GAGF,CACF,OAAQ,CAAE,KAAMC,GAAM,MAAO,iBAAkB,QAAS,mCAAA,EACxD,OAAQ,CAAE,KAAMC,GAAO,MAAO,gBAAiB,QAAS,iCAAA,EACxD,OAAQ,CAAE,KAAMC,GAAQ,MAAO,eAAgB,QAAS,+BAAA,CAC1D,EAmBO,SAASwD,GAAc,CAC5B,KAAAC,EACA,UAAAhG,EACA,QAAAP,EACA,gBAAAiD,EACA,WAAAuD,EACA,UAAArD,CACF,EAAuB,CACrB,KAAM,CAAE,EAAAC,EAAG,KAAAC,GAASC,EAAe,YAAY,EACzCC,EAAQF,EAAK,WAAa,KAE1B,CAACoD,EAAcC,CAAe,EAAIxG,EAAAA,SAAsB,IAAI,GAAK,EAEjEyG,EAAezF,EAAAA,YAAY,CAAC0F,EAAY7B,IAAwB,CACpEA,EAAE,gBAAA,EACF2B,EAAiBtF,GAAS,CACxB,MAAMyF,EAAO,IAAI,IAAIzF,CAAI,EACzB,OAAIyF,EAAK,IAAID,CAAE,EACbC,EAAK,OAAOD,CAAE,EAEdC,EAAK,IAAID,CAAE,EAENC,CACT,CAAC,CACH,EAAG,CAAA,CAAE,EAECC,EAAa5F,EAAAA,YAChB6F,GAAoE,CACnE,MAAMC,EACJhH,EAAQ,UAAY+G,GAAU/G,EAAQ,aAAe,OACjD,MACA,OACNiD,EAAgB,CACd,GAAGjD,EACH,QAAS+G,EACT,WAAYC,CAAA,CACb,CACH,EACA,CAAChH,EAASiD,CAAe,CAAA,EAGrBgE,EAAmBC,GAAsB,CAC7C,MAAMC,EAAO,IAAI,KAAKD,CAAS,EAC/B,OAAOE,GAAOD,EAAM,OAAQ,CAAE,OAAQ5D,EAAQ8D,GAAK,OAAW,CAChE,EAEMC,EAAiBJ,GACdK,GAAoB,IAAI,KAAKL,CAAS,EAAG,CAC9C,UAAW,GACX,OAAQ3D,EAAQ8D,GAAK,MAAA,CACtB,EAGGG,EAAiB,CAAC,CACtB,OAAAT,EACA,SAAAU,CAAA,IAKA/C,EAAAA,KAACM,EAAA,CACC,QAAQ,QACR,KAAK,KACL,UAAU,8CACV,QAAS,IAAM8B,EAAWC,CAAM,EAE/B,SAAA,CAAAU,EACD7C,EAAAA,IAAC8C,GAAA,CACC,UAAW/C,EACT,eACA3E,EAAQ,UAAY+G,GAAU,cAAA,CAChC,CAAA,CACF,CAAA,CAAA,EAIJ,OAAIxG,EAEAqE,MAAC,OAAI,UAAWD,EAAG,YAAaxB,CAAS,EACtC,eAAM,KAAK,CAAE,OAAQ,GAAI,EAAE,IAAI,CAACwE,EAAGC,IAClClD,EAAAA,KAAC,MAAA,CAAY,UAAU,gDACrB,SAAA,CAAAE,EAAAA,IAACiD,EAAA,CAAS,UAAU,sBAAA,CAAuB,EAC3CnD,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAE,EAAAA,IAACiD,EAAA,CAAS,UAAU,WAAA,CAAY,EAChCjD,EAAAA,IAACiD,EAAA,CAAS,UAAU,WAAA,CAAY,CAAA,EAClC,EACAjD,EAAAA,IAACiD,EAAA,CAAS,UAAU,UAAA,CAAW,CAAA,GANvBD,CAOV,CACD,EACH,EAIArB,EAAK,SAAW,SAEf,MAAA,CAAI,UAAW5B,EAAG,oBAAqBxB,CAAS,EAC/C,SAAA,CAAAyB,EAAAA,IAACkD,GAAA,CAAM,UAAU,iDAAA,CAAkD,QAClE,KAAA,CAAG,UAAU,2BAA4B,SAAA1E,EAAE,aAAa,EAAE,QAC1D,IAAA,CAAE,UAAU,gCAAiC,SAAAA,EAAE,mBAAmB,CAAA,CAAE,CAAA,EACvE,EAKFwB,MAAC,OAAI,UAAWD,EAAG,oCAAqCxB,CAAS,EAC/D,gBAAC4E,GAAA,CACC,SAAA,CAAAnD,EAAAA,IAACoD,GAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAArD,EAAAA,IAACsD,EAAA,CAAU,UAAU,YACnB,SAAAtD,EAAAA,IAAC4C,EAAA,CAAe,OAAO,YACpB,SAAApE,EAAE,mBAAmB,CAAA,CACxB,EACF,EACAwB,EAAAA,IAACsD,EAAA,CAAU,UAAU,YACnB,SAAAtD,EAAAA,IAAC4C,EAAA,CAAe,OAAO,aACpB,SAAApE,EAAE,eAAe,CAAA,CACpB,EACF,EACAwB,EAAAA,IAACsD,EAAA,CAAU,UAAU,YACnB,SAAAtD,EAAAA,IAAC4C,EAAA,CAAe,OAAO,YACpB,SAAApE,EAAE,mBAAmB,CAAA,CACxB,EACF,EACAwB,EAAAA,IAACsD,EAAA,CAAU,UAAU,YACnB,SAAAtD,EAAAA,IAAC4C,EAAA,CAAe,OAAO,aACpB,SAAApE,EAAE,cAAc,CAAA,CACnB,EACF,QACC8E,EAAA,CAAU,UAAU,iCAClB,SAAA9E,EAAE,oBAAoB,EACzB,EACAwB,EAAAA,IAACsD,EAAA,CAAW,SAAA9E,EAAE,iBAAiB,CAAA,CAAE,EACjCwB,EAAAA,IAACsD,EAAA,CAAU,UAAU,UAAA,CAAW,CAAA,CAAA,CAClC,CAAA,CACF,EACAtD,EAAAA,IAACuD,GAAA,CACE,SAAA5B,EAAK,IAAK6B,GAAQ,CACjB,MAAMC,EAAa5B,EAAa,IAAI2B,EAAI,EAAE,EACpCpC,EAASrD,GAAiByF,EAAI,SAAS,EACvCnC,EAAOD,EAAO,KACdsC,EACJF,EAAI,gBAAkBA,EAAI,eAAe,OAAS,EAEpD,OACE1D,EAAAA,KAAA6D,WAAA,CACE,SAAA,CAAA7D,EAAAA,KAACuD,EAAA,CAEC,UAAWtD,EACT,mCACA0D,GAAc,aAAA,EAEhB,QAAS,IAAM7B,IAAa4B,CAAG,EAG/B,SAAA,CAAAxD,EAAAA,IAAC4D,GAAU,UAAU,oBACnB,SAAA5D,EAAAA,IAAC6D,GAAA,CACC,gBAACC,GAAA,CACC,SAAA,CAAA9D,EAAAA,IAAC+D,GAAA,CAAe,QAAO,GACrB,SAAA/D,EAAAA,IAAC,QAAM,SAAA0C,EAAcc,EAAI,SAAS,CAAA,CAAE,CAAA,CACtC,EACAxD,EAAAA,IAACgE,IACC,SAAAhE,EAAAA,IAAC,IAAA,CAAG,WAAgBwD,EAAI,SAAS,EAAE,CAAA,CACrC,CAAA,CAAA,CACF,EACF,EACF,QAGCI,EAAA,CACC,SAAA5D,EAAAA,IAACM,EAAA,CAAM,QAAQ,UAAU,UAAU,oBAChC,SAAA9B,EAAE,UAAUgF,EAAI,UAAU,GAAIA,EAAI,UAAU,EAC/C,EACF,QAGCI,EAAA,CACC,SAAA9D,EAAAA,KAACQ,EAAA,CACC,UAAWP,EACT,QACAqB,EAAO,QACPA,EAAO,MACP,UAAA,EAGF,SAAA,CAAApB,EAAAA,IAACqB,EAAA,CAAK,UAAU,SAAA,CAAU,EACzB7C,EAAE,cAAcgF,EAAI,SAAS,EAAE,CAAA,CAAA,CAAA,EAEpC,EAGAxD,MAAC4D,EAAA,CACC,SAAA9D,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAACiE,GAAA,CAAK,UAAU,+BAAA,CAAgC,QAC/C,OAAA,CAAK,UAAU,iCACb,SAAAT,EAAI,YAAc,QAAA,CACrB,CAAA,CAAA,CACF,CAAA,CACF,EAGAxD,EAAAA,IAAC4D,GAAU,UAAU,uBAClB,WAAI,YACH9D,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAE,EAAAA,IAACyB,GAAA,CAAM,UAAU,SAAA,CAAU,EAC1B+B,EAAI,UAAA,CAAA,CACP,CAAA,CAEJ,QAGCI,EAAA,CACE,SAAAF,EACC5D,OAAC,OAAA,CAAK,UAAU,gCACb,SAAA,CAAA0D,EAAI,cACHA,EAAI,gBAAgB,MAAM,EAAG,CAAC,EAAE,KAAK,IAAI,GACzCA,EAAI,gBAAgB,QAAU,GAAK,GACnC1D,EAAAA,KAAC,OAAA,CAAK,UAAU,eAAe,SAAA,CAAA,KAC1B0D,EAAI,gBAAgB,QAAU,GAAK,CAAA,CAAA,CACxC,CAAA,CAAA,CAEJ,QAEC,OAAA,CAAK,UAAU,uCACb,SAAAhF,EAAE,mBAAmB,EACxB,CAAA,CAEJ,EAGAwB,EAAAA,IAAC4D,GACE,SAAAF,GACC1D,EAAAA,IAACI,EAAA,CACC,QAAQ,QACR,KAAK,KACL,UAAU,cACV,QAAUD,GAAM4B,EAAayB,EAAI,GAAIrD,CAAC,EAErC,SAAAsD,QACES,GAAA,CAAU,UAAU,UAAU,EAE/BlE,EAAAA,IAACU,EAAA,CAAY,UAAU,SAAA,CAAU,CAAA,CAAA,CAErC,CAEJ,CAAA,CAAA,EAlGK8C,EAAI,EAAA,EAsGVC,GAAcC,GACb1D,EAAAA,IAACqD,EAAA,CACC,SAAArD,EAAAA,IAAC4D,EAAA,CAAU,QAAS,EAAG,UAAU,kBAC/B,SAAA9D,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAE,MAAC,KAAA,CAAG,UAAU,sBACX,SAAAxB,EAAE,uBAAuB,EAC5B,EACCoD,GACC9B,EAAAA,KAACM,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAUD,GAAM,CACdA,EAAE,gBAAA,EACFyB,EAAW4B,CAAG,CAChB,EAEA,SAAA,CAAAxD,EAAAA,IAACmE,GAAA,CAAa,UAAU,cAAA,CAAe,EACtC3F,EAAE,qBAAqB,CAAA,CAAA,CAAA,CAC1B,EAEJ,EAEAwB,MAAC,OAAI,UAAU,2CACZ,WAAI,gBAAgB,IAAKlC,GAAU,CAClC,MAAMsG,EAAWZ,EAAI,WAAW1F,CAAK,EAC/BuG,EAAWb,EAAI,WAAW1F,CAAK,EAErC,OACEgC,EAAAA,KAAC,MAAA,CAEC,UAAU,sCAEV,SAAA,CAAAE,EAAAA,IAAC,MAAA,CAAI,UAAU,iDACZ,SAAAlC,EACH,EACC0F,EAAI,YAAc,SACjBxD,EAAAA,IAAC,MAAA,CAAI,UAAU,0GACZ,SAAA,KAAK,UAAUqE,CAAQ,CAAA,CAC1B,EACEb,EAAI,YAAc,SACpBxD,EAAAA,IAAC,MAAA,CAAI,UAAU,kGACZ,SAAA,KAAK,UAAUoE,CAAQ,CAAA,CAC1B,EAEAtE,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,6CACb,SAAA,CAAAtB,EAAE,kBAAkB,EAAE,GAAA,EACzB,QACC,OAAA,CAAK,UAAU,sGACb,SAAA,KAAK,UAAU4F,CAAQ,CAAA,CAC1B,CAAA,EACF,EACAtE,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,6CACb,SAAA,CAAAtB,EAAE,kBAAkB,EAAE,GAAA,EACzB,QACC,OAAA,CAAK,UAAU,8GACb,SAAA,KAAK,UAAU6F,CAAQ,CAAA,CAC1B,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,EAhCGvG,CAAA,CAoCX,CAAC,CAAA,CACH,EAGAgC,EAAAA,KAAC,MAAA,CAAI,UAAU,mEACZ,SAAA,CAAA0D,EAAI,mBACF,OAAA,CACE,SAAA,CAAAhF,EAAE,mBAAmB,EAAE,KAAGgF,EAAI,WAAW,MAAM,EAAG,CAAC,EAAE,KAAA,EACxD,EAEDA,EAAI,YACH1D,EAAAA,KAAC,OAAA,CACE,SAAA,CAAAtB,EAAE,mBAAmB,EAAE,KAAGgF,EAAI,WAAW,MAAM,EAAG,CAAC,EAAE,KAAA,EACxD,SAED,OAAA,CACE,SAAA,CAAAhF,EAAE,kBAAkB,EAAE,KAAGgF,EAAI,OAAO,MAAM,EAAG,CAAC,EAAE,KAAA,CAAA,CACnD,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EArFa,GAAGA,EAAI,EAAE,WAsFxB,CAAA,EAEJ,CAEJ,CAAC,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAEJ,CClYO,SAASc,GAAe,CAC7B,QAAAlJ,EACA,SAAAmJ,EAAW,GACX,UAAAhG,CACF,EAAwB,CACtB,KAAM,CAAE,EAAAC,EAAG,KAAAC,GAASC,EAAe,YAAY,EACzCC,EAAQF,EAAK,WAAa,KAE1B,CAAE,WAAA+F,EAAY,YAAAtH,CAAmB,EAAID,GAAA,EAErCwH,EAAe,MAAOjC,GAAyB,CACnD,MAAMgC,EAAW,CAAE,OAAAhC,EAAQ,QAAApH,EAAS,CACtC,EAEA,cACGsJ,GAAA,CACC,SAAA,CAAA1E,EAAAA,IAAC2E,GAAA,CAAoB,QAAO,GAC1B,SAAA7E,EAAAA,KAACM,EAAA,CACC,QAAQ,UACR,KAAK,KACL,SAAUmE,GAAYrH,EACtB,UAAW6C,EAAG,QAASxB,CAAS,EAE/B,SAAA,CAAArB,EACC8C,EAAAA,IAAC4E,IAAQ,UAAU,sBAAA,CAAuB,EAE1C5E,EAAAA,IAAC6E,GAAA,CAAS,UAAU,SAAA,CAAU,EAEjBrG,EAAdtB,EAAgB,mBAAwB,eAAN,CAAqB,CAAA,CAAA,EAE5D,EACA4C,EAAAA,KAACgF,GAAA,CAAoB,MAAOnG,EAAQ,QAAU,MAC5C,SAAA,CAAAmB,EAAAA,KAACiF,GAAA,CACC,QAAS,IAAMN,EAAa,KAAK,EACjC,SAAUvH,EAEV,SAAA,CAAA8C,EAAAA,IAACgF,GAAA,CAAgB,UAAU,cAAA,CAAe,EACzCxG,EAAE,YAAY,CAAA,CAAA,CAAA,EAEjBsB,EAAAA,KAACiF,GAAA,CACC,QAAS,IAAMN,EAAa,MAAM,EAClC,SAAUvH,EAEV,SAAA,CAAA8C,EAAAA,IAACiF,GAAA,CAAS,UAAU,cAAA,CAAe,EAClCzG,EAAE,aAAa,CAAA,CAAA,CAAA,CAClB,CAAA,CACF,CAAA,EACF,CAEJ,CC9DA,MAAM0G,GAA+C,CACnD,OAAQlH,GACR,OAAQC,GACR,OAAQC,EACV,EAEMiH,GAA2C,CAC/C,OAAQ,mDACR,OAAQ,gDACR,OAAQ,4CACV,EAgBO,SAASC,GAAmB,CACjC,SAAArI,EACA,OAAAC,EACA,UAAAuB,CACF,EAA4B,CAC1B,KAAM,CAAE,EAAAC,EAAG,KAAAC,GAASC,EAAe,YAAY,EACzCC,EAAQF,EAAK,WAAa,KAE1B,CAAE,WAAA4G,EAAY,UAAA1J,EAAW,MAAAE,GAAUiB,GAAsBC,EAAUC,CAAM,EAE/E,GAAIrB,EACF,cACG2J,EAAA,CAAK,UAAWvF,EAAG,GAAIxB,CAAS,EAC/B,SAAA,CAAAyB,EAAAA,IAACuF,GAAW,UAAU,OACpB,SAAAzF,EAAAA,KAAC0F,EAAA,CAAU,UAAU,kCACnB,SAAA,CAAAxF,EAAAA,IAACyF,EAAA,CAAU,UAAU,SAAA,CAAU,EAC9BjH,EAAE,kBAAkB,CAAA,CAAA,CACvB,CAAA,CACF,EACAwB,MAAC0F,EAAA,CACC,SAAA5F,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAE,EAAAA,IAACiD,EAAA,CAAS,UAAU,aAAA,CAAc,EAClCnD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAE,EAAAA,IAACiD,EAAA,CAAS,UAAU,MAAA,CAAO,EAC3BjD,EAAAA,IAACiD,EAAA,CAAS,UAAU,MAAA,CAAO,EAC3BjD,EAAAA,IAACiD,EAAA,CAAS,UAAU,MAAA,CAAO,CAAA,CAAA,CAC7B,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAIJ,GAAIpH,GAAS,CAACwJ,EACZ,cACGC,EAAA,CAAK,UAAWvF,EAAG,GAAIxB,CAAS,EAC/B,SAAA,CAAAyB,EAAAA,IAACuF,GAAW,UAAU,OACpB,SAAAzF,EAAAA,KAAC0F,EAAA,CAAU,UAAU,kCACnB,SAAA,CAAAxF,EAAAA,IAACyF,EAAA,CAAU,UAAU,SAAA,CAAU,EAC9BjH,EAAE,kBAAkB,CAAA,CAAA,CACvB,CAAA,CACF,EACAwB,EAAAA,IAAC0F,GACC,SAAA1F,EAAAA,IAAC,IAAA,CAAE,UAAU,iDACV,SAAAxB,EAAE,oBAAoB,CAAA,CACzB,CAAA,CACF,CAAA,EACF,EAKJ,MAAMmH,EAAYN,EAAW,SACzB,CAAC,GAAGA,EAAW,QAAQ,EAAE,KAAK,CAAC1H,EAAG,IAAM,EAAE,MAAQA,EAAE,KAAK,EAAE,MAAM,EAAG,CAAC,EACrE,CAAA,EAGEiI,EAAgBD,EAAU,OAAS,EAAIA,EAAU,CAAC,EAAE,MAAQ,EAElE,OACE7F,EAAAA,KAACwF,EAAA,CAAK,UAAWvF,EAAG,GAAIxB,CAAS,EAAG,IAAKI,EAAQ,MAAQ,MACvD,SAAA,CAAAmB,EAAAA,KAACyF,EAAA,CAAW,UAAU,OACpB,SAAA,CAAAzF,EAAAA,KAAC0F,EAAA,CAAU,UAAU,kCACnB,SAAA,CAAAxF,EAAAA,IAACyF,EAAA,CAAU,UAAU,SAAA,CAAU,EAC9BjH,EAAE,kBAAkB,CAAA,EACvB,EACAsB,EAAAA,KAAC,IAAA,CAAE,UAAU,gCACV,SAAA,CAAAtB,EAAE,mBAAmB,EAAE,KAAG,IAAI,KAAK6G,EAAW,OAAO,IAAI,EAAE,mBAAmB1G,EAAQ,QAAU,OAAO,EAAE,MAAI,IAAI,KAAK0G,EAAW,OAAO,EAAE,EAAE,mBAAmB1G,EAAQ,QAAU,OAAO,CAAA,CAAA,CAC3L,CAAA,EACF,EACAmB,EAAAA,KAAC4F,EAAA,CAAY,UAAU,YAErB,SAAA,CAAA5F,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAE,EAAAA,IAAC,MAAA,CAAI,UAAU,kCACZ,SAAAqF,EAAW,aAAa,eAAe1G,EAAQ,QAAU,OAAO,CAAA,CACnE,QACC,MAAA,CAAI,UAAU,gCAAiC,SAAAH,EAAE,yBAAyB,CAAA,CAAE,CAAA,EAC/E,SAGC,MAAA,CACC,SAAA,CAAAwB,MAAC,KAAA,CAAG,UAAU,2BAA4B,SAAAxB,EAAE,yBAAyB,EAAE,EACvEwB,MAAC,OAAI,UAAU,yBACZ,WAAW,aAAa,IAAK6F,GAAS,CACrC,MAAMxE,EAAO6D,GAAgBW,EAAK,SAAS,GAAKpF,EAC1CqF,EAAaX,GAAiBU,EAAK,SAAS,GAAK,4BAEvD,OACE/F,EAAAA,KAAC,MAAA,CAEC,UAAWC,EACT,4CACA+F,CAAA,EAGF,SAAA,CAAA9F,EAAAA,IAACqB,EAAA,CAAK,UAAU,cAAA,CAAe,EAC/BrB,EAAAA,IAAC,MAAA,CAAI,UAAU,oBACZ,SAAA6F,EAAK,MAAM,eAAelH,EAAQ,QAAU,OAAO,CAAA,CACtD,EACAqB,EAAAA,IAAC,MAAA,CAAI,UAAU,UACZ,SAAAxB,EAAE,cAAcqH,EAAK,SAAS,GAAIA,EAAK,SAAS,CAAA,CACnD,CAAA,CAAA,EAZKA,EAAK,SAAA,CAehB,CAAC,CAAA,CACH,CAAA,EACF,EAGCF,EAAU,OAAS,GAClB7F,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAE,MAAC,KAAA,CAAG,UAAU,2BAA4B,SAAAxB,EAAE,qBAAqB,EAAE,EACnEwB,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAA2F,EAAU,IAAI,CAACE,EAAME,IACpBjG,EAAAA,KAAC,MAAA,CAAqB,UAAU,0BAC9B,SAAA,CAAAE,EAAAA,IAACM,EAAA,CAAM,QAAQ,UAAU,UAAU,iDAChC,SAAA9B,EAAE,UAAUqH,EAAK,KAAK,GAAIA,EAAK,KAAK,EACvC,EACA7F,EAAAA,IAAC,MAAA,CAAI,UAAU,mDACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAWD,EACT,qCACAgG,IAAU,GAAK,aACfA,IAAU,GAAK,gBACfA,IAAU,GAAK,gBACfA,IAAU,GAAK,gBACfA,IAAU,GAAK,eAAA,EAEjB,MAAO,CACL,MAAO,GAAIF,EAAK,MAAQD,EAAiB,GAAG,GAAA,CAC9C,CAAA,EAEJ,EACA5F,EAAAA,IAAC,OAAA,CAAK,UAAU,0CACb,SAAA6F,EAAK,MAAM,eAAelH,EAAQ,QAAU,OAAO,CAAA,CACtD,CAAA,GArBQkH,EAAK,KAsBf,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,EACF,CAEJ,CCjJO,SAASG,IAAgB,CAC9B,KAAM,CAAE,EAAAxH,EAAG,KAAAC,GAASC,EAAe,YAAY,EACzCC,EAAQF,EAAK,WAAa,KAE1B,CAACwH,EAAgBC,CAAiB,EAAI5K,EAAAA,SAAS,EAAK,EACpD,CAAC6K,EAAaC,CAAc,EAAI9K,EAAAA,SAA+B,IAAI,EAEnE,CACJ,KAAAqG,EACA,UAAAhG,EACA,mBAAA0K,EACA,MAAAxK,EACA,MAAAyK,EACA,QAAAC,EACA,QAAAnL,EACA,WAAAG,EACA,WAAAc,EACA,aAAAI,EACA,cAAAC,EACA,SAAAE,EACA,SAAAC,EACA,QAAAf,CAAA,EACEZ,GAAA,EAEEsL,EAAiBlK,cAAakH,GAAuB,CACzD4C,EAAe5C,CAAG,CAEpB,EAAG,CAAA,CAAE,EAECiD,EAAuBnK,EAAAA,YAC1BiD,GAAkB,CACjB7C,EAAc,CAAE,GAAGnB,EAAY,MAAO,SAASgE,CAAK,EAAG,OAAQ,EAAG,CACpE,EACA,CAAChE,EAAYmB,CAAa,CAAA,EAItBgK,EAAc,KAAK,MAAMnL,EAAW,OAASA,EAAW,KAAK,EAAI,EACjEoL,GAAa,KAAK,KAAKL,EAAQ/K,EAAW,KAAK,EAC/CqL,GAAcrL,EAAW,OAAS,EAClCsL,GAAY,KAAK,IAAItL,EAAW,OAASA,EAAW,MAAO+K,CAAK,EAEtE,OACExG,EAAAA,KAAC,MAAA,CACC,UAAU,gEACV,IAAKnB,EAAQ,MAAQ,MAGrB,SAAA,CAAAmB,EAAAA,KAAC,MAAA,CAAI,UAAU,qEACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAE,EAAAA,IAAC,OAAI,UAAU,sEACb,eAAC8G,GAAA,CAAO,UAAU,uBAAuB,CAAA,CAC3C,SACC,MAAA,CACC,SAAA,CAAA9G,MAAC,KAAA,CAAG,UAAU,gCAAiC,SAAAxB,EAAE,OAAO,EAAE,QACzD,IAAA,CAAE,UAAU,gCAAiC,SAAAA,EAAE,aAAa,CAAA,CAAE,CAAA,CAAA,CACjE,CAAA,EACF,EAEAsB,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACM,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAM8F,EAAkB,CAACD,CAAc,EAChD,UAAU,QAEV,SAAA,CAAAjG,EAAAA,IAACyF,EAAA,CAAU,UAAU,SAAA,CAAU,QAC9B,OAAA,CAAK,UAAU,mBAAoB,SAAAjH,EAAE,kBAAkB,CAAA,CAAE,CAAA,CAAA,CAAA,QAE3D8F,GAAA,CAAe,QAAAlJ,EAAkB,SAAUO,GAAagG,EAAK,SAAW,EAAG,EAC5E3B,EAAAA,IAACI,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMtE,EAAA,EACf,SAAUH,EAET,SAAAA,QACEiJ,GAAA,CAAQ,UAAU,uBAAuB,EAE1C5E,EAAAA,IAAC+G,GAAA,CAAW,UAAU,SAAA,CAAU,CAAA,CAAA,CAEpC,CAAA,CACF,CAAA,EACF,QAGCC,GAAA,CAAY,KAAMf,EAAgB,aAAcC,EAC/C,eAACe,GAAA,CACC,SAAAjH,EAAAA,IAACoF,GAAA,CACC,SAAUhK,EAAQ,UAClB,OAAQA,EAAQ,QAChB,UAAU,MAAA,CAAA,EAEd,CAAA,CACF,SAGCkK,EAAA,CACC,SAAA,CAAAtF,EAAAA,IAACuF,GAAW,UAAU,OACpB,SAAAvF,MAAC,MAAA,CAAI,UAAU,sBAEb,SAAAA,EAAAA,IAAC5B,GAAA,CACC,QAAAhD,EACA,gBAAiBiB,EACjB,eAAgBI,CAAA,CAAA,EAEpB,CAAA,CACF,EAEAqD,EAAAA,KAAC4F,EAAA,CAAY,UAAU,OAEpB,SAAA,CAAA7J,GACCiE,EAAAA,KAAC,MAAA,CAAI,UAAU,8DACb,SAAA,CAAAE,EAAAA,IAACkH,GAAA,CAAY,UAAU,iCAAA,CAAkC,QACxD,KAAA,CAAG,UAAU,2BAA4B,SAAA1I,EAAE,aAAa,EAAE,EAC3DwB,EAAAA,IAAC,KAAE,UAAU,qCACV,WAAM,SAAWxB,EAAE,mBAAmB,EACzC,EACAwB,EAAAA,IAACI,EAAA,CAAO,QAAQ,UAAU,QAAS,IAAMtE,IACtC,SAAA0C,EAAE,aAAa,CAAA,CAClB,CAAA,EACF,EAID,CAAC3C,GACAiE,EAAAA,KAAA6D,EAAAA,SAAA,CACE,SAAA,CAAA3D,EAAAA,IAAC0B,GAAA,CACC,KAAAC,EACA,UAAAhG,EACA,QAAAP,EACA,gBAAiBiB,EACjB,WAAYmK,CAAA,CAAA,EAIb,CAAC7K,GAAagG,EAAK,OAAS,GAC3B7B,OAAC,MAAA,CAAI,UAAU,wFAEb,SAAA,CAAAE,EAAAA,IAAC,MAAA,CAAI,UAAU,gCACZ,SAAAxB,EAAE,qBAAsB,CACvB,KAAMoI,GACN,GAAIC,GACJ,MAAAP,CAAA,CACD,EACH,EAEAxG,EAAAA,KAAC,MAAA,CAAI,UAAU,0BAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,gCACb,SAAA,CAAAtB,EAAE,qBAAqB,EAAE,GAAA,EAC5B,EACAsB,EAAAA,KAACc,EAAA,CACC,MAAOrF,EAAW,MAAM,SAAA,EACxB,cAAekL,EAEf,SAAA,CAAAzG,MAACa,EAAA,CAAc,UAAU,eACvB,SAAAb,MAACc,IAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAf,EAAAA,IAACgB,EAAA,CAAW,MAAM,KAAK,SAAA,KAAE,EACzBhB,EAAAA,IAACgB,EAAA,CAAW,MAAM,KAAK,SAAA,KAAE,EACzBhB,EAAAA,IAACgB,EAAA,CAAW,MAAM,MAAM,SAAA,KAAA,CAAG,CAAA,CAAA,CAC7B,CAAA,CAAA,CAAA,CACF,EACF,EAGAlB,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACM,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAASvD,EACT,SAAUtB,EAAW,SAAW,GAAK8K,EAErC,SAAA,CAAArG,EAAAA,IAACmH,GAAA,CACC,UAAWpH,EAAG,UAAWpB,GAAS,YAAY,CAAA,CAAA,QAE/C,OAAA,CAAK,UAAU,wBACb,SAAAH,EAAE,qBAAqB,CAAA,CAC1B,CAAA,CAAA,CAAA,EAGFwB,EAAAA,IAAC,OAAA,CAAK,UAAU,eACb,WAAE,kBAAmB,CACpB,KAAM0G,EACN,MAAOC,IAAc,CAAA,CACtB,EACH,EAEA7G,EAAAA,KAACM,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAASxD,EACT,SAAU,CAAC2J,GAAWF,EAEtB,SAAA,CAAArG,MAAC,OAAA,CAAK,UAAU,wBACb,SAAAxB,EAAE,iBAAiB,EACtB,EACAwB,EAAAA,IAACoH,GAAA,CACC,UAAWrH,EAAG,UAAWpB,GAAS,YAAY,CAAA,CAAA,CAChD,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CAGN,CCrQgE,MAAA0I,GAAvDrB"}