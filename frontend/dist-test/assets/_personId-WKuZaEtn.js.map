{"version":3,"file":"_personId-WKuZaEtn.js","sources":["../../src/pages/persons/PersonDetailPage.tsx","../../src/routes/_protected/persons/$personId.tsx?tsr-split=component"],"sourcesContent":["/**\n * Person Detail Page\n * Feature: persons-entity-management\n *\n * Detailed view of a person dossier with:\n * - Profile information\n * - Career history (roles)\n * - Organization affiliations\n * - Relationship network\n * - Engagement history\n *\n * Mobile-first design with RTL support.\n */\n\nimport { useState } from 'react'\nimport { useParams, useNavigate } from '@tanstack/react-router'\nimport { useTranslation } from 'react-i18next'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport {\n  ArrowLeft,\n  Edit,\n  Trash2,\n  Building2,\n  Briefcase,\n  Users,\n  Calendar,\n  Mail,\n  Phone,\n  Globe,\n  Star,\n  ChevronDown,\n  ChevronUp,\n  Plus,\n  Loader2,\n  ShieldAlert,\n  ExternalLink,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from '@/components/ui/alert-dialog'\nimport { usePerson, useArchivePerson } from '@/hooks/usePersons'\nimport type { ImportanceLevel, PersonRole, PersonAffiliation, PersonRelationshipWithPerson } from '@/types/person.types'\nimport {\n  IMPORTANCE_LEVEL_LABELS,\n  AFFILIATION_TYPE_LABELS,\n  RELATIONSHIP_TYPE_LABELS,\n} from '@/types/person.types'\n\nexport function PersonDetailPage() {\n  const { personId } = useParams({ from: '/_protected/persons/$personId' })\n  const { t, i18n } = useTranslation('persons')\n  const isRTL = i18n.language === 'ar'\n  const navigate = useNavigate()\n\n  const [activeTab, setActiveTab] = useState('overview')\n  const [expandedSections, setExpandedSections] = useState<Record<string, boolean>>({\n    roles: true,\n    affiliations: true,\n    relationships: true,\n  })\n\n  // Fetch person data\n  const { data: personData, isLoading, isError, error } = usePerson(personId)\n  const archivePerson = useArchivePerson()\n\n  // Toggle section expansion\n  const toggleSection = (section: string) => {\n    setExpandedSections(prev => ({ ...prev, [section]: !prev[section] }))\n  }\n\n  // Navigation handlers\n  const handleBack = () => {\n    navigate({ to: '/persons' })\n  }\n\n  const handleEdit = () => {\n    navigate({ to: '/persons/$personId/edit', params: { personId } })\n  }\n\n  const handleArchive = async () => {\n    await archivePerson.mutateAsync(personId)\n    navigate({ to: '/persons' })\n  }\n\n  // Get initials for avatar\n  const getInitials = (name: string) => {\n    return name\n      .split(' ')\n      .map(n => n[0])\n      .join('')\n      .substring(0, 2)\n      .toUpperCase()\n  }\n\n  // Get importance badge color\n  const getImportanceColor = (level: ImportanceLevel) => {\n    switch (level) {\n      case 5: return 'bg-red-500/10 text-red-600 border-red-200'\n      case 4: return 'bg-orange-500/10 text-orange-600 border-orange-200'\n      case 3: return 'bg-yellow-500/10 text-yellow-600 border-yellow-200'\n      case 2: return 'bg-blue-500/10 text-blue-600 border-blue-200'\n      default: return 'bg-gray-500/10 text-gray-600 border-gray-200'\n    }\n  }\n\n  // Format date\n  const formatDate = (dateStr?: string) => {\n    if (!dateStr) return null\n    return new Date(dateStr).toLocaleDateString(isRTL ? 'ar-SA' : 'en-US', {\n      year: 'numeric',\n      month: 'short',\n    })\n  }\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div className=\"flex min-h-96 items-center justify-center\">\n        <Loader2 className=\"size-8 animate-spin text-primary\" />\n      </div>\n    )\n  }\n\n  // Error state\n  if (isError || !personData) {\n    return (\n      <div className=\"flex min-h-96 flex-col items-center justify-center gap-4\">\n        <ShieldAlert className=\"size-12 text-destructive\" />\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-foreground\">\n            {t('error.notFound', 'Person not found')}\n          </h2>\n          <p className=\"text-sm text-muted-foreground\">\n            {error?.message || t('error.notFoundDescription', 'The person you are looking for does not exist')}\n          </p>\n        </div>\n        <Button onClick={handleBack}>\n          <ArrowLeft className=\"h-4 w-4 me-2\" />\n          {t('actions.backToList', 'Back to List')}\n        </Button>\n      </div>\n    )\n  }\n\n  const person = personData.person\n  const name = isRTL ? person.name_ar : person.name_en\n  const title = isRTL ? person.title_ar : person.title_en\n  const biography = isRTL ? person.biography_ar : person.biography_en\n\n  return (\n    <div className=\"min-h-screen bg-background\" dir={isRTL ? 'rtl' : 'ltr'}>\n      {/* Header */}\n      <header className=\"border-b bg-background sticky top-0 z-10\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between gap-4\">\n            <div className=\"flex items-center gap-4\">\n              <Button variant=\"ghost\" size=\"icon\" onClick={handleBack} className=\"h-10 w-10\">\n                <ArrowLeft className={`h-5 w-5 ${isRTL ? 'rotate-180' : ''}`} />\n              </Button>\n              <div className=\"flex items-center gap-3\">\n                <Avatar className=\"h-12 w-12\">\n                  <AvatarImage src={person.photo_url || ''} alt={name} />\n                  <AvatarFallback className=\"bg-primary/10 text-primary font-medium\">\n                    {getInitials(name)}\n                  </AvatarFallback>\n                </Avatar>\n                <div>\n                  <h1 className=\"text-xl sm:text-2xl font-bold\">{name}</h1>\n                  {title && <p className=\"text-sm text-muted-foreground\">{title}</p>}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex gap-2\">\n              <Button variant=\"outline\" size=\"sm\" onClick={handleEdit}>\n                <Edit className=\"h-4 w-4 sm:me-2\" />\n                <span className=\"hidden sm:inline\">{t('actions.edit', 'Edit')}</span>\n              </Button>\n              <AlertDialog>\n                <AlertDialogTrigger asChild>\n                  <Button variant=\"outline\" size=\"sm\" className=\"text-destructive hover:text-destructive\">\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </AlertDialogTrigger>\n                <AlertDialogContent>\n                  <AlertDialogHeader>\n                    <AlertDialogTitle>{t('archive.title', 'Archive Person?')}</AlertDialogTitle>\n                    <AlertDialogDescription>\n                      {t('archive.description', 'This will archive the person and hide them from the list. This action can be undone.')}\n                    </AlertDialogDescription>\n                  </AlertDialogHeader>\n                  <AlertDialogFooter>\n                    <AlertDialogCancel>{t('actions.cancel', 'Cancel')}</AlertDialogCancel>\n                    <AlertDialogAction\n                      onClick={handleArchive}\n                      className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n                    >\n                      {archivePerson.isPending && <Loader2 className=\"h-4 w-4 animate-spin me-2\" />}\n                      {t('actions.archive', 'Archive')}\n                    </AlertDialogAction>\n                  </AlertDialogFooter>\n                </AlertDialogContent>\n              </AlertDialog>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Content */}\n      <main className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n          <TabsList className=\"w-full sm:w-auto\">\n            <TabsTrigger value=\"overview\" className=\"flex-1 sm:flex-none\">\n              {t('tabs.overview', 'Overview')}\n            </TabsTrigger>\n            <TabsTrigger value=\"career\" className=\"flex-1 sm:flex-none\">\n              {t('tabs.career', 'Career')}\n            </TabsTrigger>\n            <TabsTrigger value=\"network\" className=\"flex-1 sm:flex-none\">\n              {t('tabs.network', 'Network')}\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Overview Tab */}\n          <TabsContent value=\"overview\" className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              {/* Profile Card */}\n              <Card className=\"lg:col-span-1\">\n                <CardHeader>\n                  <CardTitle className=\"text-lg\">{t('sections.profile', 'Profile')}</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  {/* Photo */}\n                  <div className=\"flex justify-center\">\n                    <Avatar className=\"h-24 w-24 sm:h-32 sm:w-32\">\n                      <AvatarImage src={person.photo_url || ''} alt={name} />\n                      <AvatarFallback className=\"bg-primary/10 text-primary text-2xl font-medium\">\n                        {getInitials(name)}\n                      </AvatarFallback>\n                    </Avatar>\n                  </div>\n\n                  {/* Importance Level */}\n                  <div className=\"flex justify-center\">\n                    <Badge\n                      variant=\"outline\"\n                      className={getImportanceColor(person.importance_level as ImportanceLevel)}\n                    >\n                      <Star className=\"h-3 w-3 me-1\" />\n                      {isRTL\n                        ? IMPORTANCE_LEVEL_LABELS[person.importance_level as ImportanceLevel]?.ar\n                        : IMPORTANCE_LEVEL_LABELS[person.importance_level as ImportanceLevel]?.en}\n                    </Badge>\n                  </div>\n\n                  {/* Contact Info */}\n                  <div className=\"space-y-2 pt-4 border-t\">\n                    {person.email && (\n                      <a\n                        href={`mailto:${person.email}`}\n                        className=\"flex items-center gap-2 text-sm hover:text-primary\"\n                      >\n                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                        <span className=\"truncate\">{person.email}</span>\n                      </a>\n                    )}\n                    {person.phone && (\n                      <a\n                        href={`tel:${person.phone}`}\n                        className=\"flex items-center gap-2 text-sm hover:text-primary\"\n                      >\n                        <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                        <span dir=\"ltr\">{person.phone}</span>\n                      </a>\n                    )}\n                    {person.linkedin_url && (\n                      <a\n                        href={person.linkedin_url}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"flex items-center gap-2 text-sm hover:text-primary\"\n                      >\n                        <Globe className=\"h-4 w-4 text-muted-foreground\" />\n                        <span>LinkedIn</span>\n                        <ExternalLink className=\"h-3 w-3\" />\n                      </a>\n                    )}\n                  </div>\n\n                  {/* Languages */}\n                  {person.languages && person.languages.length > 0 && (\n                    <div className=\"pt-4 border-t\">\n                      <h4 className=\"text-sm font-medium mb-2\">{t('profile.languages', 'Languages')}</h4>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {person.languages.map((lang, idx) => (\n                          <Badge key={idx} variant=\"secondary\" className=\"text-xs\">\n                            {lang}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Expertise */}\n                  {person.expertise_areas && person.expertise_areas.length > 0 && (\n                    <div className=\"pt-4 border-t\">\n                      <h4 className=\"text-sm font-medium mb-2\">{t('profile.expertise', 'Expertise')}</h4>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {person.expertise_areas.map((area, idx) => (\n                          <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                            {area}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n\n              {/* Biography & Current Role */}\n              <div className=\"lg:col-span-2 space-y-6\">\n                {/* Current Role */}\n                {personData.current_role && (\n                  <Card>\n                    <CardHeader>\n                      <CardTitle className=\"flex items-center gap-2 text-lg\">\n                        <Briefcase className=\"h-5 w-5 text-primary\" />\n                        {t('sections.currentRole', 'Current Position')}\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"flex items-start gap-4\">\n                        <div className=\"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0\">\n                          <Building2 className=\"h-6 w-6 text-primary\" />\n                        </div>\n                        <div>\n                          <h3 className=\"font-semibold\">\n                            {isRTL\n                              ? personData.current_role.role_title_ar || personData.current_role.role_title_en\n                              : personData.current_role.role_title_en}\n                          </h3>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {isRTL\n                              ? personData.current_role.organization_name_ar || personData.current_role.organization_name_en\n                              : personData.current_role.organization_name_en}\n                          </p>\n                          {personData.current_role.start_date && (\n                            <p className=\"text-xs text-muted-foreground mt-1\">\n                              {t('role.since', 'Since {{date}}', { date: formatDate(personData.current_role.start_date) })}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n\n                {/* Biography */}\n                {biography && (\n                  <Card>\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">{t('sections.biography', 'Biography')}</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">{biography}</p>\n                    </CardContent>\n                  </Card>\n                )}\n\n                {/* Quick Stats */}\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <Card>\n                    <CardContent className=\"pt-6 text-center\">\n                      <Briefcase className=\"h-6 w-6 text-primary mx-auto mb-2\" />\n                      <p className=\"text-2xl font-bold\">{personData.roles?.length || 0}</p>\n                      <p className=\"text-xs text-muted-foreground\">{t('stats.roles', 'Roles')}</p>\n                    </CardContent>\n                  </Card>\n                  <Card>\n                    <CardContent className=\"pt-6 text-center\">\n                      <Building2 className=\"h-6 w-6 text-primary mx-auto mb-2\" />\n                      <p className=\"text-2xl font-bold\">{personData.affiliations?.length || 0}</p>\n                      <p className=\"text-xs text-muted-foreground\">{t('stats.affiliations', 'Affiliations')}</p>\n                    </CardContent>\n                  </Card>\n                  <Card>\n                    <CardContent className=\"pt-6 text-center\">\n                      <Users className=\"h-6 w-6 text-primary mx-auto mb-2\" />\n                      <p className=\"text-2xl font-bold\">{personData.relationships?.length || 0}</p>\n                      <p className=\"text-xs text-muted-foreground\">{t('stats.connections', 'Connections')}</p>\n                    </CardContent>\n                  </Card>\n                </div>\n              </div>\n            </div>\n          </TabsContent>\n\n          {/* Career Tab */}\n          <TabsContent value=\"career\" className=\"space-y-6\">\n            {/* Roles Section */}\n            <Card>\n              <CardHeader\n                className=\"cursor-pointer\"\n                onClick={() => toggleSection('roles')}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <CardTitle className=\"flex items-center gap-2 text-lg\">\n                    <Briefcase className=\"h-5 w-5 text-primary\" />\n                    {t('sections.careerHistory', 'Career History')}\n                    <Badge variant=\"secondary\" className=\"ms-2\">\n                      {personData.roles?.length || 0}\n                    </Badge>\n                  </CardTitle>\n                  <Button variant=\"ghost\" size=\"icon\">\n                    {expandedSections.roles ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\n                  </Button>\n                </div>\n              </CardHeader>\n              <AnimatePresence>\n                {expandedSections.roles && (\n                  <motion.div\n                    initial={{ height: 0, opacity: 0 }}\n                    animate={{ height: 'auto', opacity: 1 }}\n                    exit={{ height: 0, opacity: 0 }}\n                    transition={{ duration: 0.2 }}\n                  >\n                    <CardContent className=\"pt-0\">\n                      {personData.roles && personData.roles.length > 0 ? (\n                        <div className=\"space-y-4\">\n                          {personData.roles.map((role: PersonRole, idx: number) => (\n                            <div\n                              key={role.id}\n                              className={`flex gap-4 ${idx < personData.roles.length - 1 ? 'pb-4 border-b' : ''}`}\n                            >\n                              <div className=\"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0\">\n                                <Building2 className=\"h-5 w-5 text-primary\" />\n                              </div>\n                              <div className=\"flex-1\">\n                                <div className=\"flex items-start justify-between\">\n                                  <div>\n                                    <h4 className=\"font-medium\">\n                                      {isRTL ? role.role_title_ar || role.role_title_en : role.role_title_en}\n                                    </h4>\n                                    <p className=\"text-sm text-muted-foreground\">\n                                      {isRTL\n                                        ? role.organization_name_ar || role.organization_name_en\n                                        : role.organization_name_en}\n                                    </p>\n                                  </div>\n                                  {role.is_current && (\n                                    <Badge variant=\"default\">{t('role.current', 'Current')}</Badge>\n                                  )}\n                                </div>\n                                <p className=\"text-xs text-muted-foreground mt-1\">\n                                  {formatDate(role.start_date)} - {role.end_date ? formatDate(role.end_date) : t('role.present', 'Present')}\n                                </p>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <p className=\"text-sm text-muted-foreground text-center py-8\">\n                          {t('empty.roles', 'No career history recorded')}\n                        </p>\n                      )}\n                      <Button variant=\"outline\" size=\"sm\" className=\"mt-4 w-full\">\n                        <Plus className=\"h-4 w-4 me-2\" />\n                        {t('actions.addRole', 'Add Role')}\n                      </Button>\n                    </CardContent>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </Card>\n\n            {/* Affiliations Section */}\n            <Card>\n              <CardHeader\n                className=\"cursor-pointer\"\n                onClick={() => toggleSection('affiliations')}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <CardTitle className=\"flex items-center gap-2 text-lg\">\n                    <Building2 className=\"h-5 w-5 text-primary\" />\n                    {t('sections.affiliations', 'Organization Affiliations')}\n                    <Badge variant=\"secondary\" className=\"ms-2\">\n                      {personData.affiliations?.length || 0}\n                    </Badge>\n                  </CardTitle>\n                  <Button variant=\"ghost\" size=\"icon\">\n                    {expandedSections.affiliations ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\n                  </Button>\n                </div>\n              </CardHeader>\n              <AnimatePresence>\n                {expandedSections.affiliations && (\n                  <motion.div\n                    initial={{ height: 0, opacity: 0 }}\n                    animate={{ height: 'auto', opacity: 1 }}\n                    exit={{ height: 0, opacity: 0 }}\n                    transition={{ duration: 0.2 }}\n                  >\n                    <CardContent className=\"pt-0\">\n                      {personData.affiliations && personData.affiliations.length > 0 ? (\n                        <div className=\"space-y-3\">\n                          {personData.affiliations.map((affiliation: PersonAffiliation) => (\n                            <div\n                              key={affiliation.id}\n                              className=\"flex items-center justify-between p-3 rounded-lg bg-muted/50\"\n                            >\n                              <div>\n                                <p className=\"font-medium text-sm\">\n                                  {isRTL\n                                    ? affiliation.organization_name_ar || affiliation.organization_name_en\n                                    : affiliation.organization_name_en}\n                                </p>\n                                <p className=\"text-xs text-muted-foreground\">\n                                  {isRTL\n                                    ? AFFILIATION_TYPE_LABELS[affiliation.affiliation_type]?.ar\n                                    : AFFILIATION_TYPE_LABELS[affiliation.affiliation_type]?.en}\n                                </p>\n                              </div>\n                              {affiliation.is_active && (\n                                <Badge variant=\"secondary\">{t('affiliation.active', 'Active')}</Badge>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <p className=\"text-sm text-muted-foreground text-center py-8\">\n                          {t('empty.affiliations', 'No affiliations recorded')}\n                        </p>\n                      )}\n                      <Button variant=\"outline\" size=\"sm\" className=\"mt-4 w-full\">\n                        <Plus className=\"h-4 w-4 me-2\" />\n                        {t('actions.addAffiliation', 'Add Affiliation')}\n                      </Button>\n                    </CardContent>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </Card>\n          </TabsContent>\n\n          {/* Network Tab */}\n          <TabsContent value=\"network\" className=\"space-y-6\">\n            {/* Relationships Section */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2 text-lg\">\n                  <Users className=\"h-5 w-5 text-primary\" />\n                  {t('sections.relationships', 'Professional Network')}\n                  <Badge variant=\"secondary\" className=\"ms-2\">\n                    {personData.relationships?.length || 0}\n                  </Badge>\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                {personData.relationships && personData.relationships.length > 0 ? (\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                    {personData.relationships.map((rel: PersonRelationshipWithPerson) => (\n                      <Card\n                        key={rel.relationship.id}\n                        className=\"cursor-pointer hover:shadow-md transition-shadow\"\n                        onClick={() => navigate({ to: '/persons/$personId', params: { personId: rel.related_person.id } })}\n                      >\n                        <CardContent className=\"p-4\">\n                          <div className=\"flex items-center gap-3\">\n                            <Avatar className=\"h-10 w-10\">\n                              <AvatarImage src={rel.related_person.photo_url || ''} />\n                              <AvatarFallback className=\"bg-primary/10 text-primary text-sm\">\n                                {getInitials(isRTL ? rel.related_person.name_ar : rel.related_person.name_en)}\n                              </AvatarFallback>\n                            </Avatar>\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"font-medium text-sm truncate\">\n                                {isRTL ? rel.related_person.name_ar : rel.related_person.name_en}\n                              </p>\n                              <p className=\"text-xs text-muted-foreground\">\n                                {isRTL\n                                  ? RELATIONSHIP_TYPE_LABELS[rel.relationship.relationship_type]?.ar\n                                  : RELATIONSHIP_TYPE_LABELS[rel.relationship.relationship_type]?.en}\n                              </p>\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-sm text-muted-foreground text-center py-8\">\n                    {t('empty.relationships', 'No connections recorded')}\n                  </p>\n                )}\n                <Button variant=\"outline\" size=\"sm\" className=\"mt-4 w-full\">\n                  <Plus className=\"h-4 w-4 me-2\" />\n                  {t('actions.addConnection', 'Add Connection')}\n                </Button>\n              </CardContent>\n            </Card>\n\n            {/* Engagements Section */}\n            {personData.recent_engagements && personData.recent_engagements.length > 0 && (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2 text-lg\">\n                    <Calendar className=\"h-5 w-5 text-primary\" />\n                    {t('sections.engagements', 'Recent Engagements')}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-3\">\n                    {personData.recent_engagements.map((eng: any) => (\n                      <div\n                        key={eng.link.id}\n                        className=\"flex items-center justify-between p-3 rounded-lg bg-muted/50\"\n                      >\n                        <div>\n                          <p className=\"font-medium text-sm\">\n                            {isRTL ? eng.engagement.name_ar : eng.engagement.name_en}\n                          </p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {eng.engagement.engagement_type} - {eng.link.role}\n                          </p>\n                        </div>\n                        {eng.link.attended && (\n                          <Badge variant=\"secondary\">{t('engagement.attended', 'Attended')}</Badge>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  )\n}\n\nexport default PersonDetailPage\n","/**\n * Person Detail Route\n * Feature: persons-entity-management\n *\n * Route for viewing a person dossier's details.\n * Mobile-first, RTL-compatible.\n */\n\nimport { createFileRoute } from '@tanstack/react-router'\nimport PersonDetailPage from '@/pages/persons/PersonDetailPage'\n\nexport const Route = createFileRoute('/_protected/persons/$personId')({\n  component: PersonDetailPage,\n})\n"],"names":["PersonDetailPage","personId","useParams","t","i18n","useTranslation","isRTL","navigate","useNavigate","activeTab","setActiveTab","useState","expandedSections","setExpandedSections","personData","isLoading","isError","error","usePerson","archivePerson","useArchivePerson","toggleSection","section","prev","handleBack","handleEdit","handleArchive","getInitials","name","n","getImportanceColor","level","formatDate","dateStr","jsx","Loader2","jsxs","ShieldAlert","Button","ArrowLeft","person","title","biography","Avatar","AvatarImage","AvatarFallback","Edit","AlertDialog","AlertDialogTrigger","Trash2","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","Tabs","TabsList","TabsTrigger","TabsContent","Card","CardHeader","CardTitle","CardContent","Badge","Star","IMPORTANCE_LEVEL_LABELS","Mail","Phone","Globe","ExternalLink","lang","idx","area","Briefcase","Building2","Users","ChevronUp","ChevronDown","AnimatePresence","motion","role","Plus","affiliation","AFFILIATION_TYPE_LABELS","rel","RELATIONSHIP_TYPE_LABELS","Calendar","eng","SplitComponent"],"mappings":"22BA6DO,SAASA,IAAmB,CACjC,KAAM,CAAE,SAAAC,CAAA,EAAaC,GAAU,CAAE,KAAM,gCAAiC,EAClE,CAAE,EAAAC,EAAG,KAAAC,GAASC,EAAe,SAAS,EACtCC,EAAQF,EAAK,WAAa,KAC1BG,EAAWC,GAAA,EAEX,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,UAAU,EAC/C,CAACC,EAAkBC,CAAmB,EAAIF,WAAkC,CAChF,MAAO,GACP,aAAc,GACd,cAAe,EAAA,CAChB,EAGK,CAAE,KAAMG,EAAY,UAAAC,EAAW,QAAAC,EAAS,MAAAC,CAAA,EAAUC,GAAUjB,CAAQ,EACpEkB,EAAgBC,GAAA,EAGhBC,EAAiBC,GAAoB,CACzCT,EAAoBU,IAAS,CAAE,GAAGA,EAAM,CAACD,CAAO,EAAG,CAACC,EAAKD,CAAO,CAAA,EAAI,CACtE,EAGME,EAAa,IAAM,CACvBjB,EAAS,CAAE,GAAI,WAAY,CAC7B,EAEMkB,EAAa,IAAM,CACvBlB,EAAS,CAAE,GAAI,0BAA2B,OAAQ,CAAE,SAAAN,CAAA,EAAY,CAClE,EAEMyB,EAAgB,SAAY,CAChC,MAAMP,EAAc,YAAYlB,CAAQ,EACxCM,EAAS,CAAE,GAAI,WAAY,CAC7B,EAGMoB,EAAeC,GACZA,EACJ,MAAM,GAAG,EACT,OAASC,EAAE,CAAC,CAAC,EACb,KAAK,EAAE,EACP,UAAU,EAAG,CAAC,EACd,YAAA,EAICC,EAAsBC,GAA2B,CACrD,OAAQA,EAAA,CACN,IAAK,GAAG,MAAO,4CACf,IAAK,GAAG,MAAO,qDACf,IAAK,GAAG,MAAO,qDACf,IAAK,GAAG,MAAO,+CACf,QAAS,MAAO,8CAAA,CAEpB,EAGMC,EAAcC,GACbA,EACE,IAAI,KAAKA,CAAO,EAAE,mBAAmB3B,EAAQ,QAAU,QAAS,CACrE,KAAM,UACN,MAAO,OAAA,CACR,EAJoB,KAQvB,GAAIS,EACF,OACEmB,MAAC,OAAI,UAAU,4CACb,eAACC,EAAA,CAAQ,UAAU,mCAAmC,CAAA,CACxD,EAKJ,GAAInB,GAAW,CAACF,EACd,OACEsB,EAAAA,KAAC,MAAA,CAAI,UAAU,2DACb,SAAA,CAAAF,EAAAA,IAACG,GAAA,CAAY,UAAU,0BAAA,CAA2B,EAClDD,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAF,MAAC,MAAG,UAAU,wCACX,SAAA/B,EAAE,iBAAkB,kBAAkB,EACzC,EACA+B,EAAAA,IAAC,KAAE,UAAU,gCACV,YAAO,SAAW/B,EAAE,4BAA6B,+CAA+C,CAAA,CACnG,CAAA,EACF,EACAiC,EAAAA,KAACE,EAAA,CAAO,QAASd,EACf,SAAA,CAAAU,EAAAA,IAACK,EAAA,CAAU,UAAU,cAAA,CAAe,EACnCpC,EAAE,qBAAsB,cAAc,CAAA,CAAA,CACzC,CAAA,EACF,EAIJ,MAAMqC,EAAS1B,EAAW,OACpBc,EAAOtB,EAAQkC,EAAO,QAAUA,EAAO,QACvCC,EAAQnC,EAAQkC,EAAO,SAAWA,EAAO,SACzCE,EAAYpC,EAAQkC,EAAO,aAAeA,EAAO,aAEvD,cACG,MAAA,CAAI,UAAU,6BAA6B,IAAKlC,EAAQ,MAAQ,MAE/D,SAAA,CAAA4B,EAAAA,IAAC,SAAA,CAAO,UAAU,2CAChB,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,8CACb,SAAAE,OAAC,MAAA,CAAI,UAAU,0CACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAF,MAACI,GAAO,QAAQ,QAAQ,KAAK,OAAO,QAASd,EAAY,UAAU,YACjE,SAAAU,EAAAA,IAACK,GAAU,UAAW,WAAWjC,EAAQ,aAAe,EAAE,GAAI,EAChE,EACA8B,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACO,EAAA,CAAO,UAAU,YAChB,SAAA,CAAAT,MAACU,GAAY,IAAKJ,EAAO,WAAa,GAAI,IAAKZ,EAAM,QACpDiB,EAAA,CAAe,UAAU,yCACvB,SAAAlB,EAAYC,CAAI,CAAA,CACnB,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAAM,EAAAA,IAAC,KAAA,CAAG,UAAU,gCAAiC,SAAAN,EAAK,EACnDa,GAASP,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAiC,SAAAO,CAAA,CAAM,CAAA,CAAA,CAChE,CAAA,CAAA,CACF,CAAA,EACF,EAEAL,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAA,OAACE,GAAO,QAAQ,UAAU,KAAK,KAAK,QAASb,EAC3C,SAAA,CAAAS,EAAAA,IAACY,GAAA,CAAK,UAAU,iBAAA,CAAkB,QACjC,OAAA,CAAK,UAAU,mBAAoB,SAAA3C,EAAE,eAAgB,MAAM,CAAA,CAAE,CAAA,EAChE,SACC4C,GAAA,CACC,SAAA,CAAAb,MAACc,IAAmB,QAAO,GACzB,SAAAd,EAAAA,IAACI,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,UAAU,0CAC5C,SAAAJ,MAACe,GAAA,CAAO,UAAU,SAAA,CAAU,EAC9B,EACF,SACCC,GAAA,CACC,SAAA,CAAAd,OAACe,GAAA,CACC,SAAA,CAAAjB,EAAAA,IAACkB,GAAA,CAAkB,SAAAjD,EAAE,gBAAiB,iBAAiB,EAAE,EACzD+B,EAAAA,IAACmB,GAAA,CACE,SAAAlD,EAAE,sBAAuB,sFAAsF,CAAA,CAClH,CAAA,EACF,SACCmD,GAAA,CACC,SAAA,CAAApB,EAAAA,IAACqB,GAAA,CAAmB,SAAApD,EAAE,iBAAkB,QAAQ,EAAE,EAClDiC,EAAAA,KAACoB,GAAA,CACC,QAAS9B,EACT,UAAU,qEAET,SAAA,CAAAP,EAAc,WAAae,EAAAA,IAACC,EAAA,CAAQ,UAAU,4BAA4B,EAC1EhC,EAAE,kBAAmB,SAAS,CAAA,CAAA,CAAA,CACjC,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,EACF,EACF,EAGA+B,EAAAA,IAAC,OAAA,CAAK,UAAU,8CACd,SAAAE,EAAAA,KAACqB,GAAA,CAAK,MAAOhD,EAAW,cAAeC,EAAc,UAAU,YAC7D,SAAA,CAAA0B,EAAAA,KAACsB,GAAA,CAAS,UAAU,mBAClB,SAAA,CAAAxB,EAAAA,IAACyB,EAAA,CAAY,MAAM,WAAW,UAAU,sBACrC,SAAAxD,EAAE,gBAAiB,UAAU,CAAA,CAChC,EACA+B,EAAAA,IAACyB,GAAY,MAAM,SAAS,UAAU,sBACnC,SAAAxD,EAAE,cAAe,QAAQ,CAAA,CAC5B,EACA+B,EAAAA,IAACyB,GAAY,MAAM,UAAU,UAAU,sBACpC,SAAAxD,EAAE,eAAgB,SAAS,CAAA,CAC9B,CAAA,EACF,EAGA+B,EAAAA,IAAC0B,GAAY,MAAM,WAAW,UAAU,YACtC,SAAAxB,EAAAA,KAAC,MAAA,CAAI,UAAU,wCAEb,SAAA,CAAAA,EAAAA,KAACyB,EAAA,CAAK,UAAU,gBACd,SAAA,CAAA3B,EAAAA,IAAC4B,EAAA,CACC,eAACC,EAAA,CAAU,UAAU,UAAW,SAAA5D,EAAE,mBAAoB,SAAS,CAAA,CAAE,CAAA,CACnE,EACAiC,EAAAA,KAAC4B,EAAA,CAAY,UAAU,YAErB,SAAA,CAAA9B,EAAAA,IAAC,OAAI,UAAU,sBACb,SAAAE,EAAAA,KAACO,EAAA,CAAO,UAAU,4BAChB,SAAA,CAAAT,MAACU,GAAY,IAAKJ,EAAO,WAAa,GAAI,IAAKZ,EAAM,QACpDiB,EAAA,CAAe,UAAU,kDACvB,SAAAlB,EAAYC,CAAI,CAAA,CACnB,CAAA,CAAA,CACF,CAAA,CACF,EAGAM,EAAAA,IAAC,MAAA,CAAI,UAAU,sBACb,SAAAE,EAAAA,KAAC6B,EAAA,CACC,QAAQ,UACR,UAAWnC,EAAmBU,EAAO,gBAAmC,EAExE,SAAA,CAAAN,EAAAA,IAACgC,GAAA,CAAK,UAAU,cAAA,CAAe,EAC9B5D,EACG6D,EAAwB3B,EAAO,gBAAmC,GAAG,GACrE2B,EAAwB3B,EAAO,gBAAmC,GAAG,EAAA,CAAA,CAAA,EAE7E,EAGAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAAI,EAAO,OACNJ,EAAAA,KAAC,IAAA,CACC,KAAM,UAAUI,EAAO,KAAK,GAC5B,UAAU,qDAEV,SAAA,CAAAN,EAAAA,IAACkC,GAAA,CAAK,UAAU,+BAAA,CAAgC,EAChDlC,EAAAA,IAAC,OAAA,CAAK,UAAU,WAAY,WAAO,KAAA,CAAM,CAAA,CAAA,CAAA,EAG5CM,EAAO,OACNJ,EAAAA,KAAC,IAAA,CACC,KAAM,OAAOI,EAAO,KAAK,GACzB,UAAU,qDAEV,SAAA,CAAAN,EAAAA,IAACmC,GAAA,CAAM,UAAU,+BAAA,CAAgC,EACjDnC,EAAAA,IAAC,OAAA,CAAK,IAAI,MAAO,WAAO,KAAA,CAAM,CAAA,CAAA,CAAA,EAGjCM,EAAO,cACNJ,EAAAA,KAAC,IAAA,CACC,KAAMI,EAAO,aACb,OAAO,SACP,IAAI,sBACJ,UAAU,qDAEV,SAAA,CAAAN,EAAAA,IAACoC,GAAA,CAAM,UAAU,+BAAA,CAAgC,EACjDpC,EAAAA,IAAC,QAAK,SAAA,UAAA,CAAQ,EACdA,EAAAA,IAACqC,GAAA,CAAa,UAAU,SAAA,CAAU,CAAA,CAAA,CAAA,CACpC,EAEJ,EAGC/B,EAAO,WAAaA,EAAO,UAAU,OAAS,GAC7CJ,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAF,MAAC,MAAG,UAAU,2BAA4B,SAAA/B,EAAE,oBAAqB,WAAW,EAAE,QAC7E,MAAA,CAAI,UAAU,uBACZ,SAAAqC,EAAO,UAAU,IAAI,CAACgC,EAAMC,IAC3BvC,EAAAA,IAAC+B,EAAA,CAAgB,QAAQ,YAAY,UAAU,UAC5C,SAAAO,CAAA,EADSC,CAEZ,CACD,CAAA,CACH,CAAA,EACF,EAIDjC,EAAO,iBAAmBA,EAAO,gBAAgB,OAAS,GACzDJ,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAF,MAAC,MAAG,UAAU,2BAA4B,SAAA/B,EAAE,oBAAqB,WAAW,EAAE,QAC7E,MAAA,CAAI,UAAU,uBACZ,SAAAqC,EAAO,gBAAgB,IAAI,CAACkC,EAAMD,IACjCvC,EAAAA,IAAC+B,EAAA,CAAgB,QAAQ,UAAU,UAAU,UAC1C,SAAAS,CAAA,EADSD,CAEZ,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,EACF,EAGArC,EAAAA,KAAC,MAAA,CAAI,UAAU,0BAEZ,SAAA,CAAAtB,EAAW,qBACT+C,EAAA,CACC,SAAA,CAAA3B,MAAC4B,EAAA,CACC,SAAA1B,EAAAA,KAAC2B,EAAA,CAAU,UAAU,kCACnB,SAAA,CAAA7B,EAAAA,IAACyC,EAAA,CAAU,UAAU,sBAAA,CAAuB,EAC3CxE,EAAE,uBAAwB,kBAAkB,CAAA,CAAA,CAC/C,CAAA,CACF,EACA+B,MAAC8B,EAAA,CACC,SAAA5B,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAF,EAAAA,IAAC,OAAI,UAAU,oFACb,eAAC0C,EAAA,CAAU,UAAU,uBAAuB,CAAA,CAC9C,SACC,MAAA,CACC,SAAA,CAAA1C,EAAAA,IAAC,KAAA,CAAG,UAAU,gBACX,SAAA5B,GACGQ,EAAW,aAAa,eAAiBA,EAAW,aAAa,cAEvE,EACAoB,EAAAA,IAAC,IAAA,CAAE,UAAU,gCACV,SAAA5B,GACGQ,EAAW,aAAa,sBAAwBA,EAAW,aAAa,qBAE9E,EACCA,EAAW,aAAa,kBACtB,IAAA,CAAE,UAAU,qCACV,SAAAX,EAAE,aAAc,iBAAkB,CAAE,KAAM6B,EAAWlB,EAAW,aAAa,UAAU,CAAA,CAAG,CAAA,CAC7F,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAID4B,UACEmB,EAAA,CACC,SAAA,CAAA3B,EAAAA,IAAC4B,EAAA,CACC,eAACC,EAAA,CAAU,UAAU,UAAW,SAAA5D,EAAE,qBAAsB,WAAW,CAAA,CAAE,CAAA,CACvE,QACC6D,EAAA,CACC,SAAA9B,MAAC,KAAE,UAAU,oDAAqD,WAAU,CAAA,CAC9E,CAAA,EACF,EAIFE,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAF,MAAC2B,EAAA,CACC,SAAAzB,EAAAA,KAAC4B,EAAA,CAAY,UAAU,mBACrB,SAAA,CAAA9B,EAAAA,IAACyC,EAAA,CAAU,UAAU,mCAAA,CAAoC,QACxD,IAAA,CAAE,UAAU,qBAAsB,SAAA7D,EAAW,OAAO,QAAU,EAAE,QAChE,IAAA,CAAE,UAAU,gCAAiC,SAAAX,EAAE,cAAe,OAAO,CAAA,CAAE,CAAA,CAAA,CAC1E,CAAA,CACF,EACA+B,MAAC2B,EAAA,CACC,SAAAzB,EAAAA,KAAC4B,EAAA,CAAY,UAAU,mBACrB,SAAA,CAAA9B,EAAAA,IAAC0C,EAAA,CAAU,UAAU,mCAAA,CAAoC,QACxD,IAAA,CAAE,UAAU,qBAAsB,SAAA9D,EAAW,cAAc,QAAU,EAAE,QACvE,IAAA,CAAE,UAAU,gCAAiC,SAAAX,EAAE,qBAAsB,cAAc,CAAA,CAAE,CAAA,CAAA,CACxF,CAAA,CACF,EACA+B,MAAC2B,EAAA,CACC,SAAAzB,EAAAA,KAAC4B,EAAA,CAAY,UAAU,mBACrB,SAAA,CAAA9B,EAAAA,IAAC2C,EAAA,CAAM,UAAU,mCAAA,CAAoC,QACpD,IAAA,CAAE,UAAU,qBAAsB,SAAA/D,EAAW,eAAe,QAAU,EAAE,QACxE,IAAA,CAAE,UAAU,gCAAiC,SAAAX,EAAE,oBAAqB,aAAa,CAAA,CAAE,CAAA,CAAA,CACtF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAGAiC,EAAAA,KAACwB,EAAA,CAAY,MAAM,SAAS,UAAU,YAEpC,SAAA,CAAAxB,OAACyB,EAAA,CACC,SAAA,CAAA3B,EAAAA,IAAC4B,EAAA,CACC,UAAU,iBACV,QAAS,IAAMzC,EAAc,OAAO,EAEpC,SAAAe,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC2B,EAAA,CAAU,UAAU,kCACnB,SAAA,CAAA7B,EAAAA,IAACyC,EAAA,CAAU,UAAU,sBAAA,CAAuB,EAC3CxE,EAAE,yBAA0B,gBAAgB,EAC7C+B,EAAAA,IAAC+B,GAAM,QAAQ,YAAY,UAAU,OAClC,SAAAnD,EAAW,OAAO,QAAU,CAAA,CAC/B,CAAA,EACF,QACCwB,EAAA,CAAO,QAAQ,QAAQ,KAAK,OAC1B,SAAA1B,EAAiB,MAAQsB,EAAAA,IAAC4C,EAAA,CAAU,UAAU,SAAA,CAAU,QAAMC,EAAA,CAAY,UAAU,UAAU,CAAA,CACjG,CAAA,CAAA,CACF,CAAA,CAAA,EAEF7C,EAAAA,IAAC8C,EAAA,CACE,SAAApE,EAAiB,OAChBsB,EAAAA,IAAC+C,EAAO,IAAP,CACC,QAAS,CAAE,OAAQ,EAAG,QAAS,CAAA,EAC/B,QAAS,CAAE,OAAQ,OAAQ,QAAS,CAAA,EACpC,KAAM,CAAE,OAAQ,EAAG,QAAS,CAAA,EAC5B,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA7C,EAAAA,KAAC4B,EAAA,CAAY,UAAU,OACpB,SAAA,CAAAlD,EAAW,OAASA,EAAW,MAAM,OAAS,EAC7CoB,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAApB,EAAW,MAAM,IAAI,CAACoE,EAAkBT,IACvCrC,EAAAA,KAAC,MAAA,CAEC,UAAW,cAAcqC,EAAM3D,EAAW,MAAM,OAAS,EAAI,gBAAkB,EAAE,GAEjF,SAAA,CAAAoB,EAAAA,IAAC,OAAI,UAAU,oFACb,eAAC0C,EAAA,CAAU,UAAU,uBAAuB,CAAA,CAC9C,EACAxC,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,cACX,SAAA5B,GAAQ4E,EAAK,eAAiBA,EAAK,aAAqB,CAC3D,EACAhD,EAAAA,IAAC,IAAA,CAAE,UAAU,gCACV,SAAA5B,GACG4E,EAAK,sBAAwBA,EAAK,oBAC7B,CACX,CAAA,EACF,EACCA,EAAK,YACJhD,MAAC+B,EAAA,CAAM,QAAQ,UAAW,SAAA9D,EAAE,eAAgB,SAAS,CAAA,CAAE,CAAA,EAE3D,EACAiC,EAAAA,KAAC,IAAA,CAAE,UAAU,qCACV,SAAA,CAAAJ,EAAWkD,EAAK,UAAU,EAAE,MAAIA,EAAK,SAAWlD,EAAWkD,EAAK,QAAQ,EAAI/E,EAAE,eAAgB,SAAS,CAAA,CAAA,CAC1G,CAAA,CAAA,CACF,CAAA,CAAA,EAzBK+E,EAAK,EAAA,CA2Bb,EACH,EAEAhD,MAAC,IAAA,CAAE,UAAU,iDACV,SAAA/B,EAAE,cAAe,4BAA4B,CAAA,CAChD,SAEDmC,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,UAAU,cAC5C,SAAA,CAAAJ,EAAAA,IAACiD,EAAA,CAAK,UAAU,cAAA,CAAe,EAC9BhF,EAAE,kBAAmB,UAAU,CAAA,CAAA,CAClC,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAEJ,CAAA,EACF,SAGC0D,EAAA,CACC,SAAA,CAAA3B,EAAAA,IAAC4B,EAAA,CACC,UAAU,iBACV,QAAS,IAAMzC,EAAc,cAAc,EAE3C,SAAAe,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC2B,EAAA,CAAU,UAAU,kCACnB,SAAA,CAAA7B,EAAAA,IAAC0C,EAAA,CAAU,UAAU,sBAAA,CAAuB,EAC3CzE,EAAE,wBAAyB,2BAA2B,EACvD+B,EAAAA,IAAC+B,GAAM,QAAQ,YAAY,UAAU,OAClC,SAAAnD,EAAW,cAAc,QAAU,CAAA,CACtC,CAAA,EACF,QACCwB,EAAA,CAAO,QAAQ,QAAQ,KAAK,OAC1B,SAAA1B,EAAiB,aAAesB,EAAAA,IAAC4C,EAAA,CAAU,UAAU,SAAA,CAAU,QAAMC,EAAA,CAAY,UAAU,UAAU,CAAA,CACxG,CAAA,CAAA,CACF,CAAA,CAAA,EAEF7C,EAAAA,IAAC8C,EAAA,CACE,SAAApE,EAAiB,cAChBsB,EAAAA,IAAC+C,EAAO,IAAP,CACC,QAAS,CAAE,OAAQ,EAAG,QAAS,CAAA,EAC/B,QAAS,CAAE,OAAQ,OAAQ,QAAS,CAAA,EACpC,KAAM,CAAE,OAAQ,EAAG,QAAS,CAAA,EAC5B,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA7C,EAAAA,KAAC4B,EAAA,CAAY,UAAU,OACpB,SAAA,CAAAlD,EAAW,cAAgBA,EAAW,aAAa,OAAS,EAC3DoB,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAApB,EAAW,aAAa,IAAKsE,GAC5BhD,EAAAA,KAAC,MAAA,CAEC,UAAU,+DAEV,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,IAAA,CAAE,UAAU,sBACV,SAAA5B,GACG8E,EAAY,sBAAwBA,EAAY,oBACpC,CAClB,EACAlD,EAAAA,IAAC,IAAA,CAAE,UAAU,gCACV,WACGmD,EAAwBD,EAAY,gBAAgB,GAAG,GACvDC,EAAwBD,EAAY,gBAAgB,GAAG,EAAA,CAC7D,CAAA,EACF,EACCA,EAAY,WACXlD,MAAC+B,EAAA,CAAM,QAAQ,YAAa,SAAA9D,EAAE,qBAAsB,QAAQ,CAAA,CAAE,CAAA,CAAA,EAhB3DiF,EAAY,EAAA,CAmBpB,EACH,EAEAlD,MAAC,IAAA,CAAE,UAAU,iDACV,SAAA/B,EAAE,qBAAsB,0BAA0B,CAAA,CACrD,SAEDmC,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,UAAU,cAC5C,SAAA,CAAAJ,EAAAA,IAACiD,EAAA,CAAK,UAAU,cAAA,CAAe,EAC9BhF,EAAE,yBAA0B,iBAAiB,CAAA,CAAA,CAChD,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAEJ,CAAA,CAAA,CACF,CAAA,EACF,EAGAiC,EAAAA,KAACwB,EAAA,CAAY,MAAM,UAAU,UAAU,YAErC,SAAA,CAAAxB,OAACyB,EAAA,CACC,SAAA,CAAA3B,MAAC4B,EAAA,CACC,SAAA1B,EAAAA,KAAC2B,EAAA,CAAU,UAAU,kCACnB,SAAA,CAAA7B,EAAAA,IAAC2C,EAAA,CAAM,UAAU,sBAAA,CAAuB,EACvC1E,EAAE,yBAA0B,sBAAsB,EACnD+B,EAAAA,IAAC+B,GAAM,QAAQ,YAAY,UAAU,OAClC,SAAAnD,EAAW,eAAe,QAAU,CAAA,CACvC,CAAA,CAAA,CACF,CAAA,CACF,SACCkD,EAAA,CACE,SAAA,CAAAlD,EAAW,eAAiBA,EAAW,cAAc,OAAS,EAC7DoB,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACZ,SAAApB,EAAW,cAAc,IAAKwE,GAC7BpD,EAAAA,IAAC2B,EAAA,CAEC,UAAU,mDACV,QAAS,IAAMtD,EAAS,CAAE,GAAI,qBAAsB,OAAQ,CAAE,SAAU+E,EAAI,eAAe,EAAA,EAAM,EAEjG,eAACtB,EAAA,CAAY,UAAU,MACrB,SAAA5B,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACO,EAAA,CAAO,UAAU,YAChB,SAAA,CAAAT,EAAAA,IAACU,EAAA,CAAY,IAAK0C,EAAI,eAAe,WAAa,GAAI,EACtDpD,EAAAA,IAACW,EAAA,CAAe,UAAU,qCACvB,SAAAlB,EAAYrB,EAAQgF,EAAI,eAAe,QAAUA,EAAI,eAAe,OAAO,CAAA,CAC9E,CAAA,EACF,EACAlD,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAF,EAAAA,IAAC,IAAA,CAAE,UAAU,+BACV,SAAA5B,EAAQgF,EAAI,eAAe,QAAUA,EAAI,eAAe,OAAA,CAC3D,QACC,IAAA,CAAE,UAAU,gCACV,SAAAhF,EACGiF,EAAyBD,EAAI,aAAa,iBAAiB,GAAG,GAC9DC,EAAyBD,EAAI,aAAa,iBAAiB,GAAG,EAAA,CACpE,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EAvBKA,EAAI,aAAa,EAAA,CAyBzB,EACH,EAEApD,MAAC,IAAA,CAAE,UAAU,iDACV,SAAA/B,EAAE,sBAAuB,yBAAyB,CAAA,CACrD,SAEDmC,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,UAAU,cAC5C,SAAA,CAAAJ,EAAAA,IAACiD,EAAA,CAAK,UAAU,cAAA,CAAe,EAC9BhF,EAAE,wBAAyB,gBAAgB,CAAA,CAAA,CAC9C,CAAA,CAAA,CACF,CAAA,EACF,EAGCW,EAAW,oBAAsBA,EAAW,mBAAmB,OAAS,UACtE+C,EAAA,CACC,SAAA,CAAA3B,MAAC4B,EAAA,CACC,SAAA1B,EAAAA,KAAC2B,EAAA,CAAU,UAAU,kCACnB,SAAA,CAAA7B,EAAAA,IAACsD,GAAA,CAAS,UAAU,sBAAA,CAAuB,EAC1CrF,EAAE,uBAAwB,oBAAoB,CAAA,CAAA,CACjD,CAAA,CACF,EACA+B,EAAAA,IAAC8B,EAAA,CACC,SAAA9B,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAApB,EAAW,mBAAmB,IAAK2E,GAClCrD,EAAAA,KAAC,MAAA,CAEC,UAAU,+DAEV,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,IAAA,CAAE,UAAU,sBACV,SAAA5B,EAAQmF,EAAI,WAAW,QAAUA,EAAI,WAAW,OAAA,CACnD,EACArD,EAAAA,KAAC,IAAA,CAAE,UAAU,gCACV,SAAA,CAAAqD,EAAI,WAAW,gBAAgB,MAAIA,EAAI,KAAK,IAAA,CAAA,CAC/C,CAAA,EACF,EACCA,EAAI,KAAK,UACRvD,EAAAA,IAAC+B,EAAA,CAAM,QAAQ,YAAa,SAAA9D,EAAE,sBAAuB,UAAU,CAAA,CAAE,CAAA,CAAA,EAZ9DsF,EAAI,KAAK,EAAA,CAejB,EACH,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAEJ,CCnoB+D,MAAAC,GAAxD1F"}