{"version":3,"file":"EngagementTimeline-C_G2Lr8F.js","sources":["../../src/components/timeline/EngagementTimeline.tsx"],"sourcesContent":["/**\n * EngagementTimeline Component\n *\n * Type-specific timeline wrapper for Engagement dossiers\n * Default event types:\n * - Calendar events (primary) - event schedule, sessions\n * - Commitments - action items\n * - Decisions - outcomes\n * - Documents - agendas, minutes\n */\n\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { EnhancedVerticalTimeline } from './EnhancedVerticalTimeline';\nimport { TimelineFilters } from './TimelineFilters';\nimport { useUnifiedTimeline, getDefaultEventTypes, getAvailableEventTypes } from '@/hooks/useUnifiedTimeline';\nimport type { TimelineFilters as ITimelineFilters } from '@/types/timeline.types';\n\ninterface EngagementTimelineProps {\n  dossierId: string;\n  className?: string;\n}\n\nexport function EngagementTimeline({ dossierId, className }: EngagementTimelineProps) {\n  const { t } = useTranslation('dossier');\n  const [showFilters, setShowFilters] = useState(false);\n\n  const defaultEventTypes = getDefaultEventTypes('Engagement');\n  const availableEventTypes = getAvailableEventTypes('Engagement');\n\n  const {\n    events,\n    isLoading,\n    isFetchingNextPage,\n    hasNextPage,\n    error,\n    fetchNextPage,\n    refetch,\n    filters,\n    setFilters,\n  } = useUnifiedTimeline({\n    dossierId,\n    dossierType: 'Engagement',\n    initialFilters: {\n      event_types: defaultEventTypes,\n    },\n    itemsPerPage: 20,\n    enableRealtime: false,\n  });\n\n  const handleFiltersChange = (newFilters: ITimelineFilters) => {\n    setFilters(newFilters);\n  };\n\n  return (\n    <div className={className}>\n      <TimelineFilters\n        filters={filters}\n        onFiltersChange={handleFiltersChange}\n        availableEventTypes={availableEventTypes}\n        defaultEventTypes={defaultEventTypes}\n        showFilters={showFilters}\n        onToggleFilters={() => setShowFilters(!showFilters)}\n        onRefresh={refetch}\n      />\n\n      <EnhancedVerticalTimeline\n        events={events}\n        isLoading={isLoading}\n        isFetchingNextPage={isFetchingNextPage}\n        hasNextPage={hasNextPage}\n        onLoadMore={fetchNextPage}\n        error={error}\n        emptyMessage={t('timeline.empty.engagement')}\n      />\n    </div>\n  );\n}\n"],"names":["EngagementTimeline","dossierId","className","t","useTranslation","showFilters","setShowFilters","useState","defaultEventTypes","getDefaultEventTypes","availableEventTypes","getAvailableEventTypes","events","isLoading","isFetchingNextPage","hasNextPage","error","fetchNextPage","refetch","filters","setFilters","useUnifiedTimeline","handleFiltersChange","newFilters","jsxs","jsx","TimelineFilters","EnhancedVerticalTimeline"],"mappings":"8IAuBO,SAASA,EAAmB,CAAE,UAAAC,EAAW,UAAAC,GAAsC,CACpF,KAAM,CAAE,EAAAC,CAAA,EAAMC,EAAe,SAAS,EAChC,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,EAAK,EAE9CC,EAAoBC,EAAqB,YAAY,EACrDC,EAAsBC,EAAuB,YAAY,EAEzD,CACJ,OAAAC,EACA,UAAAC,EACA,mBAAAC,EACA,YAAAC,EACA,MAAAC,EACA,cAAAC,EACA,QAAAC,EACA,QAAAC,EACA,WAAAC,CAAA,EACEC,EAAmB,CACrB,UAAApB,EACA,YAAa,aACb,eAAgB,CACd,YAAaO,CAAA,EAEf,aAAc,GACd,eAAgB,EAAA,CACjB,EAEKc,EAAuBC,GAAiC,CAC5DH,EAAWG,CAAU,CACvB,EAEA,OACEC,OAAC,OAAI,UAAAtB,EACH,SAAA,CAAAuB,EAAAA,IAACC,EAAA,CACC,QAAAP,EACA,gBAAiBG,EACjB,oBAAAZ,EACA,kBAAAF,EACA,YAAAH,EACA,gBAAiB,IAAMC,EAAe,CAACD,CAAW,EAClD,UAAWa,CAAA,CAAA,EAGbO,EAAAA,IAACE,EAAA,CACC,OAAAf,EACA,UAAAC,EACA,mBAAAC,EACA,YAAAC,EACA,WAAYE,EACZ,MAAAD,EACA,aAAcb,EAAE,2BAA2B,CAAA,CAAA,CAC7C,EACF,CAEJ"}