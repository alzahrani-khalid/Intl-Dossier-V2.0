{"version":3,"mappings":"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","names":["IntelligenceTabContent","lazy","module","CountryDossierDetail","dossier","initialTab","t","i18n","useTranslation","isRTL","navigate","useNavigate","activeTab","setActiveTab","useState","tabs","handleTabChange","tab","jsx","jsxs","QueryErrorBoundary","Suspense","Skeleton","i","CountryTimeline","RelationshipGraph","DossierPositionsTab","DossierMoUsTab","KeyContactsPanel","CountryDossierPage","DossierDetailLayout"],"ignoreList":[],"sources":["../../src/components/Dossier/CountryDossierDetail.tsx","../../src/pages/dossiers/CountryDossierPage.tsx"],"sourcesContent":["/**\n * Country Dossier Detail Component (Feature 028 + 029 - Tab-Based Interface)\n *\n * Tab-based country dossier layout with dedicated tabs for:\n * - Intelligence (with refresh button)\n * - Timeline\n * - Relationships\n * - Positions\n * - MoUs\n * - Contacts\n *\n * Mobile-first responsive with horizontal scrollable tabs\n * RTL support with logical properties\n * URL state management for active tab\n */\n\nimport { useState, lazy, Suspense } from 'react'\nimport { useNavigate } from '@tanstack/react-router'\nimport { useTranslation } from 'react-i18next'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport QueryErrorBoundary from '@/components/QueryErrorBoundary'\n\n// Lazy load intelligence dashboard for better performance\nconst IntelligenceTabContent = lazy(() =>\n  import('@/components/intelligence/IntelligenceTabContent').then((module) => ({\n    default: module.IntelligenceTabContent,\n  })),\n)\nimport { CountryTimeline } from '@/components/timeline/CountryTimeline'\nimport { RelationshipGraph } from '@/components/dossiers/RelationshipGraph'\nimport { DossierPositionsTab } from '@/components/positions/DossierPositionsTab'\nimport { DossierMoUsTab } from '@/components/dossiers/DossierMoUsTab'\nimport { KeyContactsPanel } from '@/components/KeyContactsPanel'\nimport type { CountryDossier } from '@/lib/dossier-type-guards'\n\ninterface CountryDossierDetailProps {\n  dossier: CountryDossier\n  initialTab?: string\n}\n\ntype CountryTabType =\n  | 'intelligence'\n  | 'timeline'\n  | 'relationships'\n  | 'positions'\n  | 'mous'\n  | 'contacts'\n\nexport function CountryDossierDetail({ dossier, initialTab }: CountryDossierDetailProps) {\n  const { t, i18n } = useTranslation('dossier')\n  const isRTL = i18n.language === 'ar'\n  const navigate = useNavigate()\n\n  // Active tab state\n  const [activeTab, setActiveTab] = useState<CountryTabType>(\n    (initialTab as CountryTabType) || 'intelligence',\n  )\n\n  // Ensure extension data exists\n  if (!dossier.extension) {\n    console.error('Country dossier extension data is missing:', dossier)\n  }\n\n  // Tab definitions for country dossier\n  const tabs: Array<{ id: CountryTabType; label: string; disabled?: boolean }> = [\n    {\n      id: 'intelligence',\n      label: t('intelligence.title', 'Intelligence Reports'),\n    },\n    {\n      id: 'timeline',\n      label: t('tabs.timeline', 'Timeline'),\n    },\n    {\n      id: 'relationships',\n      label: t('tabs.relationships', 'Relationships'),\n    },\n    {\n      id: 'positions',\n      label: t('tabs.positions', 'Positions'),\n    },\n    {\n      id: 'mous',\n      label: t('tabs.mous', 'MoUs'),\n    },\n    {\n      id: 'contacts',\n      label: t('tabs.contacts', 'Contacts'),\n    },\n  ]\n\n  const handleTabChange = (tab: CountryTabType) => {\n    setActiveTab(tab)\n    // Update URL to reflect active tab\n    navigate({\n      search: { tab } as any,\n      replace: true,\n    })\n  }\n\n  return (\n    <div className=\"space-y-6\" dir={isRTL ? 'rtl' : 'ltr'}>\n      {/* Tabs Navigation - Mobile First Responsive */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\n        <div className=\"border-b border-gray-200 dark:border-gray-700 relative\">\n          {/* Mobile: Horizontal Scrollable Tabs with Fade Indicators */}\n          <div className=\"relative\">\n            {/* Scroll fade indicators */}\n            <div className=\"absolute end-0 top-0 bottom-0 w-8 sm:w-12 bg-gradient-to-e from-transparent to-white dark:to-gray-800 pointer-events-none z-10\" />\n            <nav\n              className=\"-mb-px flex overflow-x-auto scrollbar-hide px-4 sm:px-6\"\n              aria-label={t('detail.tabs_label', 'Country dossier sections')}\n              role=\"tablist\"\n            >\n              {tabs.map((tab) => (\n                <button\n                  key={tab.id}\n                  onClick={() => !tab.disabled && handleTabChange(tab.id)}\n                  disabled={tab.disabled}\n                  role=\"tab\"\n                  aria-selected={activeTab === tab.id}\n                  aria-controls={`${tab.id}-panel`}\n                  className={`\n                  flex-shrink-0 min-h-11 py-3 px-3 sm:px-4 md:px-6 border-b-2 font-medium text-xs sm:text-sm md:text-base\n                  transition-all duration-200 ease-in-out\n                  ${\n                    activeTab === tab.id\n                      ? 'border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/10'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50'\n                  }\n                  ${tab.disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n                  focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 rounded-t-md\n                `}\n                >\n                  <span className=\"whitespace-nowrap flex items-center gap-1.5\">\n                    {tab.label}\n                    {tab.id === 'intelligence' && (\n                      <span className=\"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-semibold bg-black text-white dark:bg-white dark:text-black\">\n                        Beta\n                      </span>\n                    )}\n                  </span>\n                </button>\n              ))}\n            </nav>\n          </div>\n        </div>\n\n        {/* Tab Panels - Responsive Padding */}\n        <div className=\"p-4 sm:p-6\">\n          {/* Intelligence Tab (Feature 029 - Comprehensive Dashboard with Filtering) */}\n          {activeTab === 'intelligence' && (\n            <div id=\"intelligence-panel\" role=\"tabpanel\" aria-labelledby=\"intelligence-tab\">\n              <QueryErrorBoundary>\n                <Suspense\n                  fallback={\n                    <div className=\"space-y-6\">\n                      <div className=\"flex flex-col sm:flex-row gap-3\">\n                        <Skeleton className=\"h-10 w-full sm:w-48\" />\n                        <Skeleton className=\"h-10 w-full sm:w-48\" />\n                        <Skeleton className=\"h-10 w-full sm:w-32\" />\n                      </div>\n                      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6\">\n                        {[1, 2, 3, 4].map((i) => (\n                          <Skeleton key={i} className=\"h-96 w-full\" />\n                        ))}\n                      </div>\n                    </div>\n                  }\n                >\n                  <IntelligenceTabContent dossierId={dossier.id} dossier={dossier} />\n                </Suspense>\n              </QueryErrorBoundary>\n            </div>\n          )}\n\n          {/* Timeline Tab - Unified Timeline with Multi-Source Events */}\n          {activeTab === 'timeline' && (\n            <div id=\"timeline-panel\" role=\"tabpanel\" aria-labelledby=\"timeline-tab\">\n              <CountryTimeline dossierId={dossier.id} />\n            </div>\n          )}\n\n          {/* Relationships Tab */}\n          {activeTab === 'relationships' && (\n            <div id=\"relationships-panel\" role=\"tabpanel\" aria-labelledby=\"relationships-tab\">\n              <RelationshipGraph dossierId={dossier.id} />\n            </div>\n          )}\n\n          {/* Positions Tab */}\n          {activeTab === 'positions' && (\n            <div id=\"positions-panel\" role=\"tabpanel\" aria-labelledby=\"positions-tab\">\n              <DossierPositionsTab dossierId={dossier.id} />\n            </div>\n          )}\n\n          {/* MoUs Tab */}\n          {activeTab === 'mous' && (\n            <div id=\"mous-panel\" role=\"tabpanel\" aria-labelledby=\"mous-tab\">\n              <DossierMoUsTab dossierId={dossier.id} />\n            </div>\n          )}\n\n          {/* Contacts Tab */}\n          {activeTab === 'contacts' && (\n            <div id=\"contacts-panel\" role=\"tabpanel\" aria-labelledby=\"contacts-tab\">\n              <KeyContactsPanel dossierId={dossier.id} />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n","/**\n * Country Dossier Page (Feature 028 - User Story 1 - T019)\n *\n * Wrapper page for country dossier detail view.\n * Uses DossierDetailLayout with country-specific grid configuration.\n * Mobile-first, RTL-compatible, WCAG AA compliant.\n */\n\nimport { DossierDetailLayout } from '@/components/Dossier/DossierDetailLayout';\nimport { CountryDossierDetail } from '@/components/Dossier/CountryDossierDetail';\nimport type { CountryDossier } from '@/lib/dossier-type-guards';\n\ninterface CountryDossierPageProps {\n  dossier: CountryDossier;\n  initialTab?: string;\n}\n\nexport function CountryDossierPage({ dossier, initialTab }: CountryDossierPageProps) {\n  return (\n    <DossierDetailLayout\n      dossier={dossier}\n      gridClassName=\"grid-cols-1\"\n    >\n      <CountryDossierDetail dossier={dossier} initialTab={initialTab} />\n    </DossierDetailLayout>\n  );\n}\n"],"file":"assets/CountryDossierPage-cPP4FHbk.js"}