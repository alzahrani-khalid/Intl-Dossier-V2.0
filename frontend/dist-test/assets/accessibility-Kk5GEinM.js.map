{"version":3,"file":"accessibility-Kk5GEinM.js","sources":["../../src/components/settings/AccessibilitySettings.tsx","../../src/routes/_protected/accessibility.tsx?tsr-split=component"],"sourcesContent":["import React, { useEffect, useState } from 'react'\n\ntype Prefs = {\n high_contrast: boolean\n large_text: boolean\n reduce_motion: boolean\n screen_reader: boolean\n keyboard_only: boolean\n focus_indicators: 'default' | 'enhanced' | 'none'\n}\n\nasync function getPrefs(): Promise<Prefs> {\n const res = await fetch('/accessibility/preferences', { headers: { Authorization: 'Bearer test-auth-token' } })\n if (!res.ok) throw new Error('failed')\n return res.json()\n}\n\nasync function savePrefs(p: Partial<Prefs>): Promise<Prefs> {\n const res = await fetch('/accessibility/preferences', {\n method: 'POST',\n headers: { 'Content-Type': 'application/json', Authorization: 'Bearer test-auth-token' },\n body: JSON.stringify(p)\n })\n if (!res.ok) throw new Error('failed')\n return res.json()\n}\n\nexport default function AccessibilitySettings() {\n const [prefs, setPrefs] = useState<Prefs | null>(null)\n const [saving, setSaving] = useState(false)\n useEffect(() => {\n getPrefs().then(setPrefs).catch(() => setPrefs({\n high_contrast: false, large_text: false, reduce_motion: false, screen_reader: false, keyboard_only: false, focus_indicators: 'default'\n }))\n }, [])\n\n const update = async (patch: Partial<Prefs>) => {\n setSaving(true)\n const next = await savePrefs(patch)\n setPrefs(next)\n setSaving(false)\n }\n\n if (!prefs) return <div>Loading accessibility settings…</div>\n\n return (\n <div style={{ padding: 12 }}>\n <h3>Accessibility Preferences</h3>\n <label><input type=\"checkbox\" checked={prefs.high_contrast} onChange={e => update({ high_contrast: e.target.checked })} /> High contrast</label><br />\n <label><input type=\"checkbox\" checked={prefs.large_text} onChange={e => update({ large_text: e.target.checked })} /> Large text</label><br />\n <label><input type=\"checkbox\" checked={prefs.reduce_motion} onChange={e => update({ reduce_motion: e.target.checked })} /> Reduce motion</label><br />\n <label><input type=\"checkbox\" checked={prefs.screen_reader} onChange={e => update({ screen_reader: e.target.checked })} /> Screen reader support</label><br />\n <label><input type=\"checkbox\" checked={prefs.keyboard_only} onChange={e => update({ keyboard_only: e.target.checked })} /> Keyboard only navigation</label><br />\n <label>\n Focus indicators: {' '}\n <select value={prefs.focus_indicators} onChange={e => update({ focus_indicators: e.target.value as any })}>\n <option value=\"default\">Default</option>\n <option value=\"enhanced\">Enhanced</option>\n <option value=\"none\">None</option>\n </select>\n </label>\n {saving && <div>Saving…</div>}\n </div>\n )\n}\n\n","import { createFileRoute } from '@tanstack/react-router'\nimport AccessibilitySettings from '@/components/settings/AccessibilitySettings'\n\nexport const Route = createFileRoute('/_protected/accessibility')({\n component: AccessibilitySettings,\n})\n\n"],"names":["getPrefs","res","savePrefs","p","AccessibilitySettings","prefs","setPrefs","useState","saving","setSaving","useEffect","update","patch","next","jsx","e","jsxs","SplitComponent"],"mappings":"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"}